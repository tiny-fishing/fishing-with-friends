var _SETTINGS={API:{Enabled:!1,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}},Ad:{Mobile:{Preroll:{Enabled:!1,Duration:5,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGamePreroll:40,MobileAdInGamePreroll2:40,MobileAdInGamePreroll3:20}}},Header:{Enabled:!1,Duration:5,Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameHeader:40,MobileAdInGameHeader2:40,MobileAdInGameHeader3:20}}},Footer:{Enabled:!1,Duration:5,Width:320,Height:50,
Rotation:{Enabled:!1,Weight:{MobileAdInGameFooter:40,MobileAdInGameFooter2:40,MobileAdInGameFooter3:20}}},End:{Enabled:!1,Duration:1,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGameEnd:40,MobileAdInGameEnd2:40,MobileAdInGameEnd3:20}}}}},Language:{Default:"en"},DeveloperBranding:{Splash:{Enabled:!1},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:!1},Logo:{Enabled:!0,Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,
Width:166,Height:61}},MoreGames:{Enabled:!1,Link:"http://www.marketjs.com/game/links/mobile",NewWindow:!0}};var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},End:{ReadyIn:"Advertisement ends in ",Loading:"Please wait ...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none",TapToStart:"TAP TO START"},Game:{Ready:"Ready",Go:"Go!!!",Botnames:"cody95 RuSSeLL Brian F3LIX james07 charlesss michael KEVIN nich0las steven DaviD william18 scott jessesmith eric108 SHODAN Bender Johnny5 WALL-E HAL-9000 Astroboy C-3PO THOR Zorro Dracoola ashley91 REbEcCa Jessica KAT13 jeanxo kathrynnn rose DIANE nic0le christina22 lisa amanda19 JoycE tinacook julie404 EDI Ada EVE Siri Ava GLaDOS KITT Kira bubbles caroline".split(" "),
Offline:"Offline",UsersOnline:"Users Online",UserOnline:"User Online",BlueCoinText:["Take this coin","to make a vortex"],ResultPlace:["You got 1st place!","You got 2nd place!","You got 3rd place!","You got 4th place!"],RapidFire:"RAPID FIRE",Exploding:"EXPLODING NET",Vortex:"OCEAN VORTEX",TimesUp:"Time's Up!",LeaveGame:" has leave the game"}};var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.Preroll.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Preroll.Rotation.Weight,c=b.MobileAdInGamePreroll,d=
c+b.MobileAdInGamePreroll2,b=d+b.MobileAdInGamePreroll3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGamePreroll":e<=d?this.selectedOverlayName="MobileAdInGamePreroll2":e<=b&&(this.selectedOverlayName="MobileAdInGamePreroll3");console.log("Ad rotating preroll enabled")}else this.selectedOverlayName="MobileAdInGamePreroll",console.log("Ad rotating preroll disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);
this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-
this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+c+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);c--;0>c&&(clearInterval(d),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),
MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Header.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Header.Rotation.Weight,c=b.MobileAdInGameHeader,d=c+b.MobileAdInGameHeader2,b=d+b.MobileAdInGameHeader3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameHeader":e<=d?this.selectedOverlayName="MobileAdInGameHeader2":
e<=b&&(this.selectedOverlayName="MobileAdInGameHeader3");console.log("Ad rotating header enabled")}else this.selectedOverlayName="MobileAdInGameHeader",console.log("Ad rotating header disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(b){var c=setInterval(function(){b--;
0>b&&(MobileAdInGameHeader.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Footer.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Footer.Rotation.Weight,c=b.MobileAdInGameFooter,d=c+b.MobileAdInGameFooter2,b=d+b.MobileAdInGameFooter3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameFooter":e<=d?this.selectedOverlayName="MobileAdInGameFooter2":
e<=b&&(this.selectedOverlayName="MobileAdInGameFooter3");console.log("Ad rotating footer enabled")}else this.selectedOverlayName="MobileAdInGameFooter",console.log("Ad rotating footer disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=setInterval(function(){b--;0>b&&(MobileAdInGameFooter.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.End.ReadyIn,loading:_STRINGS.Ad.Mobile.End.Loading,close:_STRINGS.Ad.Mobile.End.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.End.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.End.Rotation.Weight,c=b.MobileAdInGameEnd,d=c+b.MobileAdInGameEnd2,b=d+b.MobileAdInGameEnd3,
e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameEnd":e<=d?this.selectedOverlayName="MobileAdInGameEnd2":e<=b&&(this.selectedOverlayName="MobileAdInGameEnd3");console.log("Ad rotating end enabled")}else this.selectedOverlayName="MobileAdInGameEnd",console.log("Ad rotating end disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");
this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+c+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);c--;0>c&&(clearInterval(d),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();
this.overlay.hide()}};!function(b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?c(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return c(b)}:c(b)}("undefined"!=typeof window?window:this,function(b,c){function d(b,c){c=c||C;var d=c.createElement("script");d.text=b;c.head.appendChild(d).parentNode.removeChild(d)}function e(b){var c=!!b&&"length"in b&&b.length,d=n.type(b);return"function"!==d&&!n.isWindow(b)&&("array"===d||0===c||"number"==
typeof c&&0<c&&c-1 in b)}function f(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()}function g(b,c,d){return n.isFunction(c)?n.grep(b,function(b,D){return!!c.call(b,D,b)!==d}):c.nodeType?n.grep(b,function(b){return b===c!==d}):"string"!=typeof c?n.grep(b,function(b){return-1<fa.call(c,b)!==d}):Dc.test(c)?n.filter(c,b,d):(c=n.filter(c,b),n.grep(b,function(b){return-1<fa.call(c,b)!==d&&1===b.nodeType}))}function l(b,c){for(;(b=b[c])&&1!==b.nodeType;);return b}function m(b){return b}
function j(b){throw b;}function p(b,c,d,e){var f;try{b&&n.isFunction(f=b.promise)?f.call(b).done(c).fail(d):b&&n.isFunction(f=b.then)?f.call(b,c,d):c.apply(void 0,[b].slice(e))}catch(j){d.apply(void 0,[j])}}function q(){C.removeEventListener("DOMContentLoaded",q);b.removeEventListener("load",q);n.ready()}function r(){this.expando=n.expando+r.uid++}function s(b,c,d){var e;if(void 0===d&&1===b.nodeType)if(e="data-"+c.replace(Ec,"-$&").toLowerCase(),d=b.getAttribute(e),"string"==typeof d){try{d="true"===
d||"false"!==d&&("null"===d?null:d===+d+""?+d:Fc.test(d)?JSON.parse(d):d)}catch(f){}da.set(b,c,d)}else d=void 0;return d}function t(b,c,d,e){var f,j=1,g=20,p=e?function(){return e.cur()}:function(){return n.css(b,c,"")},q=p(),m=d&&d[3]||(n.cssNumber[c]?"":"px"),l=(n.cssNumber[c]||"px"!==m&&+q)&&Pa.exec(n.css(b,c));if(l&&l[3]!==m){m=m||l[3];d=d||[];l=+q||1;do j=j||".5",l/=j,n.style(b,c,l+m);while(j!==(j=p()/q)&&1!==j&&--g)}return d&&(l=+l||+q||0,f=d[1]?l+(d[1]+1)*d[2]:+d[2],e&&(e.unit=m,e.start=l,
e.end=f)),f}function y(b,c){for(var d,e,f=[],j=0,g=b.length;j<g;j++)if(e=b[j],e.style)if(d=e.style.display,c){if("none"===d&&(f[j]=F.get(e,"display")||null,f[j]||(e.style.display="")),""===e.style.display&&Ya(e)){d=f;var p=j,q,l=void 0;q=e.ownerDocument;var m=e.nodeName;q=(e=Nb[m])?e:(l=q.body.appendChild(q.createElement(m)),e=n.css(l,"display"),l.parentNode.removeChild(l),"none"===e&&(e="block"),Nb[m]=e,e);d[p]=q}}else"none"!==d&&(f[j]="none",F.set(e,"display",d));for(j=0;j<g;j++)null!=f[j]&&(b[j].style.display=
f[j]);return b}function u(b,c){var d;return d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(c||"*"):[],void 0===c||c&&f(b,c)?n.merge([b],d):d}function A(b,c){for(var d=0,e=b.length;d<e;d++)F.set(b[d],"globalEval",!c||F.get(c[d],"globalEval"))}function B(b,c,d,e,f){for(var j,g,p,q,l=c.createDocumentFragment(),m=[],t=0,y=b.length;t<y;t++)if(j=b[t],j||0===j)if("object"===n.type(j))n.merge(m,j.nodeType?[j]:j);else if(Gc.test(j)){g=
g||l.appendChild(c.createElement("div"));p=(Ob.exec(j)||["",""])[1].toLowerCase();p=ha[p]||ha._default;g.innerHTML=p[1]+n.htmlPrefilter(j)+p[2];for(p=p[0];p--;)g=g.lastChild;n.merge(m,g.childNodes);g=l.firstChild;g.textContent=""}else m.push(c.createTextNode(j));l.textContent="";for(t=0;j=m[t++];)if(e&&-1<n.inArray(j,e))f&&f.push(j);else if(q=n.contains(j.ownerDocument,j),g=u(l.appendChild(j),"script"),q&&A(g),d)for(p=0;j=g[p++];)Pb.test(j.type||"")&&d.push(j);return l}function ea(){return!0}function E(){return!1}
function G(){try{return C.activeElement}catch(b){}}function N(b,c,d,e,f,j){var g,p;if("object"==typeof c){"string"!=typeof d&&(e=e||d,d=void 0);for(p in c)N(b,p,d,e,c[p],j);return b}if(null==e&&null==f?(f=d,e=d=void 0):null==f&&("string"==typeof d?(f=e,e=void 0):(f=e,e=d,d=void 0)),!1===f)f=E;else if(!f)return b;return 1===j&&(g=f,f=function(b){return n().off(b),g.apply(this,arguments)},f.guid=g.guid||(g.guid=n.guid++)),b.each(function(){n.event.add(this,c,f,e,d)})}function H(b,c){return f(b,"table")&&
f(11!==c.nodeType?c:c.firstChild,"tr")?n(">tbody",b)[0]||b:b}function I(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function U(b){var c=Hc.exec(b.type);return c?b.type=c[1]:b.removeAttribute("type"),b}function T(b,c){var d,e,f,j,g,p;if(1===c.nodeType){if(F.hasData(b)&&(d=F.access(b),e=F.set(c,d),p=d.events))for(f in delete e.handle,e.events={},p){d=0;for(e=p[f].length;d<e;d++)n.event.add(c,f,p[f][d])}da.hasData(b)&&(j=da.access(b),g=n.extend({},j),da.set(c,g))}}function V(b,c,e,
f){c=Qb.apply([],c);var j,g,p,q,l=0,m=b.length,t=m-1,y=c[0],r=n.isFunction(y);if(r||1<m&&"string"==typeof y&&!O.checkClone&&Ic.test(y))return b.each(function(d){var j=b.eq(d);r&&(c[0]=y.call(this,d,j.html()));V(j,c,e,f)});if(m&&(j=B(c,b[0].ownerDocument,!1,b,f),g=j.firstChild,1===j.childNodes.length&&(j=g),g||f)){g=n.map(u(j,"script"),I);for(p=g.length;l<m;l++)q=j,l!==t&&(q=n.clone(q,!0,!0),p&&n.merge(g,u(q,"script"))),e.call(b[l],q,l);if(p){j=g[g.length-1].ownerDocument;n.map(g,U);for(l=0;l<p;l++)q=
g[l],Pb.test(q.type||"")&&!F.access(q,"globalEval")&&n.contains(j,q)&&(q.src?n._evalUrl&&n._evalUrl(q.src):d(q.textContent.replace(Kc,""),j))}}return b}function ub(b,c,d){for(var e=c?n.filter(c,b):b,f=0;null!=(c=e[f]);f++)d||1!==c.nodeType||n.cleanData(u(c)),c.parentNode&&(d&&n.contains(c.ownerDocument,c)&&A(u(c,"script")),c.parentNode.removeChild(c));return b}function oa(b,c,d){var e,f,j,g,p=b.style;return d=d||Za(b),d&&(g=d.getPropertyValue(c)||d[c],""!==g||n.contains(b.ownerDocument,b)||(g=n.style(b,
c)),!O.pixelMarginRight()&&vb.test(g)&&Rb.test(c)&&(e=p.width,f=p.minWidth,j=p.maxWidth,p.minWidth=p.maxWidth=p.width=g,g=d.width,p.width=e,p.minWidth=f,p.maxWidth=j)),void 0!==g?g+"":g}function ia(b,c){return{get:function(){return b()?void delete this.get:(this.get=c).apply(this,arguments)}}}function $a(b){var c=n.cssProps[b];if(!c){var c=n.cssProps,d;a:if(d=b,!(d in Sb)){for(var e=d[0].toUpperCase()+d.slice(1),f=Tb.length;f--;)if(d=Tb[f]+e,d in Sb)break a;d=void 0}c=c[b]=d||b}return c}function wa(b,
c,d){return(b=Pa.exec(c))?Math.max(0,b[2]-(d||0))+(b[3]||"px"):c}function ab(b,c,d,e,f){var j=0;for(c=d===(e?"border":"content")?4:"width"===c?1:0;4>c;c+=2)"margin"===d&&(j+=n.css(b,d+Ba[c],!0,f)),e?("content"===d&&(j-=n.css(b,"padding"+Ba[c],!0,f)),"margin"!==d&&(j-=n.css(b,"border"+Ba[c]+"Width",!0,f))):(j+=n.css(b,"padding"+Ba[c],!0,f),"padding"!==d&&(j+=n.css(b,"border"+Ba[c]+"Width",!0,f)));return j}function ja(b,c,d){var e,f=Za(b),j=oa(b,c,f),g="border-box"===n.css(b,"boxSizing",!1,f);return vb.test(j)?
j:(e=g&&(O.boxSizingReliable()||j===b.style[c]),"auto"===j&&(j=b["offset"+c[0].toUpperCase()+c.slice(1)]),j=parseFloat(j)||0,j+ab(b,c,d||(g?"border":"content"),e,f)+"px")}function W(b,c,d,e,f){return new W.prototype.init(b,c,d,e,f)}function Ca(){bb&&(!1===C.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(Ca):b.setTimeout(Ca,n.fx.interval),n.fx.tick())}function cb(){return b.setTimeout(function(){Ja=void 0}),Ja=n.now()}function Ka(b,c){var d,e=0,f={height:b};for(c=c?1:0;4>e;e+=2-c)d=Ba[e],
f["margin"+d]=f["padding"+d]=b;return c&&(f.opacity=f.width=b),f}function z(b,c,d){for(var e,f=(aa.tweeners[c]||[]).concat(aa.tweeners["*"]),j=0,g=f.length;j<g;j++)if(e=f[j].call(d,c,b))return e}function aa(b,c,d){var e,f,j=0,g=aa.prefilters.length,p=n.Deferred().always(function(){delete q.elem}),q=function(){if(f)return!1;for(var c=Ja||cb(),c=Math.max(0,l.startTime+l.duration-c),d=1-(c/l.duration||0),e=0,j=l.tweens.length;e<j;e++)l.tweens[e].run(d);return p.notifyWith(b,[l,d,c]),1>d&&j?c:(j||p.notifyWith(b,
[l,1,0]),p.resolveWith(b,[l]),!1)},l=p.promise({elem:b,props:n.extend({},c),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},d),originalProperties:c,originalOptions:d,startTime:Ja||cb(),duration:d.duration,tweens:[],createTween:function(c,d){var e=n.Tween(b,l.opts,c,d,l.opts.specialEasing[c]||l.opts.easing);return l.tweens.push(e),e},stop:function(c){var d=0,e=c?l.tweens.length:0;if(f)return this;for(f=!0;d<e;d++)l.tweens[d].run(1);return c?(p.notifyWith(b,[l,1,0]),p.resolveWith(b,[l,
c])):p.rejectWith(b,[l,c]),this}});c=l.props;d=l.opts.specialEasing;var m,t,y,r;for(e in c)if(m=n.camelCase(e),t=d[m],y=c[e],Array.isArray(y)&&(t=y[1],y=c[e]=y[0]),e!==m&&(c[m]=y,delete c[e]),r=n.cssHooks[m],r&&"expand"in r)for(e in y=r.expand(y),delete c[m],y)e in c||(c[e]=y[e],d[e]=t);else d[m]=t;for(;j<g;j++)if(e=aa.prefilters[j].call(l,b,c,l.opts))return n.isFunction(e.stop)&&(n._queueHooks(l.elem,l.opts.queue).stop=n.proxy(e.stop,e)),e;return n.map(c,z,l),n.isFunction(l.opts.start)&&l.opts.start.call(b,
l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),n.fx.timer(n.extend(q,{elem:b,anim:l,queue:l.opts.queue})),l}function M(b){return(b.match(ka)||[]).join(" ")}function ba(b){return b.getAttribute&&b.getAttribute("class")||""}function Da(b,c,d,e){var f;if(Array.isArray(c))n.each(c,function(c,f){d||Lc.test(b)?e(b,f):Da(b+"["+("object"==typeof f&&null!=f?c:"")+"]",f,d,e)});else if(d||"object"!==n.type(c))e(b,c);else for(f in c)Da(b+"["+f+"]",c[f],
d,e)}function Qa(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,f=0,j=c.toLowerCase().match(ka)||[];if(n.isFunction(d))for(;e=j[f++];)"+"===e[0]?(e=e.slice(1)||"*",(b[e]=b[e]||[]).unshift(d)):(b[e]=b[e]||[]).push(d)}}function Ra(b,c,d,e){function f(p){var l;return j[p]=!0,n.each(b[p]||[],function(b,D){var p=D(c,d,e);return"string"!=typeof p||g||j[p]?g?!(l=p):void 0:(c.dataTypes.unshift(p),f(p),!1)}),l}var j={},g=b===wb;return f(c.dataTypes[0])||!j["*"]&&f("*")}function X(b,c){var d,
e,f=n.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);return e&&n.extend(!0,b,e),b}var Y=[],C=b.document,xb=Object.getPrototypeOf,Ea=Y.slice,Qb=Y.concat,ca=Y.push,fa=Y.indexOf,db={},Ub=db.toString,eb=db.hasOwnProperty,Vb=eb.toString,Mc=Vb.call(Object),O={},n=function(b,c){return new n.fn.init(b,c)},Nc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Oc=/^-ms-/,Pc=/-([a-z])/g,Qc=function(b,c){return c.toUpperCase()};n.fn=n.prototype={jquery:"3.2.1",constructor:n,length:0,toArray:function(){return Ea.call(this)},
get:function(b){return null==b?Ea.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=n.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return n.each(this,b)},map:function(b){return this.pushStack(n.map(this,function(c,d){return b.call(c,d,c)}))},slice:function(){return this.pushStack(Ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var c=this.length;b=+b+(0>b?c:0);return this.pushStack(0<=b&&
b<c?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:ca,sort:Y.sort,splice:Y.splice};n.extend=n.fn.extend=function(){var b,c,d,e,f,j,g=arguments[0]||{},p=1,l=arguments.length,q=!1;"boolean"==typeof g&&(q=g,g=arguments[p]||{},p++);"object"==typeof g||n.isFunction(g)||(g={});for(p===l&&(g=this,p--);p<l;p++)if(null!=(b=arguments[p]))for(c in b)d=g[c],e=b[c],g!==e&&(q&&e&&(n.isPlainObject(e)||(f=Array.isArray(e)))?(f?(f=!1,j=d&&Array.isArray(d)?d:[]):j=d&&n.isPlainObject(d)?
d:{},g[c]=n.extend(q,j,e)):void 0!==e&&(g[c]=e));return g};n.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===n.type(b)},isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){var c=n.type(b);return("number"===c||"string"===c)&&!isNaN(b-parseFloat(b))},isPlainObject:function(b){var c,d;return!(!b||"[object Object]"!==Ub.call(b))&&(!(c=xb(b))||(d=eb.call(c,"constructor")&&
c.constructor,"function"==typeof d&&Vb.call(d)===Mc))},isEmptyObject:function(b){for(var c in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?db[Ub.call(b)]||"object":typeof b},globalEval:function(b){d(b)},camelCase:function(b){return b.replace(Oc,"ms-").replace(Pc,Qc)},each:function(b,c){var d,f=0;if(e(b))for(d=b.length;f<d&&!1!==c.call(b[f],f,b[f]);f++);else for(f in b)if(!1===c.call(b[f],f,b[f]))break;return b},trim:function(b){return null==b?
"":(b+"").replace(Nc,"")},makeArray:function(b,c){var d=c||[];return null!=b&&(e(Object(b))?n.merge(d,"string"==typeof b?[b]:b):ca.call(d,b)),d},inArray:function(b,c,d){return null==c?-1:fa.call(c,b,d)},merge:function(b,c){for(var d=+c.length,e=0,f=b.length;e<d;e++)b[f++]=c[e];return b.length=f,b},grep:function(b,c,d){for(var e=[],f=0,j=b.length,g=!d;f<j;f++)d=!c(b[f],f),d!==g&&e.push(b[f]);return e},map:function(b,c,d){var f,j,g=0,p=[];if(e(b))for(f=b.length;g<f;g++)j=c(b[g],g,d),null!=j&&p.push(j);
else for(g in b)j=c(b[g],g,d),null!=j&&p.push(j);return Qb.apply([],p)},guid:1,proxy:function(b,c){var d,e,f;if("string"==typeof c&&(d=b[c],c=b,b=d),n.isFunction(b))return e=Ea.call(arguments,2),f=function(){return b.apply(c||this,e.concat(Ea.call(arguments)))},f.guid=b.guid=b.guid||n.guid++,f},now:Date.now,support:O});"function"==typeof Symbol&&(n.fn[Symbol.iterator]=Y[Symbol.iterator]);n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,c){db["[object "+
c+"]"]=c.toLowerCase()});var xa,yb=b,L=function(b,c,d,e){var f,j,g,p,l,q=c&&c.ownerDocument,m=c?c.nodeType:9;if(d=d||[],"string"!=typeof b||!b||1!==m&&9!==m&&11!==m)return d;if(!e&&((c?c.ownerDocument||c:la)!==K&&ya(c),c=c||K,ma)){if(11!==m&&(p=Rc.exec(b)))if(f=p[1])if(9===m){if(!(j=c.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else{if(q&&(j=q.getElementById(f))&&Sa(c,j)&&j.id===f)return d.push(j),d}else{if(p[2])return za.apply(d,c.getElementsByTagName(b)),d;if((f=p[3])&&Q.getElementsByClassName&&
c.getElementsByClassName)return za.apply(d,c.getElementsByClassName(f)),d}if(Q.qsa&&!fb[b+" "]&&(!Z||!Z.test(b))){if(1!==m)q=c,l=b;else if("object"!==c.nodeName.toLowerCase()){(g=c.getAttribute("id"))?g=g.replace(Wb,Xb):c.setAttribute("id",g=P);j=Ta(b);for(f=j.length;f--;)j[f]="#"+g+" "+gb(j[f]);l=j.join(",");q=zb.test(b)&&Ab(c.parentNode)||c}if(l)try{return za.apply(d,q.querySelectorAll(l)),d}catch(n){}finally{g===P&&c.removeAttribute("id")}}}return Yb(b.replace(hb,"$1"),c,d,e)},Bb=function(){function b(d,
e){return c.push(d+" ")>J.cacheLength&&delete b[c.shift()],b[d+" "]=e}var c=[];return b},pa=function(b){return b[P]=!0,b},ra=function(b){var c=K.createElement("fieldset");try{return!!b(c)}catch(d){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}},Cb=function(b,c){for(var d=b.split("|"),e=d.length;e--;)J.attrHandle[d[e]]=c},Zb=function(b,c){var d=c&&b,e=d&&1===b.nodeType&&1===c.nodeType&&b.sourceIndex-c.sourceIndex;if(e)return e;if(d)for(;d=d.nextSibling;)if(d===c)return-1;return b?1:-1},
Sc=function(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}},Tc=function(b){return function(c){var d=c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===b}},$b=function(b){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===b:c.disabled===b:c.isDisabled===b||c.isDisabled!==!b&&Uc(c)===b:c.disabled===b:"label"in c&&c.disabled===b}},Fa=function(b){return pa(function(c){return c=+c,pa(function(d,
e){for(var f,j=b([],d.length,c),g=j.length;g--;)d[f=j[g]]&&(d[f]=!(e[f]=d[f]))})})},Ab=function(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b},ac=function(){},gb=function(b){for(var c=0,d=b.length,e="";c<d;c++)e+=b[c].value;return e},ib=function(b,c,d){var e=c.dir,f=c.next,j=f||e,g=d&&"parentNode"===j,p=Vc++;return c.first?function(c,d,f){for(;c=c[e];)if(1===c.nodeType||g)return b(c,d,f);return!1}:function(c,d,R){var l,q,m,S=[sa,p];if(R)for(;c=c[e];){if((1===c.nodeType||g)&&b(c,d,R))return!0}else for(;c=
c[e];)if(1===c.nodeType||g)if(m=c[P]||(c[P]={}),q=m[c.uniqueID]||(m[c.uniqueID]={}),f&&f===c.nodeName.toLowerCase())c=c[e]||c;else{if((l=q[j])&&l[0]===sa&&l[1]===p)return S[2]=l[2];if(q[j]=S,S[2]=b(c,d,R))return!0}return!1}},Db=function(b){return 1<b.length?function(c,d,e){for(var f=b.length;f--;)if(!b[f](c,d,e))return!1;return!0}:b[0]},jb=function(b,c,d,e,f){for(var j,g=[],p=0,l=b.length,q=null!=c;p<l;p++)(j=b[p])&&(d&&!d(j,e,f)||(g.push(j),q&&c.push(p)));return g},Eb=function(b,c,d,e,f,j){return e&&
!e[P]&&(e=Eb(e)),f&&!f[P]&&(f=Eb(f,j)),pa(function(j,g,p,l){var q,m,n=[],t=[],y=g.length,r;if(!(r=j)){r=c||"*";for(var s=p.nodeType?[p]:p,Mb=[],u=0,A=s.length;u<A;u++)L(r,s[u],Mb);r=Mb}r=!b||!j&&c?r:jb(r,n,b,p,l);s=d?f||(j?b:y||e)?[]:g:r;if(d&&d(r,s,p,l),e){q=jb(s,t);e(q,[],p,l);for(p=q.length;p--;)(m=q[p])&&(s[t[p]]=!(r[t[p]]=m))}if(j){if(f||b){if(f){q=[];for(p=s.length;p--;)(m=s[p])&&q.push(r[p]=m);f(null,s=[],q,l)}for(p=s.length;p--;)(m=s[p])&&-1<(q=f?Ga(j,m):n[p])&&(j[q]=!(g[q]=m))}}else s=jb(s===
g?s.splice(y,s.length):s),f?f(null,g,s,l):za.apply(g,s)})},Fb=function(b){var c,d,e,f=b.length,j=J.relative[b[0].type];d=j||J.relative[" "];for(var g=j?1:0,p=ib(function(b){return b===c},d,!0),l=ib(function(b){return-1<Ga(c,b)},d,!0),q=[function(b,d,e){b=!j&&(e||d!==kb)||((c=d).nodeType?p(b,d,e):l(b,d,e));return c=null,b}];g<f;g++)if(d=J.relative[b[g].type])q=[ib(Db(q),d)];else{if(d=J.filter[b[g].type].apply(null,b[g].matches),d[P]){for(e=++g;e<f&&!J.relative[b[e].type];e++);return Eb(1<g&&Db(q),
1<g&&gb(b.slice(0,g-1).concat({value:" "===b[g-2].type?"*":""})).replace(hb,"$1"),d,g<e&&Fb(b.slice(g,e)),e<f&&Fb(b=b.slice(e)),e<f&&gb(b))}q.push(d)}return Db(q)},La,Q,J,lb,bc,Ta,Gb,Yb,kb,Aa,Ma,ya,K,na,ma,Z,Ha,mb,Sa,P="sizzle"+1*new Date,la=yb.document,sa=0,Vc=0,cc=Bb(),dc=Bb(),fb=Bb(),Hb=function(b,c){return b===c&&(Ma=!0),0},Wc={}.hasOwnProperty,Ia=[],Xc=Ia.pop,Yc=Ia.push,za=Ia.push,ec=Ia.slice,Ga=function(b,c){for(var d=0,e=b.length;d<e;d++)if(b[d]===c)return d;return-1},Zc=/[\x20\t\r\n\f]+/g,
hb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,$c=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ad=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,bd=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,cd=RegExp(":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
dd=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,nb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},ed=/^(?:input|select|textarea|button)$/i,fd=/^h\d$/i,Ua=/^[^{]+\{\s*\[native \w/,Rc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,zb=/[+~]/,ta=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ua=function(b,c,d){b="0x"+c-65536;return b!==b||d?c:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},Wb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Xb=function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},fc=function(){ya()},
Uc=ib(function(b){return!0===b.disabled&&("form"in b||"label"in b)},{dir:"parentNode",next:"legend"});try{za.apply(Ia=ec.call(la.childNodes),la.childNodes),Ia[la.childNodes.length].nodeType}catch(Id){za={apply:Ia.length?function(b,c){Yc.apply(b,ec.call(c))}:function(b,c){for(var d=b.length,e=0;b[d++]=c[e++];);b.length=d-1}}}Q=L.support={};bc=L.isXML=function(b){b=b&&(b.ownerDocument||b).documentElement;return!!b&&"HTML"!==b.nodeName};ya=L.setDocument=function(b){var c,d;b=b?b.ownerDocument||b:la;
return b!==K&&9===b.nodeType&&b.documentElement?(K=b,na=K.documentElement,ma=!bc(K),la!==K&&(d=K.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",fc,!1):d.attachEvent&&d.attachEvent("onunload",fc)),Q.attributes=ra(function(b){return b.className="i",!b.getAttribute("className")}),Q.getElementsByTagName=ra(function(b){return b.appendChild(K.createComment("")),!b.getElementsByTagName("*").length}),Q.getElementsByClassName=Ua.test(K.getElementsByClassName),Q.getById=ra(function(b){return na.appendChild(b).id=
P,!K.getElementsByName||!K.getElementsByName(P).length}),Q.getById?(J.filter.ID=function(b){var c=b.replace(ta,ua);return function(b){return b.getAttribute("id")===c}},J.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&ma){var d=c.getElementById(b);return d?[d]:[]}}):(J.filter.ID=function(b){var c=b.replace(ta,ua);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===c}},J.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&
ma){var d,e,f,j=c.getElementById(b);if(j){if(d=j.getAttributeNode("id"),d&&d.value===b)return[j];f=c.getElementsByName(b);for(e=0;j=f[e++];)if(d=j.getAttributeNode("id"),d&&d.value===b)return[j]}return[]}}),J.find.TAG=Q.getElementsByTagName?function(b,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b):Q.qsa?c.querySelectorAll(b):void 0}:function(b,c){var d,e=[],f=0,j=c.getElementsByTagName(b);if("*"===b){for(;d=j[f++];)1===d.nodeType&&e.push(d);return e}return j},J.find.CLASS=
Q.getElementsByClassName&&function(b,c){if("undefined"!=typeof c.getElementsByClassName&&ma)return c.getElementsByClassName(b)},Ha=[],Z=[],(Q.qsa=Ua.test(K.querySelectorAll))&&(ra(function(b){na.appendChild(b).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&Z.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||Z.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll("[id~="+P+"-]").length||Z.push("~=");b.querySelectorAll(":checked").length||Z.push(":checked");b.querySelectorAll("a#"+P+"+*").length||Z.push(".#.+[+~]")}),ra(function(b){b.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var c=K.createElement("input");c.setAttribute("type","hidden");b.appendChild(c).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&Z.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==b.querySelectorAll(":enabled").length&&
Z.push(":enabled",":disabled");na.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&Z.push(":enabled",":disabled");b.querySelectorAll("*,:x");Z.push(",.*:")})),(Q.matchesSelector=Ua.test(mb=na.matches||na.webkitMatchesSelector||na.mozMatchesSelector||na.oMatchesSelector||na.msMatchesSelector))&&ra(function(b){Q.disconnectedMatch=mb.call(b,"*");mb.call(b,"[s!='']:x");Ha.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
Z=Z.length&&RegExp(Z.join("|")),Ha=Ha.length&&RegExp(Ha.join("|")),c=Ua.test(na.compareDocumentPosition),Sa=c||Ua.test(na.contains)?function(b,c){var d=9===b.nodeType?b.documentElement:b,e=c&&c.parentNode;return b===e||!(!e||1!==e.nodeType||!(d.contains?d.contains(e):b.compareDocumentPosition&&16&b.compareDocumentPosition(e)))}:function(b,c){if(c)for(;c=c.parentNode;)if(c===b)return!0;return!1},Hb=c?function(b,c){if(b===c)return Ma=!0,0;var d=!b.compareDocumentPosition-!c.compareDocumentPosition;
return d?d:(d=(b.ownerDocument||b)===(c.ownerDocument||c)?b.compareDocumentPosition(c):1,1&d||!Q.sortDetached&&c.compareDocumentPosition(b)===d?b===K||b.ownerDocument===la&&Sa(la,b)?-1:c===K||c.ownerDocument===la&&Sa(la,c)?1:Aa?Ga(Aa,b)-Ga(Aa,c):0:4&d?-1:1)}:function(b,c){if(b===c)return Ma=!0,0;var d,e=0;d=b.parentNode;var f=c.parentNode,j=[b],D=[c];if(!d||!f)return b===K?-1:c===K?1:d?-1:f?1:Aa?Ga(Aa,b)-Ga(Aa,c):0;if(d===f)return Zb(b,c);for(d=b;d=d.parentNode;)j.unshift(d);for(d=c;d=d.parentNode;)D.unshift(d);
for(;j[e]===D[e];)e++;return e?Zb(j[e],D[e]):j[e]===la?-1:D[e]===la?1:0},K):K};L.matches=function(b,c){return L(b,null,null,c)};L.matchesSelector=function(b,c){if((b.ownerDocument||b)!==K&&ya(b),c=c.replace(bd,"='$1']"),Q.matchesSelector&&ma&&!fb[c+" "]&&(!Ha||!Ha.test(c))&&(!Z||!Z.test(c)))try{var d=mb.call(b,c);if(d||Q.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(e){}return 0<L(c,K,null,[b]).length};L.contains=function(b,c){return(b.ownerDocument||b)!==K&&ya(b),Sa(b,c)};
L.attr=function(b,c){(b.ownerDocument||b)!==K&&ya(b);var d=J.attrHandle[c.toLowerCase()],d=d&&Wc.call(J.attrHandle,c.toLowerCase())?d(b,c,!ma):void 0;return void 0!==d?d:Q.attributes||!ma?b.getAttribute(c):(d=b.getAttributeNode(c))&&d.specified?d.value:null};L.escape=function(b){return(b+"").replace(Wb,Xb)};L.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};L.uniqueSort=function(b){var c,d=[],e=0,f=0;if(Ma=!Q.detectDuplicates,Aa=!Q.sortStable&&b.slice(0),b.sort(Hb),Ma){for(;c=
b[f++];)c===b[f]&&(e=d.push(f));for(;e--;)b.splice(d[e],1)}return Aa=null,b};lb=L.getText=function(b){var c,d="",e=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=lb(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[e++];)d+=lb(c);return d};J=L.selectors={cacheLength:50,createPseudo:pa,match:nb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ta,ua),b[3]=(b[3]||b[4]||b[5]||"").replace(ta,ua),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||L.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&L.error(b[0]),b},PSEUDO:function(b){var c,d=!b[6]&&b[2];return nb.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":d&&cd.test(d)&&
(c=Ta(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(b[0]=b[0].slice(0,c),b[2]=d.slice(0,c)),b.slice(0,3))}},filter:{TAG:function(b){var c=b.replace(ta,ua).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===c}},CLASS:function(b){var c=cc[b+" "];return c||(c=RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&cc(b,function(b){return c.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||
"")})},ATTR:function(b,c,d){return function(e){e=L.attr(e,b);return null==e?"!="===c:!c||(e+="","="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e.replace(Zc," ")+" ").indexOf(d):"|="===c&&(e===d||e.slice(0,d.length+1)===d+"-"))}},CHILD:function(b,c,d,e,f){var j="nth"!==b.slice(0,3),g="last"!==b.slice(-4),p="of-type"===c;return 1===e&&0===f?function(b){return!!b.parentNode}:function(c,d,R){var l,q,m,n,t,y;d=j!==
g?"nextSibling":"previousSibling";var S=c.parentNode,r=p&&c.nodeName.toLowerCase();R=!R&&!p;var s=!1;if(S){if(j){for(;d;){for(n=c;n=n[d];)if(p?n.nodeName.toLowerCase()===r:1===n.nodeType)return!1;y=d="only"===b&&!y&&"nextSibling"}return!0}if(y=[g?S.firstChild:S.lastChild],g&&R){n=S;m=n[P]||(n[P]={});q=m[n.uniqueID]||(m[n.uniqueID]={});l=q[b]||[];s=(t=l[0]===sa&&l[1])&&l[2];for(n=t&&S.childNodes[t];n=++t&&n&&n[d]||(s=t=0)||y.pop();)if(1===n.nodeType&&++s&&n===c){q[b]=[sa,t,s];break}}else if(R&&(n=
c,m=n[P]||(n[P]={}),q=m[n.uniqueID]||(m[n.uniqueID]={}),l=q[b]||[],t=l[0]===sa&&l[1],s=t),!1===s)for(;(n=++t&&n&&n[d]||(s=t=0)||y.pop())&&(!(p?n.nodeName.toLowerCase()===r:1===n.nodeType)||!++s||!(R&&(m=n[P]||(n[P]={}),q=m[n.uniqueID]||(m[n.uniqueID]={}),q[b]=[sa,s]),n===c)););return s-=f,s===e||0===s%e&&0<=s/e}}},PSEUDO:function(b,c){var d,e=J.pseudos[b]||J.setFilters[b.toLowerCase()]||L.error("unsupported pseudo: "+b);return e[P]?e(c):1<e.length?(d=[b,b,"",c],J.setFilters.hasOwnProperty(b.toLowerCase())?
pa(function(b,d){for(var f,j=e(b,c),D=j.length;D--;)f=Ga(b,j[D]),b[f]=!(d[f]=j[D])}):function(b){return e(b,0,d)}):e}},pseudos:{not:pa(function(b){var c=[],d=[],e=Gb(b.replace(hb,"$1"));return e[P]?pa(function(b,c,d,f){var j;d=e(b,null,f,[]);for(f=b.length;f--;)(j=d[f])&&(b[f]=!(c[f]=j))}):function(b,f,j){return c[0]=b,e(c,null,j,d),c[0]=null,!d.pop()}}),has:pa(function(b){return function(c){return 0<L(b,c).length}}),contains:pa(function(b){return b=b.replace(ta,ua),function(c){return-1<(c.textContent||
c.innerText||lb(c)).indexOf(b)}}),lang:pa(function(b){return dd.test(b||"")||L.error("unsupported lang: "+b),b=b.replace(ta,ua).toLowerCase(),function(c){var d;do if(d=ma?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return d=d.toLowerCase(),d===b||0===d.indexOf(b+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(b){var c=yb.location&&yb.location.hash;return c&&c.slice(1)===b.id},root:function(b){return b===na},focus:function(b){return b===K.activeElement&&(!K.hasFocus||
K.hasFocus())&&!(!b.type&&!b.href&&!~b.tabIndex)},enabled:$b(!1),disabled:$b(!0),checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!J.pseudos.empty(b)},header:function(b){return fd.test(b.nodeName)},input:function(b){return ed.test(b.nodeName)},
button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===b.type||"button"===c},text:function(b){var c;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(c=b.getAttribute("type"))||"text"===c.toLowerCase())},first:Fa(function(){return[0]}),last:Fa(function(b,c){return[c-1]}),eq:Fa(function(b,c,d){return[0>d?d+c:d]}),even:Fa(function(b,c){for(var d=0;d<c;d+=2)b.push(d);return b}),odd:Fa(function(b,c){for(var d=1;d<c;d+=2)b.push(d);return b}),lt:Fa(function(b,c,
d){for(c=0>d?d+c:d;0<=--c;)b.push(c);return b}),gt:Fa(function(b,c,d){for(d=0>d?d+c:d;++d<c;)b.push(d);return b})}};J.pseudos.nth=J.pseudos.eq;for(La in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})J.pseudos[La]=Sc(La);for(La in{submit:!0,reset:!0})J.pseudos[La]=Tc(La);ac.prototype=J.filters=J.pseudos;J.setFilters=new ac;Ta=L.tokenize=function(b,c){var d,e,f,j,g,p,l;if(g=dc[b+" "])return c?0:g.slice(0);g=b;p=[];for(l=J.preFilter;g;){d&&!(e=$c.exec(g))||(e&&(g=g.slice(e[0].length)||g),p.push(f=
[]));d=!1;(e=ad.exec(g))&&(d=e.shift(),f.push({value:d,type:e[0].replace(hb," ")}),g=g.slice(d.length));for(j in J.filter)!(e=nb[j].exec(g))||l[j]&&!(e=l[j](e))||(d=e.shift(),f.push({value:d,type:j,matches:e}),g=g.slice(d.length));if(!d)break}return c?g.length:g?L.error(b):dc(b,p).slice(0)};xa=(Gb=L.compile=function(b,c){var d,e=[],f=[],j=fb[b+" "];if(!j){c||(c=Ta(b));for(d=c.length;d--;)j=Fb(c[d]),j[P]?e.push(j):f.push(j);d=fb;var g=0<e.length,p=0<f.length,j=function(b,c,d,j,D){var l,q,m,R=0,n="0",
t=b&&[],y=[],r=kb,S=b||p&&J.find.TAG("*",D),s=sa+=null==r?1:Math.random()||0.1,u=S.length;for(D&&(kb=c===K||c||D);n!==u&&null!=(l=S[n]);n++){if(p&&l){q=0;for(c||l.ownerDocument===K||(ya(l),d=!ma);m=f[q++];)if(m(l,c||K,d)){j.push(l);break}D&&(sa=s)}g&&((l=!m&&l)&&R--,b&&t.push(l))}if(R+=n,g&&n!==R){for(q=0;m=e[q++];)m(t,y,c,d);if(b){if(0<R)for(;n--;)t[n]||y[n]||(y[n]=Xc.call(j));y=jb(y)}za.apply(j,y);D&&!b&&0<y.length&&1<R+e.length&&L.uniqueSort(j)}return D&&(sa=s,kb=r),t},j=g?pa(j):j,j=d(b,j);j.selector=
b}return j},Yb=L.select=function(b,c,d,e){var f,j,g,p,l,q="function"==typeof b&&b,m=!e&&Ta(b=q.selector||b);if(d=d||[],1===m.length){if(j=m[0]=m[0].slice(0),2<j.length&&"ID"===(g=j[0]).type&&9===c.nodeType&&ma&&J.relative[j[1].type]){if(c=(J.find.ID(g.matches[0].replace(ta,ua),c)||[])[0],!c)return d;q&&(c=c.parentNode);b=b.slice(j.shift().value.length)}for(f=nb.needsContext.test(b)?0:j.length;f--&&!(g=j[f],J.relative[p=g.type]);)if((l=J.find[p])&&(e=l(g.matches[0].replace(ta,ua),zb.test(j[0].type)&&
Ab(c.parentNode)||c))){if(j.splice(f,1),b=e.length&&gb(j),!b)return za.apply(d,e),d;break}}return(q||Gb(b,m))(e,c,!ma,d,!c||zb.test(b)&&Ab(c.parentNode)||c),d},Q.sortStable=P.split("").sort(Hb).join("")===P,Q.detectDuplicates=!!Ma,ya(),Q.sortDetached=ra(function(b){return 1&b.compareDocumentPosition(K.createElement("fieldset"))}),ra(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||Cb("type|href|height|width",function(b,c,d){if(!d)return b.getAttribute(c,
"type"===c.toLowerCase()?1:2)}),Q.attributes&&ra(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||Cb("value",function(b,c,d){if(!d&&"input"===b.nodeName.toLowerCase())return b.defaultValue}),ra(function(b){return null==b.getAttribute("disabled")})||Cb("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,c,d){var e;if(!d)return!0===b[c]?c.toLowerCase():
(e=b.getAttributeNode(c))&&e.specified?e.value:null}),L);n.find=xa;n.expr=xa.selectors;n.expr[":"]=n.expr.pseudos;n.uniqueSort=n.unique=xa.uniqueSort;n.text=xa.getText;n.isXMLDoc=xa.isXML;n.contains=xa.contains;n.escapeSelector=xa.escape;var Na=function(b,c,d){for(var e=[],f=void 0!==d;(b=b[c])&&9!==b.nodeType;)if(1===b.nodeType){if(f&&n(b).is(d))break;e.push(b)}return e},gc=function(b,c){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==c&&d.push(b);return d},hc=n.expr.match.needsContext,ic=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
Dc=/^.[^:#\[\.,]*$/;n.filter=function(b,c,d){var e=c[0];return d&&(b=":not("+b+")"),1===c.length&&1===e.nodeType?n.find.matchesSelector(e,b)?[e]:[]:n.find.matches(b,n.grep(c,function(b){return 1===b.nodeType}))};n.fn.extend({find:function(b){var c,d,e=this.length,f=this;if("string"!=typeof b)return this.pushStack(n(b).filter(function(){for(c=0;c<e;c++)if(n.contains(f[c],this))return!0}));d=this.pushStack([]);for(c=0;c<e;c++)n.find(b,f[c],d);return 1<e?n.uniqueSort(d):d},filter:function(b){return this.pushStack(g(this,
b||[],!1))},not:function(b){return this.pushStack(g(this,b||[],!0))},is:function(b){return!!g(this,"string"==typeof b&&hc.test(b)?n(b):b||[],!1).length}});var jc,gd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(n.fn.init=function(b,c,d){var e,f;if(!b)return this;if(d=d||jc,"string"==typeof b){if(e="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:gd.exec(b),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(b):this.constructor(c).find(b);if(e[1]){if(c=c instanceof n?c[0]:c,n.merge(this,n.parseHTML(e[1],
c&&c.nodeType?c.ownerDocument||c:C,!0)),ic.test(e[1])&&n.isPlainObject(c))for(e in c)n.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return f=C.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):n.isFunction(b)?void 0!==d.ready?d.ready(b):b(n):n.makeArray(b,this)}).prototype=n.fn;jc=n(C);var hd=/^(?:parents|prev(?:Until|All))/,id={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(b){var c=n(b,this),d=c.length;
return this.filter(function(){for(var b=0;b<d;b++)if(n.contains(this,c[b]))return!0})},closest:function(b,c){var d,e=0,f=this.length,j=[],g="string"!=typeof b&&n(b);if(!hc.test(b))for(;e<f;e++)for(d=this[e];d&&d!==c;d=d.parentNode)if(11>d.nodeType&&(g?-1<g.index(d):1===d.nodeType&&n.find.matchesSelector(d,b))){j.push(d);break}return this.pushStack(1<j.length?n.uniqueSort(j):j)},index:function(b){return b?"string"==typeof b?fa.call(n(b),this[0]):fa.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(b,c){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(b,c))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});n.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return Na(b,"parentNode")},parentsUntil:function(b,c,d){return Na(b,"parentNode",d)},next:function(b){return l(b,"nextSibling")},prev:function(b){return l(b,"previousSibling")},nextAll:function(b){return Na(b,
"nextSibling")},prevAll:function(b){return Na(b,"previousSibling")},nextUntil:function(b,c,d){return Na(b,"nextSibling",d)},prevUntil:function(b,c,d){return Na(b,"previousSibling",d)},siblings:function(b){return gc((b.parentNode||{}).firstChild,b)},children:function(b){return gc(b.firstChild)},contents:function(b){return f(b,"iframe")?b.contentDocument:(f(b,"template")&&(b=b.content||b),n.merge([],b.childNodes))}},function(b,c){n.fn[b]=function(d,e){var f=n.map(this,c,d);return"Until"!==b.slice(-5)&&
(e=d),e&&"string"==typeof e&&(f=n.filter(e,f)),1<this.length&&(id[b]||n.uniqueSort(f),hd.test(b)&&f.reverse()),this.pushStack(f)}});var ka=/[^\x20\t\r\n\f]+/g;n.Callbacks=function(b){var c;if("string"==typeof b){var d={};c=(n.each(b.match(ka)||[],function(b,c){d[c]=!0}),d)}else c=n.extend({},b);b=c;var e,f,j,g,p=[],l=[],q=-1,m=function(){g=g||b.once;for(j=e=!0;l.length;q=-1)for(f=l.shift();++q<p.length;)!1===p[q].apply(f[0],f[1])&&b.stopOnFalse&&(q=p.length,f=!1);b.memory||(f=!1);e=!1;g&&(p=f?[]:
"")},t={add:function(){return p&&(f&&!e&&(q=p.length-1,l.push(f)),function Jc(c){n.each(c,function(c,d){n.isFunction(d)?b.unique&&t.has(d)||p.push(d):d&&d.length&&"string"!==n.type(d)&&Jc(d)})}(arguments),f&&!e&&m()),this},remove:function(){return n.each(arguments,function(b,c){for(var d;-1<(d=n.inArray(c,p,d));)p.splice(d,1),d<=q&&q--}),this},has:function(b){return b?-1<n.inArray(b,p):0<p.length},empty:function(){return p&&(p=[]),this},disable:function(){return g=l=[],p=f="",this},disabled:function(){return!p},
lock:function(){return g=l=[],f||e||(p=f=""),this},locked:function(){return!!g},fireWith:function(b,c){return g||(c=c||[],c=[b,c.slice?c.slice():c],l.push(c),e||m()),this},fire:function(){return t.fireWith(this,arguments),this},fired:function(){return!!j}};return t};n.extend({Deferred:function(c){var d=[["notify","progress",n.Callbacks("memory"),n.Callbacks("memory"),2],["resolve","done",n.Callbacks("once memory"),n.Callbacks("once memory"),0,"resolved"],["reject","fail",n.Callbacks("once memory"),
n.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){return g.done(arguments).fail(arguments),this},"catch":function(b){return f.then(null,b)},pipe:function(){var b=arguments;return n.Deferred(function(c){n.each(d,function(d,e){var f=n.isFunction(b[e[4]])&&b[e[4]];g[e[1]](function(){var b=f&&f.apply(this,arguments);b&&n.isFunction(b.promise)?b.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[e[0]+"With"](this,f?[b]:arguments)})});b=null}).promise()},
then:function(c,e,f){function g(c,d,e,f){return function(){var D=this,l=arguments,q=function(){var b,q;if(!(c<p)){if(b=e.apply(D,l),b===d.promise())throw new TypeError("Thenable self-resolution");q=b&&("object"==typeof b||"function"==typeof b)&&b.then;n.isFunction(q)?f?q.call(b,g(p,d,m,f),g(p,d,j,f)):(p++,q.call(b,g(p,d,m,f),g(p,d,j,f),g(p,d,m,d.notifyWith))):(e!==m&&(D=void 0,l=[b]),(f||d.resolveWith)(D,l))}},t=f?q:function(){try{q()}catch(b){n.Deferred.exceptionHook&&n.Deferred.exceptionHook(b,
t.stackTrace),c+1>=p&&(e!==j&&(D=void 0,l=[b]),d.rejectWith(D,l))}};c?t():(n.Deferred.getStackHook&&(t.stackTrace=n.Deferred.getStackHook()),b.setTimeout(t))}}var p=0;return n.Deferred(function(b){d[0][3].add(g(0,b,n.isFunction(f)?f:m,b.notifyWith));d[1][3].add(g(0,b,n.isFunction(c)?c:m));d[2][3].add(g(0,b,n.isFunction(e)?e:j))}).promise()},promise:function(b){return null!=b?n.extend(b,f):f}},g={};return n.each(d,function(b,c){var j=c[2],p=c[5];f[c[1]]=j.add;p&&j.add(function(){e=p},d[3-b][2].disable,
d[0][2].lock);j.add(c[3].fire);g[c[0]]=function(){return g[c[0]+"With"](this===g?void 0:this,arguments),this};g[c[0]+"With"]=j.fireWith}),f.promise(g),c&&c.call(g,g),g},when:function(b){var c=arguments.length,d=c,e=Array(d),f=Ea.call(arguments),j=n.Deferred(),g=function(b){return function(d){e[b]=this;f[b]=1<arguments.length?Ea.call(arguments):d;--c||j.resolveWith(e,f)}};if(1>=c&&(p(b,j.done(g(d)).resolve,j.reject,!c),"pending"===j.state()||n.isFunction(f[d]&&f[d].then)))return j.then();for(;d--;)p(f[d],
g(d),j.reject);return j.promise()}});var jd=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;n.Deferred.exceptionHook=function(c,d){b.console&&b.console.warn&&c&&jd.test(c.name)&&b.console.warn("jQuery.Deferred exception: "+c.message,c.stack,d)};n.readyException=function(c){b.setTimeout(function(){throw c;})};var Ib=n.Deferred();n.fn.ready=function(b){return Ib.then(b)["catch"](function(b){n.readyException(b)}),this};n.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--n.readyWait:
n.isReady)||(n.isReady=!0,!0!==b&&0<--n.readyWait||Ib.resolveWith(C,[n]))}});n.ready.then=Ib.then;"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?b.setTimeout(n.ready):(C.addEventListener("DOMContentLoaded",q),b.addEventListener("load",q));var va=function(b,c,d,e,f,j,g){var p=0,l=b.length,q=null==d;if("object"===n.type(d))for(p in f=!0,d)va(b,c,p,d[p],!0,j,g);else if(void 0!==e&&(f=!0,n.isFunction(e)||(g=!0),q&&(g?(c.call(b,e),c=null):(q=c,c=function(b,c,d){return q.call(n(b),
d)})),c))for(;p<l;p++)c(b[p],d,g?e:e.call(b[p],p,c(b[p],d)));return f?b:q?c.call(b):l?c(b[0],d):j},ob=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};r.uid=1;r.prototype={cache:function(b){var c=b[this.expando];return c||(c={},ob(b)&&(b.nodeType?b[this.expando]=c:Object.defineProperty(b,this.expando,{value:c,configurable:!0}))),c},set:function(b,c,d){var e;b=this.cache(b);if("string"==typeof c)b[n.camelCase(c)]=d;else for(e in c)b[n.camelCase(e)]=c[e];return b},get:function(b,c){return void 0===
c?this.cache(b):b[this.expando]&&b[this.expando][n.camelCase(c)]},access:function(b,c,d){return void 0===c||c&&"string"==typeof c&&void 0===d?this.get(b,c):(this.set(b,c,d),void 0!==d?d:c)},remove:function(b,c){var d,e=b[this.expando];if(void 0!==e){if(void 0!==c){Array.isArray(c)?c=c.map(n.camelCase):(c=n.camelCase(c),c=c in e?[c]:c.match(ka)||[]);for(d=c.length;d--;)delete e[c[d]]}(void 0===c||n.isEmptyObject(e))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=
b[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var F=new r,da=new r,Fc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ec=/[A-Z]/g;n.extend({hasData:function(b){return da.hasData(b)||F.hasData(b)},data:function(b,c,d){return da.access(b,c,d)},removeData:function(b,c){da.remove(b,c)},_data:function(b,c,d){return F.access(b,c,d)},_removeData:function(b,c){F.remove(b,c)}});n.fn.extend({data:function(b,c){var d,e,f,j=this[0],g=j&&j.attributes;if(void 0===b){if(this.length&&(f=da.get(j),1===j.nodeType&&!F.get(j,
"hasDataAttrs"))){for(d=g.length;d--;)g[d]&&(e=g[d].name,0===e.indexOf("data-")&&(e=n.camelCase(e.slice(5)),s(j,e,f[e])));F.set(j,"hasDataAttrs",!0)}return f}return"object"==typeof b?this.each(function(){da.set(this,b)}):va(this,function(c){var d;if(j&&void 0===c){if((d=da.get(j,b),void 0!==d)||(d=s(j,b),void 0!==d))return d}else this.each(function(){da.set(this,b,c)})},null,c,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){da.remove(this,b)})}});n.extend({queue:function(b,
c,d){var e;if(b)return c=(c||"fx")+"queue",e=F.get(b,c),d&&(!e||Array.isArray(d)?e=F.access(b,c,n.makeArray(d)):e.push(d)),e||[]},dequeue:function(b,c){c=c||"fx";var d=n.queue(b,c),e=d.length,f=d.shift(),j=n._queueHooks(b,c),g=function(){n.dequeue(b,c)};"inprogress"===f&&(f=d.shift(),e--);f&&("fx"===c&&d.unshift("inprogress"),delete j.stop,f.call(b,g,j));!e&&j&&j.empty.fire()},_queueHooks:function(b,c){var d=c+"queueHooks";return F.get(b,d)||F.access(b,d,{empty:n.Callbacks("once memory").add(function(){F.remove(b,
[c+"queue",d])})})}});n.fn.extend({queue:function(b,c){var d=2;return"string"!=typeof b&&(c=b,b="fx",d--),arguments.length<d?n.queue(this[0],b):void 0===c?this:this.each(function(){var d=n.queue(this,b,c);n._queueHooks(this,b);"fx"===b&&"inprogress"!==d[0]&&n.dequeue(this,b)})},dequeue:function(b){return this.each(function(){n.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,c){var d,e=1,f=n.Deferred(),j=this,g=this.length,p=function(){--e||f.resolveWith(j,
[j])};"string"!=typeof b&&(c=b,b=void 0);for(b=b||"fx";g--;)(d=F.get(j[g],b+"queueHooks"))&&d.empty&&(e++,d.empty.add(p));return p(),f.promise(c)}});var kc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pa=RegExp("^(?:([+-])=|)("+kc+")([a-z%]*)$","i"),Ba=["Top","Right","Bottom","Left"],Ya=function(b,c){return b=c||b,"none"===b.style.display||""===b.style.display&&n.contains(b.ownerDocument,b)&&"none"===n.css(b,"display")},lc=function(b,c,d,e){var f,j={};for(f in c)j[f]=b.style[f],b.style[f]=c[f];d=
d.apply(b,e||[]);for(f in c)b.style[f]=j[f];return d},Nb={};n.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Ya(this)?n(this).show():n(this).hide()})}});var mc=/^(?:checkbox|radio)$/i,Ob=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Pb=/^$|\/(?:java|ecma)script/i,ha={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],
tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option;ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead;ha.th=ha.td;var Gc=/<|&#?\w+;/,pb=C.createDocumentFragment().appendChild(C.createElement("div")),qb=C.createElement("input");qb.setAttribute("type","radio");qb.setAttribute("checked","checked");qb.setAttribute("name","t");pb.appendChild(qb);O.checkClone=pb.cloneNode(!0).cloneNode(!0).lastChild.checked;pb.innerHTML=
"<textarea>x</textarea>";O.noCloneChecked=!!pb.cloneNode(!0).lastChild.defaultValue;!0;var rb=C.documentElement,kd=/^key/,ld=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nc=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(b,c,d,e,f){var j,g,p,l,q,m,t,y,r,s;if(q=F.get(b)){d.handler&&(j=d,d=j.handler,f=j.selector);f&&n.find.matchesSelector(rb,f);d.guid||(d.guid=n.guid++);(l=q.events)||(l=q.events={});(g=q.handle)||(g=q.handle=function(c){return"undefined"!=typeof n&&n.event.triggered!==c.type?
n.event.dispatch.apply(b,arguments):void 0});c=(c||"").match(ka)||[""];for(q=c.length;q--;)p=nc.exec(c[q])||[],r=s=p[1],p=(p[2]||"").split(".").sort(),r&&(t=n.event.special[r]||{},r=(f?t.delegateType:t.bindType)||r,t=n.event.special[r]||{},m=n.extend({type:r,origType:s,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&n.expr.match.needsContext.test(f),namespace:p.join(".")},j),(y=l[r])||(y=l[r]=[],y.delegateCount=0,t.setup&&!1!==t.setup.call(b,e,p,g)||b.addEventListener&&b.addEventListener(r,
g)),t.add&&(t.add.call(b,m),m.handler.guid||(m.handler.guid=d.guid)),f?y.splice(y.delegateCount++,0,m):y.push(m),n.event.global[r]=!0)}},remove:function(b,c,d,e,f){var j,g,p,l,q,m,t,y,r,s,u,A=F.hasData(b)&&F.get(b);if(A&&(l=A.events)){c=(c||"").match(ka)||[""];for(q=c.length;q--;)if(p=nc.exec(c[q])||[],r=u=p[1],s=(p[2]||"").split(".").sort(),r){t=n.event.special[r]||{};r=(e?t.delegateType:t.bindType)||r;y=l[r]||[];p=p[2]&&RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=j=y.length;j--;)m=
y[j],!f&&u!==m.origType||d&&d.guid!==m.guid||p&&!p.test(m.namespace)||e&&e!==m.selector&&("**"!==e||!m.selector)||(y.splice(j,1),m.selector&&y.delegateCount--,t.remove&&t.remove.call(b,m));g&&!y.length&&(t.teardown&&!1!==t.teardown.call(b,s,A.handle)||n.removeEvent(b,r,A.handle),delete l[r])}else for(r in l)n.event.remove(b,r+c[q],d,e,!0);n.isEmptyObject(l)&&F.remove(b,"handle events")}},dispatch:function(b){var c=n.event.fix(b),d,e,f,j,g,p,l=Array(arguments.length);e=(F.get(this,"events")||{})[c.type]||
[];var q=n.event.special[c.type]||{};l[0]=c;for(d=1;d<arguments.length;d++)l[d]=arguments[d];if(c.delegateTarget=this,!q.preDispatch||!1!==q.preDispatch.call(this,c)){p=n.event.handlers.call(this,c,e);for(d=0;(j=p[d++])&&!c.isPropagationStopped();){c.currentTarget=j.elem;for(e=0;(g=j.handlers[e++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(g.namespace)||(c.handleObj=g,c.data=g.data,f=((n.event.special[g.origType]||{}).handle||g.handler).apply(j.elem,l),void 0!==f&&!1===
(c.result=f)&&(c.preventDefault(),c.stopPropagation()))}return q.postDispatch&&q.postDispatch.call(this,c),c.result}},handlers:function(b,c){var d,e,f,j,g,p=[],l=c.delegateCount,q=b.target;if(l&&q.nodeType&&!("click"===b.type&&1<=b.button))for(;q!==this;q=q.parentNode||this)if(1===q.nodeType&&("click"!==b.type||!0!==q.disabled)){j=[];g={};for(d=0;d<l;d++)e=c[d],f=e.selector+" ",void 0===g[f]&&(g[f]=e.needsContext?-1<n(f,this).index(q):n.find(f,this,null,[q]).length),g[f]&&j.push(e);j.length&&p.push({elem:q,
handlers:j})}return q=this,l<c.length&&p.push({elem:q,handlers:c.slice(l)}),p},addProp:function(b,c){Object.defineProperty(n.Event.prototype,b,{enumerable:!0,configurable:!0,get:n.isFunction(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(c){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(b){return b[n.expando]?b:new n.Event(b)},special:{load:{noBubble:!0},
focus:{trigger:function(){if(this!==G()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===G()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(b){return f(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};n.removeEvent=function(b,c,d){b.removeEventListener&&
b.removeEventListener(c,d)};n.Event=function(b,c){return this instanceof n.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?ea:E,this.target=b.target&&3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,c&&n.extend(this,c),this.timeStamp=b&&b.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(b,c)};n.Event.prototype=
{constructor:n.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=ea;b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=ea;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=ea;b&&!this.isSimulated&&b.stopImmediatePropagation();
this.stopPropagation()}};n.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(b){var c=b.button;return null==b.which&&kd.test(b.type)?null!=b.charCode?b.charCode:b.keyCode:!b.which&&void 0!==c&&ld.test(b.type)?
1&c?1:2&c?3:4&c?2:0:b.which}},n.event.addProp);n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,c){n.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=b.relatedTarget,f=b.handleObj;return e&&(e===this||n.contains(this,e))||(b.type=f.origType,d=f.handler.apply(this,arguments),b.type=c),d}}});n.fn.extend({on:function(b,c,d,e){return N(this,b,c,d,e)},one:function(b,c,d,e){return N(this,b,c,d,e,1)},off:function(b,
c,d){var e,f;if(b&&b.preventDefault&&b.handleObj)return e=b.handleObj,n(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof b){for(f in b)this.off(f,c,b[f]);return this}return!1!==c&&"function"!=typeof c||(d=c,c=void 0),!1===d&&(d=E),this.each(function(){n.event.remove(this,b,d,c)})}});var md=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nd=/<script|<style|<link/i,Ic=/checked\s*(?:[^=]|=\s*.checked.)/i,
Hc=/^true\/(.*)/,Kc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(b){return b.replace(md,"<$1></$2>")},clone:function(b,c,d){var e,f,j,g,p=b.cloneNode(!0),l=n.contains(b.ownerDocument,b);if(!O.noCloneChecked&&!(1!==b.nodeType&&11!==b.nodeType||n.isXMLDoc(b))){g=u(p);j=u(b);e=0;for(f=j.length;e<f;e++){var q=j[e],m=g[e],t=m.nodeName.toLowerCase();"input"===t&&mc.test(q.type)?m.checked=q.checked:"input"!==t&&"textarea"!==t||(m.defaultValue=q.defaultValue)}}if(c)if(d){j=
j||u(b);g=g||u(p);e=0;for(f=j.length;e<f;e++)T(j[e],g[e])}else T(b,p);return g=u(p,"script"),0<g.length&&A(g,!l&&u(b,"script")),p},cleanData:function(b){for(var c,d,e,f=n.event.special,j=0;void 0!==(d=b[j]);j++)if(ob(d)){if(c=d[F.expando]){if(c.events)for(e in c.events)f[e]?n.event.remove(d,e):n.removeEvent(d,e,c.handle);d[F.expando]=void 0}d[da.expando]&&(d[da.expando]=void 0)}}});n.fn.extend({detach:function(b){return ub(this,b,!0)},remove:function(b){return ub(this,b)},text:function(b){return va(this,
function(b){return void 0===b?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return V(this,arguments,function(b){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&H(this,b).appendChild(b)})},prepend:function(){return V(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=H(this,b);c.insertBefore(b,c.firstChild)}})},before:function(){return V(this,
arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return V(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,c=0;null!=(b=this[c]);c++)1===b.nodeType&&(n.cleanData(u(b,!1)),b.textContent="");return this},clone:function(b,c){return b=null!=b&&b,c=null==c?b:c,this.map(function(){return n.clone(this,b,c)})},html:function(b){return va(this,function(b){var c=this[0]||{},d=0,e=this.length;
if(void 0===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof b&&!nd.test(b)&&!ha[(Ob.exec(b)||["",""])[1].toLowerCase()]){b=n.htmlPrefilter(b);try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(n.cleanData(u(c,!1)),c.innerHTML=b);c=0}catch(f){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return V(this,arguments,function(c){var d=this.parentNode;0>n.inArray(this,b)&&(n.cleanData(u(this)),d&&d.replaceChild(c,this))},b)}});n.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){n.fn[b]=function(b){for(var d=[],e=n(b),f=e.length-1,j=0;j<=f;j++)b=j===f?this:this.clone(!0),n(e[j])[c](b),ca.apply(d,b.get());return this.pushStack(d)}});var Rb=/^margin/,vb=RegExp("^("+kc+")(?!px)[a-z%]+$","i"),Za=function(c){var d=c.ownerDocument.defaultView;return d&&d.opener||(d=b),d.getComputedStyle(c)},tb=function(){if(qa){qa.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
qa.innerHTML="";rb.appendChild(sb);var c=b.getComputedStyle(qa);oc="1%"!==c.top;pc="2px"===c.marginLeft;qc="4px"===c.width;qa.style.marginRight="50%";rc="4px"===c.marginRight;rb.removeChild(sb);qa=null}},oc,qc,rc,pc,sb=C.createElement("div"),qa=C.createElement("div");qa.style&&(qa.style.backgroundClip="content-box",qa.cloneNode(!0).style.backgroundClip="",O.clearCloneStyle="content-box"===qa.style.backgroundClip,sb.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
sb.appendChild(qa),n.extend(O,{pixelPosition:function(){return tb(),oc},boxSizingReliable:function(){return tb(),qc},pixelMarginRight:function(){return tb(),rc},reliableMarginLeft:function(){return tb(),pc}}));!0;var od=/^(none|table(?!-c[ea]).+)/,sc=/^--/,pd={position:"absolute",visibility:"hidden",display:"block"},tc={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","Moz","ms"],Sb=C.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(b,c){if(c){var d=oa(b,"opacity");return""===
d?"1":d}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,c,d,e){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var f,j,g,p=n.camelCase(c),l=sc.test(c),q=b.style;return l||(c=$a(p)),g=n.cssHooks[c]||n.cssHooks[p],void 0===d?g&&"get"in g&&void 0!==(f=g.get(b,!1,e))?f:q[c]:(j=typeof d,"string"===j&&(f=Pa.exec(d))&&f[1]&&
(d=t(b,c,f),j="number"),null!=d&&d===d&&("number"===j&&(d+=f&&f[3]||(n.cssNumber[p]?"":"px")),O.clearCloneStyle||""!==d||0!==c.indexOf("background")||(q[c]="inherit"),g&&"set"in g&&void 0===(d=g.set(b,d,e))||(l?q.setProperty(c,d):q[c]=d)),void 0)}},css:function(b,c,d,e){var f,j,g,p=n.camelCase(c);return sc.test(c)||(c=$a(p)),g=n.cssHooks[c]||n.cssHooks[p],g&&"get"in g&&(f=g.get(b,!0,d)),void 0===f&&(f=oa(b,c,e)),"normal"===f&&c in tc&&(f=tc[c]),""===d||d?(j=parseFloat(f),!0===d||isFinite(j)?j||0:
f):f}});n.each(["height","width"],function(b,c){n.cssHooks[c]={get:function(b,d,e){if(d)return!od.test(n.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?ja(b,c,e):lc(b,pd,function(){return ja(b,c,e)})},set:function(b,d,e){var f,j=e&&Za(b);e=e&&ab(b,c,e,"border-box"===n.css(b,"boxSizing",!1,j),j);return e&&(f=Pa.exec(d))&&"px"!==(f[3]||"px")&&(b.style[c]=d,d=n.css(b,c)),wa(b,d,e)}}});n.cssHooks.marginLeft=ia(O.reliableMarginLeft,function(b,c){if(c)return(parseFloat(oa(b,
"marginLeft"))||b.getBoundingClientRect().left-lc(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"});n.each({margin:"",padding:"",border:"Width"},function(b,c){n.cssHooks[b+c]={expand:function(d){var e=0,f={};for(d="string"==typeof d?d.split(" "):[d];4>e;e++)f[b+Ba[e]+c]=d[e]||d[e-2]||d[0];return f}};Rb.test(b)||(n.cssHooks[b+c].set=wa)});n.fn.extend({css:function(b,c){return va(this,function(b,c,d){var e,f={},j=0;if(Array.isArray(c)){d=Za(b);for(e=c.length;j<e;j++)f[c[j]]=
n.css(b,c[j],!1,d);return f}return void 0!==d?n.style(b,c,d):n.css(b,c)},b,c,1<arguments.length)}});n.Tween=W;W.prototype={constructor:W,init:function(b,c,d,e,f,j){this.elem=b;this.prop=d;this.easing=f||n.easing._default;this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=j||(n.cssNumber[d]?"":"px")},cur:function(){var b=W.propHooks[this.prop];return b&&b.get?b.get(this):W.propHooks._default.get(this)},run:function(b){var c,d=W.propHooks[this.prop];return this.options.duration?this.pos=
c=n.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):W.propHooks._default.set(this),this}};W.prototype.init.prototype=W.prototype;W.propHooks={_default:{get:function(b){var c;return 1!==b.elem.nodeType||null!=b.elem[b.prop]&&null==b.elem.style[b.prop]?b.elem[b.prop]:(c=n.css(b.elem,b.prop,""),c&&"auto"!==c?c:0)},set:function(b){n.fx.step[b.prop]?
n.fx.step[b.prop](b):1!==b.elem.nodeType||null==b.elem.style[n.cssProps[b.prop]]&&!n.cssHooks[b.prop]?b.elem[b.prop]=b.now:n.style(b.elem,b.prop,b.now+b.unit)}}};W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};n.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2},_default:"swing"};n.fx=W.prototype.init;n.fx.step={};var Ja,bb,qd=/^(?:toggle|show|hide)$/,rd=/queueHooks$/;n.Animation=n.extend(aa,
{tweeners:{"*":[function(b,c){var d=this.createTween(b,c);return t(d.elem,b,Pa.exec(c),d),d}]},tweener:function(b,c){n.isFunction(b)?(c=b,b=["*"]):b=b.match(ka);for(var d,e=0,f=b.length;e<f;e++)d=b[e],aa.tweeners[d]=aa.tweeners[d]||[],aa.tweeners[d].unshift(c)},prefilters:[function(b,c,d){var e,f,j,g,p,q,l,m,t="width"in c||"height"in c,r=this,s={},u=b.style,A=b.nodeType&&Ya(b),B=F.get(b,"fxshow");d.queue||(g=n._queueHooks(b,"fx"),null==g.unqueued&&(g.unqueued=0,p=g.empty.fire,g.empty.fire=function(){g.unqueued||
p()}),g.unqueued++,r.always(function(){r.always(function(){g.unqueued--;n.queue(b,"fx").length||g.empty.fire()})}));for(e in c)if(f=c[e],qd.test(f)){if(delete c[e],j=j||"toggle"===f,f===(A?"hide":"show")){if("show"!==f||!B||void 0===B[e])continue;A=!0}s[e]=B&&B[e]||n.style(b,e)}if(q=!n.isEmptyObject(c),q||!n.isEmptyObject(s))for(e in t&&1===b.nodeType&&(d.overflow=[u.overflow,u.overflowX,u.overflowY],l=B&&B.display,null==l&&(l=F.get(b,"display")),m=n.css(b,"display"),"none"===m&&(l?m=l:(y([b],!0),
l=b.style.display||l,m=n.css(b,"display"),y([b]))),("inline"===m||"inline-block"===m&&null!=l)&&"none"===n.css(b,"float")&&(q||(r.done(function(){u.display=l}),null==l&&(m=u.display,l="none"===m?"":m)),u.display="inline-block")),d.overflow&&(u.overflow="hidden",r.always(function(){u.overflow=d.overflow[0];u.overflowX=d.overflow[1];u.overflowY=d.overflow[2]})),q=!1,s)q||(B?"hidden"in B&&(A=B.hidden):B=F.access(b,"fxshow",{display:l}),j&&(B.hidden=!A),A&&y([b],!0),r.done(function(){A||y([b]);F.remove(b,
"fxshow");for(e in s)n.style(b,e,s[e])})),q=z(A?B[e]:0,e,r),e in B||(B[e]=q.start,A&&(q.end=q.start,q.start=0))}],prefilter:function(b,c){c?aa.prefilters.unshift(b):aa.prefilters.push(b)}});n.speed=function(b,c,d){var e=b&&"object"==typeof b?n.extend({},b):{complete:d||!d&&c||n.isFunction(b)&&b,duration:b,easing:d&&c||c&&!n.isFunction(c)&&c};return n.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in n.fx.speeds?e.duration=n.fx.speeds[e.duration]:e.duration=n.fx.speeds._default),null!=
e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){n.isFunction(e.old)&&e.old.call(this);e.queue&&n.dequeue(this,e.queue)},e};n.fn.extend({fadeTo:function(b,c,d,e){return this.filter(Ya).css("opacity",0).show().end().animate({opacity:c},b,d,e)},animate:function(b,c,d,e){var f=n.isEmptyObject(b),j=n.speed(c,d,e);c=function(){var c=aa(this,n.extend({},b),j);(f||F.get(this,"finish"))&&c.stop(!0)};return c.finish=c,f||!1===j.queue?this.each(c):this.queue(j.queue,c)},stop:function(b,
c,d){var e=function(b){var c=b.stop;delete b.stop;c(d)};return"string"!=typeof b&&(d=c,c=b,b=void 0),c&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var c=!0,f=null!=b&&b+"queueHooks",j=n.timers,g=F.get(this);if(f)g[f]&&g[f].stop&&e(g[f]);else for(f in g)g[f]&&g[f].stop&&rd.test(f)&&e(g[f]);for(f=j.length;f--;)j[f].elem!==this||null!=b&&j[f].queue!==b||(j[f].anim.stop(d),c=!1,j.splice(f,1));!c&&d||n.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var c,
d=F.get(this),e=d[b+"queue"];c=d[b+"queueHooks"];var f=n.timers,j=e?e.length:0;d.finish=!0;n.queue(this,b,[]);c&&c.stop&&c.stop.call(this,!0);for(c=f.length;c--;)f[c].elem===this&&f[c].queue===b&&(f[c].anim.stop(!0),f.splice(c,1));for(c=0;c<j;c++)e[c]&&e[c].finish&&e[c].finish.call(this);delete d.finish})}});n.each(["toggle","show","hide"],function(b,c){var d=n.fn[c];n.fn[c]=function(b,e,f){return null==b||"boolean"==typeof b?d.apply(this,arguments):this.animate(Ka(c,!0),b,e,f)}});n.each({slideDown:Ka("show"),
slideUp:Ka("hide"),slideToggle:Ka("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){n.fn[b]=function(b,d,e){return this.animate(c,b,d,e)}});n.timers=[];n.fx.tick=function(){var b,c=0,d=n.timers;for(Ja=n.now();c<d.length;c++)b=d[c],b()||d[c]!==b||d.splice(c--,1);d.length||n.fx.stop();Ja=void 0};n.fx.timer=function(b){n.timers.push(b);n.fx.start()};n.fx.interval=13;n.fx.start=function(){bb||(bb=!0,Ca())};n.fx.stop=function(){bb=null};n.fx.speeds=
{slow:600,fast:200,_default:400};n.fn.delay=function(c,d){return c=n.fx?n.fx.speeds[c]||c:c,d=d||"fx",this.queue(d,function(d,e){var f=b.setTimeout(d,c);e.stop=function(){b.clearTimeout(f)}})};var Oa=C.createElement("input"),sd=C.createElement("select").appendChild(C.createElement("option"));Oa.type="checkbox";O.checkOn=""!==Oa.value;O.optSelected=sd.selected;Oa=C.createElement("input");Oa.value="t";Oa.type="radio";O.radioValue="t"===Oa.value;var uc,Va=n.expr.attrHandle;n.fn.extend({attr:function(b,
c){return va(this,n.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){n.removeAttr(this,b)})}});n.extend({attr:function(b,c,d){var e,f,j=b.nodeType;if(3!==j&&8!==j&&2!==j)return"undefined"==typeof b.getAttribute?n.prop(b,c,d):(1===j&&n.isXMLDoc(b)||(f=n.attrHooks[c.toLowerCase()]||(n.expr.match.bool.test(c)?uc:void 0)),void 0!==d?null===d?void n.removeAttr(b,c):f&&"set"in f&&void 0!==(e=f.set(b,d,c))?e:(b.setAttribute(c,d+""),d):f&&"get"in f&&null!==(e=f.get(b,c))?e:
(e=n.find.attr(b,c),null==e?void 0:e))},attrHooks:{type:{set:function(b,c){if(!O.radioValue&&"radio"===c&&f(b,"input")){var d=b.value;return b.setAttribute("type",c),d&&(b.value=d),c}}}},removeAttr:function(b,c){var d,e=0,f=c&&c.match(ka);if(f&&1===b.nodeType)for(;d=f[e++];)b.removeAttribute(d)}});uc={set:function(b,c,d){return!1===c?n.removeAttr(b,d):b.setAttribute(d,d),d}};n.each(n.expr.match.bool.source.match(/\w+/g),function(b,c){var d=Va[c]||n.find.attr;Va[c]=function(b,c,e){var f,j,g=c.toLowerCase();
return e||(j=Va[g],Va[g]=f,f=null!=d(b,c,e)?g:null,Va[g]=j),f}});var td=/^(?:input|select|textarea|button)$/i,ud=/^(?:a|area)$/i;n.fn.extend({prop:function(b,c){return va(this,n.prop,b,c,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[n.propFix[b]||b]})}});n.extend({prop:function(b,c,d){var e,f,j=b.nodeType;if(3!==j&&8!==j&&2!==j)return 1===j&&n.isXMLDoc(b)||(c=n.propFix[c]||c,f=n.propHooks[c]),void 0!==d?f&&"set"in f&&void 0!==(e=f.set(b,d,c))?e:b[c]=d:f&&"get"in
f&&null!==(e=f.get(b,c))?e:b[c]},propHooks:{tabIndex:{get:function(b){var c=n.find.attr(b,"tabindex");return c?parseInt(c,10):td.test(b.nodeName)||ud.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});O.optSelected||(n.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){n.propFix[this.toLowerCase()]=this});n.fn.extend({addClass:function(b){var c,d,e,f,j,g,p=0;if(n.isFunction(b))return this.each(function(c){n(this).addClass(b.call(this,c,ba(this)))});if("string"==typeof b&&b)for(c=b.match(ka)||[];d=this[p++];)if(f=ba(d),e=1===d.nodeType&&" "+M(f)+" "){for(g=0;j=c[g++];)0>e.indexOf(" "+j+" ")&&(e+=j+" ");e=M(e);f!==e&&d.setAttribute("class",e)}return this},removeClass:function(b){var c,d,e,f,j,g,p=0;if(n.isFunction(b))return this.each(function(c){n(this).removeClass(b.call(this,
c,ba(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof b&&b)for(c=b.match(ka)||[];d=this[p++];)if(f=ba(d),e=1===d.nodeType&&" "+M(f)+" "){for(g=0;j=c[g++];)for(;-1<e.indexOf(" "+j+" ");)e=e.replace(" "+j+" "," ");e=M(e);f!==e&&d.setAttribute("class",e)}return this},toggleClass:function(b,c){var d=typeof b;return"boolean"==typeof c&&"string"===d?c?this.addClass(b):this.removeClass(b):n.isFunction(b)?this.each(function(d){n(this).toggleClass(b.call(this,d,ba(this),c),c)}):
this.each(function(){var c,e,f,j;if("string"===d){e=0;f=n(this);for(j=b.match(ka)||[];c=j[e++];)f.hasClass(c)?f.removeClass(c):f.addClass(c)}else void 0!==b&&"boolean"!==d||(c=ba(this),c&&F.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===b?"":F.get(this,"__className__")||""))})},hasClass:function(b){var c,d=0;for(b=" "+b+" ";c=this[d++];)if(1===c.nodeType&&-1<(" "+M(ba(c))+" ").indexOf(b))return!0;return!1}});var vd=/\r/g;n.fn.extend({val:function(b){var c,d,e,f=this[0];
if(arguments.length)return e=n.isFunction(b),this.each(function(d){var f;1===this.nodeType&&(f=e?b.call(this,d,n(this).val()):b,null==f?f="":"number"==typeof f?f+="":Array.isArray(f)&&(f=n.map(f,function(b){return null==b?"":b+""})),c=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,f,"value")||(this.value=f))});if(f)return c=n.valHooks[f.type]||n.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(d=c.get(f,"value"))?d:(d=f.value,"string"==typeof d?
d.replace(vd,""):null==d?"":d)}});n.extend({valHooks:{option:{get:function(b){var c=n.find.attr(b,"value");return null!=c?c:M(n.text(b))}},select:{get:function(b){var c,d,e=b.options,j=b.selectedIndex,g="select-one"===b.type,p=g?null:[],l=g?j+1:e.length;for(d=0>j?l:g?j:0;d<l;d++)if(c=e[d],(c.selected||d===j)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=n(c).val(),g)return b;p.push(b)}return p},set:function(b,c){for(var d,e,f=b.options,j=n.makeArray(c),g=f.length;g--;)e=
f[g],(e.selected=-1<n.inArray(n.valHooks.option.get(e),j))&&(d=!0);return d||(b.selectedIndex=-1),j}}}});n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(b,c){if(Array.isArray(c))return b.checked=-1<n.inArray(n(b).val(),c)}};O.checkOn||(n.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var vc=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(c,d,e,f){var j,g,p,l,q,m,t,y=[e||C],r=eb.call(c,"type")?c.type:c;j=eb.call(c,"namespace")?
c.namespace.split("."):[];if(g=p=e=e||C,3!==e.nodeType&&8!==e.nodeType&&!vc.test(r+n.event.triggered)&&(-1<r.indexOf(".")&&(j=r.split("."),r=j.shift(),j.sort()),q=0>r.indexOf(":")&&"on"+r,c=c[n.expando]?c:new n.Event(r,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=j.join("."),c.rnamespace=c.namespace?RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=e),d=null==d?[c]:n.makeArray(d,[c]),t=n.event.special[r]||{},f||!t.trigger||!1!==t.trigger.apply(e,
d))){if(!f&&!t.noBubble&&!n.isWindow(e)){l=t.delegateType||r;for(vc.test(l+r)||(g=g.parentNode);g;g=g.parentNode)y.push(g),p=g;p===(e.ownerDocument||C)&&y.push(p.defaultView||p.parentWindow||b)}for(j=0;(g=y[j++])&&!c.isPropagationStopped();)c.type=1<j?l:t.bindType||r,(m=(F.get(g,"events")||{})[c.type]&&F.get(g,"handle"))&&m.apply(g,d),(m=q&&g[q])&&m.apply&&ob(g)&&(c.result=m.apply(g,d),!1===c.result&&c.preventDefault());return c.type=r,f||c.isDefaultPrevented()||t._default&&!1!==t._default.apply(y.pop(),
d)||!ob(e)||q&&n.isFunction(e[r])&&!n.isWindow(e)&&(p=e[q],p&&(e[q]=null),n.event.triggered=r,e[r](),n.event.triggered=void 0,p&&(e[q]=p)),c.result}},simulate:function(b,c,d){b=n.extend(new n.Event,d,{type:b,isSimulated:!0});n.event.trigger(b,null,c)}});n.fn.extend({trigger:function(b,c){return this.each(function(){n.event.trigger(b,c,this)})},triggerHandler:function(b,c){var d=this[0];if(d)return n.event.trigger(b,c,d,!0)}});n.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(b,c){n.fn[c]=function(b,d){return 0<arguments.length?this.on(c,null,b,d):this.trigger(c)}});n.fn.extend({hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});O.focusin="onfocusin"in b;O.focusin||n.each({focus:"focusin",blur:"focusout"},function(b,c){var d=function(b){n.event.simulate(c,b.target,n.event.fix(b))};n.event.special[c]={setup:function(){var e=this.ownerDocument||this,f=F.access(e,c);f||e.addEventListener(b,d,!0);F.access(e,c,(f||0)+1)},teardown:function(){var e=this.ownerDocument||
this,f=F.access(e,c)-1;f?F.access(e,c,f):(e.removeEventListener(b,d,!0),F.remove(e,c))}}});var Wa=b.location,wc=n.now(),Jb=/\?/;n.parseXML=function(c){var d;if(!c||"string"!=typeof c)return null;try{d=(new b.DOMParser).parseFromString(c,"text/xml")}catch(e){d=void 0}return d&&!d.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+c),d};var Lc=/\[\]$/,xc=/\r?\n/g,wd=/^(?:submit|button|image|reset|file)$/i,xd=/^(?:input|select|textarea|keygen)/i;n.param=function(b,c){var d,e=[],f=function(b,
c){var d=n.isFunction(c)?c():c;e[e.length]=encodeURIComponent(b)+"="+encodeURIComponent(null==d?"":d)};if(Array.isArray(b)||b.jquery&&!n.isPlainObject(b))n.each(b,function(){f(this.name,this.value)});else for(d in b)Da(d,b[d],c,f);return e.join("&")};n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=n.prop(this,"elements");return b?n.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!n(this).is(":disabled")&&
xd.test(this.nodeName)&&!wd.test(b)&&(this.checked||!mc.test(b))}).map(function(b,c){var d=n(this).val();return null==d?null:Array.isArray(d)?n.map(d,function(b){return{name:c.name,value:b.replace(xc,"\r\n")}}):{name:c.name,value:d.replace(xc,"\r\n")}}).get()}});var yd=/%20/g,zd=/#.*$/,Ad=/([?&])_=[^&]*/,Bd=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cd=/^(?:GET|HEAD)$/,Dd=/^\/\//,yc={},wb={},zc="*/".concat("*"),Kb=C.createElement("a");Kb.href=Wa.href;n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wa.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,c){return c?X(X(b,n.ajaxSettings),c):X(n.ajaxSettings,b)},ajaxPrefilter:Qa(yc),ajaxTransport:Qa(wb),ajax:function(c,d){function e(c,d,p,q){var r,y,D,R,X=d;if(!m){m=!0;l&&b.clearTimeout(l);f=void 0;g=q||"";G.readyState=0<c?4:0;q=200<=c&&300>c||304===c;if(p){D=s;for(var Y=G,C,N,ca,H,I=D.contents,S=D.dataTypes;"*"===S[0];)S.shift(),void 0===C&&(C=D.mimeType||Y.getResponseHeader("Content-Type"));if(C)for(N in I)if(I[N]&&I[N].test(C)){S.unshift(N);
break}if(S[0]in p)ca=S[0];else{for(N in p){if(!S[0]||D.converters[N+" "+S[0]]){ca=N;break}H||(H=N)}ca=ca||H}p=ca?(ca!==S[0]&&S.unshift(ca),p[ca]):void 0;D=p}var T;a:{p=s;C=D;N=G;ca=q;var z,fa,U;D={};Y=p.dataTypes.slice();if(Y[1])for(z in p.converters)D[z.toLowerCase()]=p.converters[z];for(H=Y.shift();H;)if(p.responseFields[H]&&(N[p.responseFields[H]]=C),!U&&ca&&p.dataFilter&&(C=p.dataFilter(C,p.dataType)),U=H,H=Y.shift())if("*"===H)H=U;else if("*"!==U&&U!==H){if(z=D[U+" "+H]||D["* "+H],!z)for(T in D)if(fa=
T.split(" "),fa[1]===H&&(z=D[U+" "+fa[0]]||D["* "+fa[0]])){!0===z?z=D[T]:!0!==D[T]&&(H=fa[0],Y.unshift(fa[1]));break}if(!0!==z)if(z&&p["throws"])C=z(C);else try{C=z(C)}catch(xb){T={state:"parsererror",error:z?xb:"No conversion from "+U+" to "+H};break a}}T={state:"success",data:C}}D=T;q?(s.ifModified&&(R=G.getResponseHeader("Last-Modified"),R&&(n.lastModified[j]=R),R=G.getResponseHeader("etag"),R&&(n.etag[j]=R)),204===c||"HEAD"===s.type?X="nocontent":304===c?X="notmodified":(X=D.state,r=D.data,y=
D.error,q=!y)):(y=X,!c&&X||(X="error",0>c&&(c=0)));G.status=c;G.statusText=(d||X)+"";q?B.resolveWith(u,[r,X,G]):B.rejectWith(u,[G,X,y]);G.statusCode(E);E=void 0;t&&A.trigger(q?"ajaxSuccess":"ajaxError",[G,s,q?r:y]);ea.fireWith(u,[G,X]);t&&(A.trigger("ajaxComplete",[G,s]),--n.active||n.event.trigger("ajaxStop"))}}"object"==typeof c&&(d=c,c=void 0);d=d||{};var f,j,g,p,l,q,m,t,r,y,s=n.ajaxSetup({},d),u=s.context||s,A=s.context&&(u.nodeType||u.jquery)?n(u):n.event,B=n.Deferred(),ea=n.Callbacks("once memory"),
E=s.statusCode||{},X={},Y={},N="canceled",G={readyState:0,getResponseHeader:function(b){var c;if(m){if(!p)for(p={};c=Bd.exec(g);)p[c[1].toLowerCase()]=c[2];c=p[b.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return m?g:null},setRequestHeader:function(b,c){return null==m&&(b=Y[b.toLowerCase()]=Y[b.toLowerCase()]||b,X[b]=c),this},overrideMimeType:function(b){return null==m&&(s.mimeType=b),this},statusCode:function(b){var c;if(b)if(m)G.always(b[G.status]);else for(c in b)E[c]=
[E[c],b[c]];return this},abort:function(b){b=b||N;return f&&f.abort(b),e(0,b),this}};if(B.promise(G),s.url=((c||s.url||Wa.href)+"").replace(Dd,Wa.protocol+"//"),s.type=d.method||d.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(ka)||[""],null==s.crossDomain){q=C.createElement("a");try{q.href=s.url,q.href=q.href,s.crossDomain=Kb.protocol+"//"+Kb.host!=q.protocol+"//"+q.host}catch(ca){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=n.param(s.data,
s.traditional)),Ra(yc,s,d,G),m)return G;(t=n.event&&s.global)&&0===n.active++&&n.event.trigger("ajaxStart");s.type=s.type.toUpperCase();s.hasContent=!Cd.test(s.type);j=s.url.replace(zd,"");s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(yd,"+")):(y=s.url.slice(j.length),s.data&&(j+=(Jb.test(j)?"&":"?")+s.data,delete s.data),!1===s.cache&&(j=j.replace(Ad,"$1"),y=(Jb.test(j)?"&":"?")+"_="+wc++ +y),s.url=j+y);s.ifModified&&
(n.lastModified[j]&&G.setRequestHeader("If-Modified-Since",n.lastModified[j]),n.etag[j]&&G.setRequestHeader("If-None-Match",n.etag[j]));(s.data&&s.hasContent&&!1!==s.contentType||d.contentType)&&G.setRequestHeader("Content-Type",s.contentType);G.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+zc+"; q=0.01":""):s.accepts["*"]);for(r in s.headers)G.setRequestHeader(r,s.headers[r]);if(s.beforeSend&&(!1===s.beforeSend.call(u,G,s)||
m))return G.abort();if(N="abort",ea.add(s.complete),G.done(s.success),G.fail(s.error),f=Ra(wb,s,d,G)){if(G.readyState=1,t&&A.trigger("ajaxSend",[G,s]),m)return G;s.async&&0<s.timeout&&(l=b.setTimeout(function(){G.abort("timeout")},s.timeout));try{m=!1,f.send(X,e)}catch(H){if(m)throw H;e(-1,H)}}else e(-1,"No Transport");return G},getJSON:function(b,c,d){return n.get(b,c,d,"json")},getScript:function(b,c){return n.get(b,void 0,c,"script")}});n.each(["get","post"],function(b,c){n[c]=function(b,d,e,f){return n.isFunction(d)&&
(f=f||e,e=d,d=void 0),n.ajax(n.extend({url:b,type:c,dataType:f,data:d,success:e},n.isPlainObject(b)&&b))}});n._evalUrl=function(b){return n.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};n.fn.extend({wrapAll:function(b){var c;return this[0]&&(n.isFunction(b)&&(b=b.call(this[0])),c=n(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),
this},wrapInner:function(b){return n.isFunction(b)?this.each(function(c){n(this).wrapInner(b.call(this,c))}):this.each(function(){var c=n(this),d=c.contents();d.length?d.wrapAll(b):c.append(b)})},wrap:function(b){var c=n.isFunction(b);return this.each(function(d){n(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){n(this).replaceWith(this.childNodes)}),this}});n.expr.pseudos.hidden=function(b){return!n.expr.pseudos.visible(b)};n.expr.pseudos.visible=
function(b){return!(!b.offsetWidth&&!b.offsetHeight&&!b.getClientRects().length)};n.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(c){}};var Ed={"0":200,1223:204},Xa=n.ajaxSettings.xhr();O.cors=!!Xa&&"withCredentials"in Xa;O.ajax=Xa=!!Xa;n.ajaxTransport(function(c){var d,e;if(O.cors||Xa&&!c.crossDomain)return{send:function(f,j){var g,p=c.xhr();if(p.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(g in c.xhrFields)p[g]=c.xhrFields[g];c.mimeType&&p.overrideMimeType&&
p.overrideMimeType(c.mimeType);c.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(g in f)p.setRequestHeader(g,f[g]);d=function(b){return function(){d&&(d=e=p.onload=p.onerror=p.onabort=p.onreadystatechange=null,"abort"===b?p.abort():"error"===b?"number"!=typeof p.status?j(0,"error"):j(p.status,p.statusText):j(Ed[p.status]||p.status,p.statusText,"text"!==(p.responseType||"text")||"string"!=typeof p.responseText?{binary:p.response}:{text:p.responseText},p.getAllResponseHeaders()))}};
p.onload=d();e=p.onerror=d("error");void 0!==p.onabort?p.onabort=e:p.onreadystatechange=function(){4===p.readyState&&b.setTimeout(function(){d&&e()})};d=d("abort");try{p.send(c.hasContent&&c.data||null)}catch(q){if(d)throw q;}},abort:function(){d&&d()}}});n.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return n.globalEval(b),
b}}});n.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});n.ajaxTransport("script",function(b){if(b.crossDomain){var c,d;return{send:function(e,f){c=n("<script>").prop({charset:b.scriptCharset,src:b.url}).on("load error",d=function(b){c.remove();d=null;b&&f("error"===b.type?404:200,b.type)});C.head.appendChild(c[0])},abort:function(){d&&d()}}}});var Ac=[],Lb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Ac.pop()||n.expando+
"_"+wc++;return this[b]=!0,b}});n.ajaxPrefilter("json jsonp",function(c,d,e){var f,j,g,p=!1!==c.jsonp&&(Lb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lb.test(c.data)&&"data");if(p||"jsonp"===c.dataTypes[0])return f=c.jsonpCallback=n.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,p?c[p]=c[p].replace(Lb,"$1"+f):!1!==c.jsonp&&(c.url+=(Jb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return g||
n.error(f+" was not called"),g[0]},c.dataTypes[0]="json",j=b[f],b[f]=function(){g=arguments},e.always(function(){void 0===j?n(b).removeProp(f):b[f]=j;c[f]&&(c.jsonpCallback=d.jsonpCallback,Ac.push(f));g&&n.isFunction(j)&&j(g[0]);g=j=void 0}),"script"});var Fd=O,Bc,Cc=C.implementation.createHTMLDocument("").body;Bc=(Cc.innerHTML="<form></form><form></form>",2===Cc.childNodes.length);Fd.createHTMLDocument=Bc;n.parseHTML=function(b,c,d){if("string"!=typeof b)return[];"boolean"==typeof c&&(d=c,c=!1);
var e,f,j;return c||(O.createHTMLDocument?(c=C.implementation.createHTMLDocument(""),e=c.createElement("base"),e.href=C.location.href,c.head.appendChild(e)):c=C),f=ic.exec(b),j=!d&&[],f?[c.createElement(f[1])]:(f=B([b],c,j),j&&j.length&&n(j).remove(),n.merge([],f.childNodes))};n.fn.load=function(b,c,d){var e,f,j,g=this,p=b.indexOf(" ");return-1<p&&(e=M(b.slice(p)),b=b.slice(0,p)),n.isFunction(c)?(d=c,c=void 0):c&&"object"==typeof c&&(f="POST"),0<g.length&&n.ajax({url:b,type:f||"GET",dataType:"html",
data:c}).done(function(b){j=arguments;g.html(e?n("<div>").append(n.parseHTML(b)).find(e):b)}).always(d&&function(b,c){g.each(function(){d.apply(this,j||[b.responseText,c,b])})}),this};n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){n.fn[c]=function(b){return this.on(c,b)}});n.expr.pseudos.animated=function(b){return n.grep(n.timers,function(c){return b===c.elem}).length};n.offset={setOffset:function(b,c,d){var e,f,j,g,p,q,l=n.css(b,"position"),m=n(b),
t={};"static"===l&&(b.style.position="relative");p=m.offset();j=n.css(b,"top");q=n.css(b,"left");("absolute"===l||"fixed"===l)&&-1<(j+q).indexOf("auto")?(e=m.position(),g=e.top,f=e.left):(g=parseFloat(j)||0,f=parseFloat(q)||0);n.isFunction(c)&&(c=c.call(b,d,n.extend({},p)));null!=c.top&&(t.top=c.top-p.top+g);null!=c.left&&(t.left=c.left-p.left+f);"using"in c?c.using.call(b,t):m.css(t)}};n.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(c){n.offset.setOffset(this,
b,c)});var c,d,e,f,j=this[0];if(j)return j.getClientRects().length?(e=j.getBoundingClientRect(),c=j.ownerDocument,d=c.documentElement,f=c.defaultView,{top:e.top+f.pageYOffset-d.clientTop,left:e.left+f.pageXOffset-d.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var b,c,d=this[0],e={top:0,left:0};return"fixed"===n.css(d,"position")?c=d.getBoundingClientRect():(b=this.offsetParent(),c=this.offset(),f(b[0],"html")||(e=b.offset()),e={top:e.top+n.css(b[0],"borderTopWidth",!0),left:e.left+
n.css(b[0],"borderLeftWidth",!0)}),{top:c.top-e.top-n.css(d,"marginTop",!0),left:c.left-e.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&"static"===n.css(b,"position");)b=b.offsetParent;return b||rb})}});n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return va(this,function(b,e,f){var j;return n.isWindow(b)?j=b:9===b.nodeType&&(j=b.defaultView),void 0===f?j?j[c]:
b[e]:void(j?j.scrollTo(d?j.pageXOffset:f,d?f:j.pageYOffset):b[e]=f)},b,e,arguments.length)}});n.each(["top","left"],function(b,c){n.cssHooks[c]=ia(O.pixelPosition,function(b,d){if(d)return d=oa(b,c),vb.test(d)?n(b).position()[c]+"px":d})});n.each({Height:"height",Width:"width"},function(b,c){n.each({padding:"inner"+b,content:c,"":"outer"+b},function(d,e){n.fn[e]=function(f,j){var g=arguments.length&&(d||"boolean"!=typeof f),p=d||(!0===f||!0===j?"margin":"border");return va(this,function(c,d,f){var j;
return n.isWindow(c)?0===e.indexOf("outer")?c["inner"+b]:c.document.documentElement["client"+b]:9===c.nodeType?(j=c.documentElement,Math.max(c.body["scroll"+b],j["scroll"+b],c.body["offset"+b],j["offset"+b],j["client"+b])):void 0===f?n.css(c,d,p):n.style(c,d,f,p)},c,g?f:void 0,g)}})});n.fn.extend({bind:function(b,c,d){return this.on(b,null,c,d)},unbind:function(b,c){return this.off(b,null,c)},delegate:function(b,c,d,e){return this.on(c,b,d,e)},undelegate:function(b,c,d){return 1===arguments.length?
this.off(b,"**"):this.off(c,b||"**",d)}});n.holdReady=function(b){b?n.readyWait++:n.ready(!0)};n.isArray=Array.isArray;n.parseJSON=JSON.parse;n.nodeName=f;"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Gd=b.jQuery,Hd=b.$;return n.noConflict=function(c){return b.$===n&&(b.$=Hd),c&&b.jQuery===n&&(b.jQuery=Gd),n},c||(b.jQuery=b.$=n),n});function getInternetExplorerVersion(){var b=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b}var ie=getInternetExplorerVersion();function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==b)return decodeURIComponent(e[1])}};this.jukebox={};
jukebox.Player=function(b,c){this.id=++jukebox.__jukeboxId;this.origin=c||null;this.settings={};for(var d in this.defaults)this.settings[d]=this.defaults[d];if("[object Object]"===Object.prototype.toString.call(b))for(var e in b)this.settings[e]=b[e];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):this.settings.resources[0]||
null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var b=this,c=this.settings,d={},e;jukebox.Manager&&void 0!==jukebox.Manager.features&&(d=jukebox.Manager.features);if(!0===d.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var f=function(c){b.__addToManager(c)};
this.context.addEventListener("canplaythrough",f,!0);window.setTimeout(function(){b.context.removeEventListener("canplaythrough",f,!0);f("timeout")},c.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(e in this.HTML5API)this[e]=this.HTML5API[e];1<d.channels?!0===c.autoplay?this.context.autoplay=!0:void 0!==c.spritemap[c.autoplay]&&this.play(c.autoplay):1===d.channels&&void 0!==c.spritemap[c.autoplay]&&(this.backgroundMusic=c.spritemap[c.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(c.autoplay));1==d.channels&&!0!==c.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==b.isPlaying&&(b.pause(),b.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){b.__wasAutoPaused&&(b.resume(),delete b._wasAutoPaused)}))}else if(!0===d.flashaudio){for(e in this.FLASHAPI)this[e]=this.FLASHAPI[e];d=["id=jukebox-flashstream-"+this.id,"autoplay="+c.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(d);
!0===c.autoplay?this.play(0):c.spritemap[c.autoplay]&&this.play(c.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(b){var c,d=this.settings.flashMediaElement,e,f={flashvars:b.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){c=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(c);var g=document.createElement("object");
g.id="jukebox-flashstream-"+this.id;g.setAttribute("type","application/x-shockwave-flash");g.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");g.setAttribute("width","0");g.setAttribute("height","0");f.movie=d+"?x="+(Date.now?Date.now():+new Date);f.flashvars=b.join("&amp;");for(e in f)b=document.createElement("param"),b.setAttribute("name",e),b.setAttribute("value",f[e]),g.appendChild(b);c.outerHTML=g.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{c=
document.createElement("embed");c.id="jukebox-flashstream-"+this.id;c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("width","100");c.setAttribute("height","100");f.play=!1;f.loop=!1;f.src=d+"?x="+(Date.now?Date.now():+new Date);for(e in f)c.setAttribute(e,f[e]);document.getElementsByTagName("body")[0].appendChild(c);this.context=c}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var b=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
b,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(b-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(b,c){if(null!==this.isPlaying&&!0!==c)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(b,this.id);else{var d=this.settings.spritemap,e;if(void 0!==d[b])e=d[b].start;else if("number"===typeof b){e=b;for(var f in d)if(e>=d[f].start&&e<=
d[f].end){b=f;break}}void 0!==e&&"[object Object]"===Object.prototype.toString.call(d[b])&&(this.isPlaying=this.settings.spritemap[b],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(e))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(b){b="number"===
typeof b?b:this.__lastPosition;if(null!==b)return this.play(b),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(b){this.context.volume=b;return 1E-4>Math.abs(this.context.volume-b)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(b){try{return this.context.currentTime=b,!0}catch(c){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(b){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(b),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(b){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(b):!1}}};
if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(b){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(b))for(var d in b)this.settings[d]=b[d];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var b=window.Audio&&new Audio;if(b&&b.canPlayType&&!1===this.settings.useFlash){for(var c=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
d,e,f=0,g=c.length;f<g;f++)if(e=c[f].e,c[f].m.length&&"object"===typeof c[f].m)for(var l=0,m=c[f].m.length;l<m;l++)if(d=c[f].m[l],""!==b.canPlayType(d)){this.codecs[e]=d;break}else this.codecs[e]||(this.codecs[e]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;b.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(b.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(j){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(b){return this.__players&&void 0!==this.__players[b]?this.__players[b]:null},__getClone:function(b,c){for(var d in this.__clones){var e=this.__clones[d];if(null===e.isPlaying&&e.origin===b)return e}if("[object Object]"===Object.prototype.toString.call(c)){d={};for(var f in c)d[f]=c[f];d.autoplay=!1;f=new jukebox.Player(d,b);f.isClone=!0;f.wasReady=!1;return this.__clones[f.id]=f}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var b=this.__queue[0],c=this.__getPlayerById(b.origin);if(null!==c){var d=this.__getClone(b.origin,c.settings);null!==d&&(!0===this.features.volume&&(c=this.__players[b.origin])&&d.setVolume(c.getVolume()),this.add(d),d.play(b.pointer,!0))}this.__queue.splice(0,1)}else for(d in this.__queue.length&&1===this.features.channels&&(b=this.__queue[0],c=this.__getPlayerById(b.origin),null!==c&&c.play(b.pointer,!0),this.__queue.splice(0,1)),this.__players)b=this.__players[d],
c=b.getCurrentTime()||0,b.isPlaying&&!1===b.wasReady?b.wasReady=b.setCurrentTime(b.isPlaying.start):b.isPlaying&&!0===b.wasReady?c>b.isPlaying.end&&(!0===b.isPlaying.loop?b.play(b.isPlaying.start,!0):b.stop()):b.isClone&&null===b.isPlaying?this.remove(b):void 0!==b.backgroundMusic&&null===b.isPlaying&&c>b.backgroundMusic.end&&b.backgroundHackForiOS()},getPlayableResource:function(b){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var c=0,d=b.length;c<d;c++){var e=b[c],f=e.match(/\.([^\.]*)$/)[1];
if(f&&this.codecs[f])return e}return null},add:function(b){return b instanceof jukebox.Player&&void 0===this.__players[b.id]?(this.__playersLength++,this.__players[b.id]=b,!0):!1},remove:function(b){return b instanceof jukebox.Player&&void 0!==this.__players[b.id]?(this.__playersLength--,delete this.__players[b.id],!0):!1},addToQueue:function(b,c){return("string"===typeof b||"number"===typeof b)&&void 0!==this.__players[c]?(this.__queue.push({pointer:b,origin:c}),!0):!1}};(function(){var b=function(){this.init()};b.prototype={init:function(){var b=this||c;b._counter=1E3;b._codecs={};b._howls=[];b._muted=!1;b._volume=1;b._canPlayEvent="canplaythrough";b._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null;b.masterGain=null;b.noAudio=!1;b.usingWebAudio=!0;b.autoSuspend=!0;b.ctx=null;b.mobileAutoEnable=!0;b._setup();return b},volume:function(b){var d=this||c;b=parseFloat(b);d.ctx||m();if("undefined"!==typeof b&&0<=b&&1>=b){d._volume=b;if(d._muted)return d;
d.usingWebAudio&&d.masterGain.gain.setValueAtTime(b,c.ctx.currentTime);for(var e=0;e<d._howls.length;e++)if(!d._howls[e]._webAudio)for(var f=d._howls[e]._getSoundIds(),g=0;g<f.length;g++){var l=d._howls[e]._soundById(f[g]);l&&l._node&&(l._node.volume=l._volume*b)}return d}return d._volume},mute:function(b){var d=this||c;d.ctx||m();d._muted=b;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(b?0:d._volume,c.ctx.currentTime);for(var e=0;e<d._howls.length;e++)if(!d._howls[e]._webAudio)for(var f=d._howls[e]._getSoundIds(),
g=0;g<f.length;g++){var l=d._howls[e]._soundById(f[g]);l&&l._node&&(l._node.muted=b?!0:l._muted)}return d},unload:function(){for(var b=this||c,d=b._howls.length-1;0<=d;d--)b._howls[d].unload();b.usingWebAudio&&(b.ctx&&"undefined"!==typeof b.ctx.close)&&(b.ctx.close(),b.ctx=null,m());return b},codecs:function(b){return(this||c)._codecs[b.replace(/^x-/,"")]},_setup:function(){var b=this||c;b.state=b.ctx?b.ctx.state||"running":"running";b._autoSuspend();if(!b.usingWebAudio)if("undefined"!==typeof Audio)try{var d=
new Audio;"undefined"===typeof d.oncanplaythrough&&(b._canPlayEvent="canplay")}catch(e){b.noAudio=!0}else b.noAudio=!0;try{d=new Audio,d.muted&&(b.noAudio=!0)}catch(f){}b.noAudio||b._setupCodecs();return b},_setupCodecs:function(){var b=this||c,d=null;try{d="undefined"!==typeof Audio?new Audio:null}catch(e){return b}if(!d||"function"!==typeof d.canPlayType)return b;var f=d.canPlayType("audio/mpeg;").replace(/^no$/,""),g=b._navigator&&b._navigator.userAgent.match(/OPR\/([0-6].)/g),g=g&&33>parseInt(g[0].split("/")[1],
10);b._codecs={mp3:!(g||!f&&!d.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!f,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||
d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")};return b},
_enableMobileAudio:function(){var b=this||c,d=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(b._navigator&&b._navigator.userAgent);if(!b._mobileEnabled&&b.ctx&&d){b._mobileEnabled=!1;b.mobileAutoEnable=!1;!b._mobileUnloaded&&44100!==b.ctx.sampleRate&&(b._mobileUnloaded=!0,b.unload());b._scratchBuffer=b.ctx.createBuffer(1,1,22050);var e=function(){c._autoResume();var d=b.ctx.createBufferSource();d.buffer=b._scratchBuffer;d.connect(b.ctx.destination);"undefined"===typeof d.start?
d.noteOn(0):d.start(0);"function"===typeof b.ctx.resume&&b.ctx.resume();d.onended=function(){d.disconnect(0);b._mobileEnabled=!0;document.removeEventListener("touchstart",e,!0);document.removeEventListener("touchend",e,!0);document.removeEventListener("click",e,!0);for(var c=0;c<b._howls.length;c++)b._howls[c]._emit("unlock")}};document.addEventListener("touchstart",e,!0);document.addEventListener("touchend",e,!0);document.addEventListener("click",e,!0);return b}},_autoSuspend:function(){var b=this;
if(b.autoSuspend&&b.ctx&&"undefined"!==typeof b.ctx.suspend&&c.usingWebAudio){for(var d=0;d<b._howls.length;d++)if(b._howls[d]._webAudio)for(var e=0;e<b._howls[d]._sounds.length;e++)if(!b._howls[d]._sounds[e]._paused)return b;b._suspendTimer&&clearTimeout(b._suspendTimer);b._suspendTimer=setTimeout(function(){b.autoSuspend&&(b._suspendTimer=null,b.state="suspending",b.ctx.suspend().then(function(){b.state="suspended";b._resumeAfterSuspend&&(delete b._resumeAfterSuspend,b._autoResume())}))},3E4);return b}},
_autoResume:function(){var b=this;if(b.ctx&&"undefined"!==typeof b.ctx.resume&&c.usingWebAudio)return"running"===b.state&&b._suspendTimer?(clearTimeout(b._suspendTimer),b._suspendTimer=null):"suspended"===b.state?(b.ctx.resume().then(function(){b.state="running";for(var c=0;c<b._howls.length;c++)b._howls[c]._emit("resume")}),b._suspendTimer&&(clearTimeout(b._suspendTimer),b._suspendTimer=null)):"suspending"===b.state&&(b._resumeAfterSuspend=!0),b}};var c=new b,d=function(b){!b.src||0===b.src.length?
console.error("An array of source files must be passed with any new Howl."):this.init(b)};d.prototype={init:function(b){var d=this;c.ctx||m();d._autoplay=b.autoplay||!1;d._format="string"!==typeof b.format?b.format:[b.format];d._html5=b.html5||!1;d._muted=b.mute||!1;d._loop=b.loop||!1;d._pool=b.pool||5;d._preload="boolean"===typeof b.preload?b.preload:!0;d._rate=b.rate||1;d._sprite=b.sprite||{};d._src="string"!==typeof b.src?b.src:[b.src];d._volume=void 0!==b.volume?b.volume:1;d._xhrWithCredentials=
b.xhrWithCredentials||!1;d._duration=0;d._state="unloaded";d._sounds=[];d._endTimers={};d._queue=[];d._playLock=!1;d._onend=b.onend?[{fn:b.onend}]:[];d._onfade=b.onfade?[{fn:b.onfade}]:[];d._onload=b.onload?[{fn:b.onload}]:[];d._onloaderror=b.onloaderror?[{fn:b.onloaderror}]:[];d._onplayerror=b.onplayerror?[{fn:b.onplayerror}]:[];d._onpause=b.onpause?[{fn:b.onpause}]:[];d._onplay=b.onplay?[{fn:b.onplay}]:[];d._onstop=b.onstop?[{fn:b.onstop}]:[];d._onmute=b.onmute?[{fn:b.onmute}]:[];d._onvolume=b.onvolume?
[{fn:b.onvolume}]:[];d._onrate=b.onrate?[{fn:b.onrate}]:[];d._onseek=b.onseek?[{fn:b.onseek}]:[];d._onunlock=b.onunlock?[{fn:b.onunlock}]:[];d._onresume=[];d._webAudio=c.usingWebAudio&&!d._html5;"undefined"!==typeof c.ctx&&(c.ctx&&c.mobileAutoEnable)&&c._enableMobileAudio();c._howls.push(d);d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}});d._preload&&d.load();return d},load:function(){var b=null;if(c.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"===typeof this._src&&
(this._src=[this._src]);for(var d=0;d<this._src.length;d++){var q,m;if(this._format&&this._format[d])q=this._format[d];else{m=this._src[d];if("string"!==typeof m){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(q=/^data:audio\/([^;,]+);/i.exec(m))||(q=/\.([^.]+)$/.exec(m.split("?",1)[0]));q&&(q=q[1].toLowerCase())}q||console.warn('No file extension was found. Consider using the "format" property or specify an extension.');if(q&&c.codecs(q)){b=this._src[d];
break}}if(b){this._src=b;this._state="loading";"https:"===window.location.protocol&&"http:"===b.slice(0,5)&&(this._html5=!0,this._webAudio=!1);new e(this);if(this._webAudio){var s=this,t=s._src;if(f[t])s._duration=f[t].duration,l(s);else if(/^data:[^;]+;base64,/.test(t)){b=atob(t.split(",")[1]);d=new Uint8Array(b.length);for(q=0;q<b.length;++q)d[q]=b.charCodeAt(q);g(d.buffer,s)}else{var y=new XMLHttpRequest;y.open("GET",t,!0);y.withCredentials=s._xhrWithCredentials;y.responseType="arraybuffer";y.onload=
function(){var b=(y.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?s._emit("loaderror",null,"Failed loading audio file with status: "+y.status+"."):g(y.response,s)};y.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete f[t],s.load())};try{y.send()}catch(u){y.onerror()}}}return this}this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(b,d){var e=this,f=null;if("number"===typeof b)f=b,b=null;else{if("string"===typeof b&&"loaded"===e._state&&
!e._sprite[b])return null;if("undefined"===typeof b){b="__default";for(var g=0,l=0;l<e._sounds.length;l++)e._sounds[l]._paused&&!e._sounds[l]._ended&&(g++,f=e._sounds[l]._id);1===g?b=null:f=null}}var m=f?e._soundById(f):e._inactiveSound();if(!m)return null;f&&!b&&(b=m._sprite||"__default");if("loaded"!==e._state){m._sprite=b;m._ended=!1;var u=m._id;e._queue.push({event:"play",action:function(){e.play(u)}});return u}if(f&&!m._paused)return d||e._loadQueue("play"),m._id;e._webAudio&&c._autoResume();
var A=Math.max(0,0<m._seek?m._seek:e._sprite[b][0]/1E3),B=Math.max(0,(e._sprite[b][0]+e._sprite[b][1])/1E3-A),ea=1E3*B/Math.abs(m._rate);m._paused=!1;m._ended=!1;m._sprite=b;m._seek=A;m._start=e._sprite[b][0]/1E3;m._stop=(e._sprite[b][0]+e._sprite[b][1])/1E3;m._loop=!(!m._loop&&!e._sprite[b][2]);if(m._seek>=m._stop)e._ended(m);else{var E=m._node;if(e._webAudio)f=function(){e._refreshBuffer(m);E.gain.setValueAtTime(m._muted||e._muted?0:m._volume,c.ctx.currentTime);m._playStart=c.ctx.currentTime;"undefined"===
typeof E.bufferSource.start?m._loop?E.bufferSource.noteGrainOn(0,A,86400):E.bufferSource.noteGrainOn(0,A,B):m._loop?E.bufferSource.start(0,A,86400):E.bufferSource.start(0,A,B);Infinity!==ea&&(e._endTimers[m._id]=setTimeout(e._ended.bind(e,m),ea));d||setTimeout(function(){e._emit("play",m._id)},0)},"running"===c.state?f():(e.once("resume",f),e._clearTimer(m._id));else{var G=function(){E.currentTime=A;E.muted=m._muted||e._muted||c._muted||E.muted;E.volume=m._volume*c.volume();E.playbackRate=m._rate;
try{var f=E.play();f&&"undefined"!==typeof Promise&&(f instanceof Promise||"function"===typeof f.then)?(e._playLock=!0,f.then(function(){e._playLock=!1;d||e._emit("play",m._id)}).catch(function(){e._playLock=!1;e._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.")})):d||e._emit("play",m._id);E.playbackRate=m._rate;E.paused?e._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."):
"__default"!==b||m._loop?e._endTimers[m._id]=setTimeout(e._ended.bind(e,m),ea):(e._endTimers[m._id]=function(){e._ended(m);E.removeEventListener("ended",e._endTimers[m._id],!1)},E.addEventListener("ended",e._endTimers[m._id],!1))}catch(g){e._emit("playerror",m._id,g)}},f=window&&window.ejecta||!E.readyState&&c._navigator.isCocoonJS;if(3<=E.readyState||f)G();else{var N=function(){G();E.removeEventListener(c._canPlayEvent,N,!1)};E.addEventListener(c._canPlayEvent,N,!1);e._clearTimer(m._id)}}return m._id}},
pause:function(b,c){var d=this;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(b)}}),d;for(var e=d._getSoundIds(b),f=0;f<e.length;f++){d._clearTimer(e[f]);var g=d._soundById(e[f]);if(g&&!g._paused&&(g._seek=d.seek(e[f]),g._rateSeek=0,g._paused=!0,d._stopFade(e[f]),g._node))if(d._webAudio){if(!g._node.bufferSource)continue;"undefined"===typeof g._node.bufferSource.stop?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0);d._cleanBuffer(g._node)}else(!isNaN(g._node.duration)||
Infinity===g._node.duration)&&g._node.pause();c||d._emit("pause",g?g._id:null)}return d},stop:function(b,c){var d=this;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(b)}}),d;for(var e=d._getSoundIds(b),f=0;f<e.length;f++){d._clearTimer(e[f]);var g=d._soundById(e[f]);if(g){g._seek=g._start||0;g._rateSeek=0;g._paused=!0;g._ended=!0;d._stopFade(e[f]);if(g._node)if(d._webAudio)g._node.bufferSource&&("undefined"===typeof g._node.bufferSource.stop?g._node.bufferSource.noteOff(0):
g._node.bufferSource.stop(0),d._cleanBuffer(g._node));else if(!isNaN(g._node.duration)||Infinity===g._node.duration)g._node.currentTime=g._start||0,g._node.pause();c||d._emit("stop",g._id)}}return d},mute:function(b,d){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"mute",action:function(){e.mute(b,d)}}),e;if("undefined"===typeof d)if("boolean"===typeof b)e._muted=b;else return e._muted;for(var f=e._getSoundIds(d),g=0;g<f.length;g++){var l=e._soundById(f[g]);l&&(l._muted=
b,l._interval&&e._stopFade(l._id),e._webAudio&&l._node?l._node.gain.setValueAtTime(b?0:l._volume,c.ctx.currentTime):l._node&&(l._node.muted=c._muted?!0:b),e._emit("mute",l._id))}return e},volume:function(){var b=this,d=arguments,e,f;if(0===d.length)return b._volume;1===d.length||2===d.length&&"undefined"===typeof d[1]?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],10):e=parseFloat(d[0]):2<=d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));var g;if("undefined"!==typeof e&&0<=e&&1>=e){if("loaded"!==
b._state||b._playLock)return b._queue.push({event:"volume",action:function(){b.volume.apply(b,d)}}),b;"undefined"===typeof f&&(b._volume=e);f=b._getSoundIds(f);for(var l=0;l<f.length;l++)if(g=b._soundById(f[l]))g._volume=e,d[2]||b._stopFade(f[l]),b._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(e,c.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=e*c.volume()),b._emit("volume",g._id)}else return(g=f?b._soundById(f):b._sounds[0])?g._volume:0;return b},fade:function(b,d,e,f){var g=this;
if("loaded"!==g._state||g._playLock)return g._queue.push({event:"fade",action:function(){g.fade(b,d,e,f)}}),g;g.volume(b,f);for(var l=g._getSoundIds(f),m=0;m<l.length;m++){var u=g._soundById(l[m]);if(u){f||g._stopFade(l[m]);if(g._webAudio&&!u._muted){var A=c.ctx.currentTime,B=A+e/1E3;u._volume=b;u._node.gain.setValueAtTime(b,A);u._node.gain.linearRampToValueAtTime(d,B)}g._startFadeInterval(u,b,d,e,l[m],"undefined"===typeof f)}}return g},_startFadeInterval:function(b,c,d,e,f,g){var l=this,m=c,A=d-
c;f=Math.abs(A/0.01);f=Math.max(4,0<f?e/f:e);var B=Date.now();b._fadeTo=d;b._interval=setInterval(function(){var f=(Date.now()-B)/e;B=Date.now();m+=A*f;m=Math.max(0,m);m=Math.min(1,m);m=Math.round(100*m)/100;l._webAudio?b._volume=m:l.volume(m,b._id,!0);g&&(l._volume=m);if(d<c&&m<=d||d>c&&m>=d)clearInterval(b._interval),b._interval=null,b._fadeTo=null,l.volume(d,b._id),l._emit("fade",b._id)},f)},_stopFade:function(b){var d=this._soundById(b);d&&d._interval&&(this._webAudio&&d._node.gain.cancelScheduledValues(c.ctx.currentTime),
clearInterval(d._interval),d._interval=null,this.volume(d._fadeTo,b),d._fadeTo=null,this._emit("fade",b));return this},loop:function(){var b=arguments,c,d;if(0===b.length)return this._loop;if(1===b.length)if("boolean"===typeof b[0])this._loop=c=b[0];else return(b=this._soundById(parseInt(b[0],10)))?b._loop:!1;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));d=this._getSoundIds(d);for(var e=0;e<d.length;e++)if(b=this._soundById(d[e]))if(b._loop=c,this._webAudio&&(b._node&&b._node.bufferSource)&&(b._node.bufferSource.loop=
c))b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop;return this},rate:function(){var b=this,d=arguments,e,f;0===d.length?f=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],10):e=parseFloat(d[0]):2===d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));var g;if("number"===typeof e){if("loaded"!==b._state||b._playLock)return b._queue.push({event:"rate",action:function(){b.rate.apply(b,d)}}),b;"undefined"===typeof f&&(b._rate=e);f=b._getSoundIds(f);
for(var l=0;l<f.length;l++)if(g=b._soundById(f[l])){g._rateSeek=b.seek(f[l]);g._playStart=b._webAudio?c.ctx.currentTime:g._playStart;g._rate=e;b._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(e,c.ctx.currentTime):g._node&&(g._node.playbackRate=e);var m=b.seek(f[l]),m=1E3*((b._sprite[g._sprite][0]+b._sprite[g._sprite][1])/1E3-m)/Math.abs(g._rate);if(b._endTimers[f[l]]||!g._paused)b._clearTimer(f[l]),b._endTimers[f[l]]=setTimeout(b._ended.bind(b,g),m);b._emit("rate",
g._id)}}else return(g=b._soundById(f))?g._rate:b._rate;return b},seek:function(){var b=this,d=arguments,e,f;0===d.length?f=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?f=parseInt(d[0],10):b._sounds.length&&(f=b._sounds[0]._id,e=parseFloat(d[0])):2===d.length&&(e=parseFloat(d[0]),f=parseInt(d[1],10));if("undefined"===typeof f)return b;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"seek",action:function(){b.seek.apply(b,d)}}),b;var g=b._soundById(f);if(g)if("number"===
typeof e&&0<=e){var l=b.playing(f);l&&b.pause(f,!0);g._seek=e;g._ended=!1;b._clearTimer(f);!b._webAudio&&g._node&&(g._node.currentTime=e);var m=function(){b._emit("seek",f);l&&b.play(f,!0)};if(l&&!b._webAudio){var u=function(){b._playLock?setTimeout(u,0):m()};setTimeout(u,0)}else m()}else return b._webAudio?(e=b.playing(f)?c.ctx.currentTime-g._playStart:0,g._seek+((g._rateSeek?g._rateSeek-g._seek:0)+e*Math.abs(g._rate))):g._node.currentTime;return b},playing:function(b){if("number"===typeof b)return(b=
this._soundById(b))?!b._paused:!1;for(b=0;b<this._sounds.length;b++)if(!this._sounds[b]._paused)return!0;return!1},duration:function(b){var c=this._duration;(b=this._soundById(b))&&(c=this._sprite[b._sprite][1]/1E3);return c},state:function(){return this._state},unload:function(){for(var b=this._sounds,d=0;d<b.length;d++)b[d]._paused||this.stop(b[d]._id),this._webAudio||(/MSIE |Trident\//.test(c._navigator&&c._navigator.userAgent)||(b[d]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),
b[d]._node.removeEventListener("error",b[d]._errorFn,!1),b[d]._node.removeEventListener(c._canPlayEvent,b[d]._loadFn,!1)),delete b[d]._node,this._clearTimer(b[d]._id);d=c._howls.indexOf(this);0<=d&&c._howls.splice(d,1);b=!0;for(d=0;d<c._howls.length;d++)if(c._howls[d]._src===this._src){b=!1;break}f&&b&&delete f[this._src];c.noAudio=!1;this._state="unloaded";this._sounds=[];return null},on:function(b,c,d,e){b=this["_on"+b];"function"===typeof c&&b.push(e?{id:d,fn:c,once:e}:{id:d,fn:c});return this},
off:function(b,c,d){var e=this["_on"+b],f=0;"number"===typeof c&&(d=c,c=null);if(c||d)for(f=0;f<e.length;f++){if(b=d===e[f].id,c===e[f].fn&&b||!c&&b){e.splice(f,1);break}}else if(b)this["_on"+b]=[];else{c=Object.keys(this);for(f=0;f<c.length;f++)0===c[f].indexOf("_on")&&Array.isArray(this[c[f]])&&(this[c[f]]=[])}return this},once:function(b,c,d){this.on(b,c,d,1);return this},_emit:function(b,c,d){for(var e=this["_on"+b],f=e.length-1;0<=f;f--)if(!e[f].id||e[f].id===c||"load"===b)setTimeout(function(b){b.call(this,
c,d)}.bind(this,e[f].fn),0),e[f].once&&this.off(b,e[f].fn,e[f].id);this._loadQueue(b);return this},_loadQueue:function(b){if(0<this._queue.length){var c=this._queue[0];c.event===b&&(this._queue.shift(),this._loadQueue());b||c.action()}return this},_ended:function(b){var d=b._sprite;if(!this._webAudio&&b._node&&!b._node.paused&&!b._node.ended&&b._node.currentTime<b._stop)return setTimeout(this._ended.bind(this,b),100),this;d=!(!b._loop&&!this._sprite[d][2]);this._emit("end",b._id);!this._webAudio&&
d&&this.stop(b._id,!0).play(b._id);if(this._webAudio&&d){this._emit("play",b._id);b._seek=b._start||0;b._rateSeek=0;b._playStart=c.ctx.currentTime;var e=1E3*(b._stop-b._start)/Math.abs(b._rate);this._endTimers[b._id]=setTimeout(this._ended.bind(this,b),e)}this._webAudio&&!d&&(b._paused=!0,b._ended=!0,b._seek=b._start||0,b._rateSeek=0,this._clearTimer(b._id),this._cleanBuffer(b._node),c._autoSuspend());!this._webAudio&&!d&&this.stop(b._id,!0);return this},_clearTimer:function(b){if(this._endTimers[b]){if("function"!==
typeof this._endTimers[b])clearTimeout(this._endTimers[b]);else{var c=this._soundById(b);c&&c._node&&c._node.removeEventListener("ended",this._endTimers[b],!1)}delete this._endTimers[b]}return this},_soundById:function(b){for(var c=0;c<this._sounds.length;c++)if(b===this._sounds[c]._id)return this._sounds[c];return null},_inactiveSound:function(){this._drain();for(var b=0;b<this._sounds.length;b++)if(this._sounds[b]._ended)return this._sounds[b].reset();return new e(this)},_drain:function(){var b=
this._pool,c=0,d=0;if(!(this._sounds.length<b)){for(d=0;d<this._sounds.length;d++)this._sounds[d]._ended&&c++;for(d=this._sounds.length-1;0<=d&&!(c<=b);d--)this._sounds[d]._ended&&(this._webAudio&&this._sounds[d]._node&&this._sounds[d]._node.disconnect(0),this._sounds.splice(d,1),c--)}},_getSoundIds:function(b){if("undefined"===typeof b){b=[];for(var c=0;c<this._sounds.length;c++)b.push(this._sounds[c]._id);return b}return[b]},_refreshBuffer:function(b){b._node.bufferSource=c.ctx.createBufferSource();
b._node.bufferSource.buffer=f[this._src];b._panner?b._node.bufferSource.connect(b._panner):b._node.bufferSource.connect(b._node);if(b._node.bufferSource.loop=b._loop)b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop||0;b._node.bufferSource.playbackRate.setValueAtTime(b._rate,c.ctx.currentTime);return this},_cleanBuffer:function(b){if(c._scratchBuffer&&b.bufferSource){b.bufferSource.onended=null;b.bufferSource.disconnect(0);try{b.bufferSource.buffer=c._scratchBuffer}catch(d){}}b.bufferSource=
null;return this}};var e=function(b){this._parent=b;this.init()};e.prototype={init:function(){var b=this._parent;this._muted=b._muted;this._loop=b._loop;this._volume=b._volume;this._rate=b._rate;this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++c._counter;b._sounds.push(this);this.create();return this},create:function(){var b=this._parent,d=c._muted||this._muted||this._parent._muted?0:this._volume;b._webAudio?(this._node="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():
c.ctx.createGain(),this._node.gain.setValueAtTime(d,c.ctx.currentTime),this._node.paused=!0,this._node.connect(c.masterGain)):(this._node=new Audio,this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(c._canPlayEvent,this._loadFn,!1),this._node.src=b._src,this._node.preload="auto",this._node.volume=d*c.volume(),this._node.load());return this},reset:function(){var b=this._parent;this._muted=
b._muted;this._loop=b._loop;this._volume=b._volume;this._rate=b._rate;this._rateSeek=this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++c._counter;return this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var b=this._parent;b._duration=Math.ceil(10*this._node.duration)/10;0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,
1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue());this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)}};var f={},g=function(b,d){var e=function(){d._emit("loaderror",null,"Decoding audio data failed.")},g=function(b){b&&0<d._sounds.length?(f[d._src]=b,l(d,b)):e()};"undefined"!==typeof Promise&&1===c.ctx.decodeAudioData.length?c.ctx.decodeAudioData(b).then(g).catch(e):c.ctx.decodeAudioData(b,g,e)},l=function(b,c){c&&!b._duration&&(b._duration=c.duration);
0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue())},m=function(){try{"undefined"!==typeof AudioContext?c.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(b){c.usingWebAudio=!1}c.ctx||(c.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),e=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
e=e?parseInt(e[1],10):null;if(d&&(e&&9>e)&&(d=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase()),c._navigator&&c._navigator.standalone&&!d||c._navigator&&!c._navigator.standalone&&!d))c.usingWebAudio=!1;c.usingWebAudio&&(c.masterGain="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.setValueAtTime(c._muted?0:1,c.ctx.currentTime),c.masterGain.connect(c.ctx.destination));c._setup()};"function"===typeof define&&define.amd&&define([],function(){return{Howler:c,
Howl:d}});"undefined"!==typeof exports&&(exports.Howler=c,exports.Howl=d);"undefined"!==typeof window?(window.HowlerGlobal=b,window.Howler=c,window.Howl=d,window.Sound=e):"undefined"!==typeof global&&(global.HowlerGlobal=b,global.Howler=c,global.Howl=d,global.Sound=e)})();
(function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(b){if(!this.ctx||!this.ctx.listener)return this;for(var c=this._howls.length-1;0<=c;c--)this._howls[c].stereo(b);return this};HowlerGlobal.prototype.pos=function(b,c,d){if(!this.ctx||!this.ctx.listener)return this;c="number"!==typeof c?this._pos[1]:c;d="number"!==typeof d?this._pos[2]:d;if("number"===typeof b)this._pos=[b,c,d],"undefined"!==typeof this.ctx.listener.positionX?
(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,0.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,0.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,0.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]);else return this._pos;return this};HowlerGlobal.prototype.orientation=function(b,c,d,e,j,p){if(!this.ctx||!this.ctx.listener)return this;var q=this._orientation;c="number"!==
typeof c?q[1]:c;d="number"!==typeof d?q[2]:d;e="number"!==typeof e?q[3]:e;j="number"!==typeof j?q[4]:j;p="number"!==typeof p?q[5]:p;if("number"===typeof b)this._orientation=[b,c,d,e,j,p],"undefined"!==typeof this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(b,Howler.ctx.currentTime,0.1),this.ctx.listener.forwardY.setTargetAtTime(c,Howler.ctx.currentTime,0.1),this.ctx.listener.forwardZ.setTargetAtTime(d,Howler.ctx.currentTime,0.1),this.ctx.listener.upX.setTargetAtTime(b,Howler.ctx.currentTime,
0.1),this.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,0.1),this.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,0.1)):this.ctx.listener.setOrientation(b,c,d,e,j,p);else return q;return this};var b=Howl.prototype.init;Howl.prototype.init=function(c){this._orientation=c.orientation||[1,0,0];this._stereo=c.stereo||null;this._pos=c.pos||null;this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?
c.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:0,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:"inverse",maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:1E4,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:"HRTF",refDistance:"undefined"!==typeof c.refDistance?c.refDistance:1,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:1};this._onstereo=c.onstereo?[{fn:c.onstereo}]:[];this._onpos=c.onpos?
[{fn:c.onpos}]:[];this._onorientation=c.onorientation?[{fn:c.onorientation}]:[];return b.call(this,c)};Howl.prototype.stereo=function(b,c){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"stereo",action:function(){d.stereo(b,c)}}),d;var m="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof c)if("number"===typeof b)d._stereo=b,d._pos=[b,0,0];else return d._stereo;for(var j=d._getSoundIds(c),p=0;p<j.length;p++){var q=d._soundById(j[p]);
if(q)if("number"===typeof b)q._stereo=b,q._pos=[b,0,0],q._node&&(q._pannerAttr.panningModel="equalpower",(!q._panner||!q._panner.pan)&&e(q,m),"spatial"===m?"undefined"!==typeof q._panner.positionX?(q._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),q._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),q._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):q._panner.setPosition(b,0,0):q._panner.pan.setValueAtTime(b,Howler.ctx.currentTime)),d._emit("stereo",q._id);else return q._stereo}return d};
Howl.prototype.pos=function(b,c,d,m){var j=this;if(!j._webAudio)return j;if("loaded"!==j._state)return j._queue.push({event:"pos",action:function(){j.pos(b,c,d,m)}}),j;c="number"!==typeof c?0:c;d="number"!==typeof d?-0.5:d;if("undefined"===typeof m)if("number"===typeof b)j._pos=[b,c,d];else return j._pos;for(var p=j._getSoundIds(m),q=0;q<p.length;q++){var r=j._soundById(p[q]);if(r)if("number"===typeof b)r._pos=[b,c,d],r._node&&((!r._panner||r._panner.pan)&&e(r,"spatial"),"undefined"!==typeof r._panner.positionX?
(r._panner.positionX.setValueAtTime(b,Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(c,Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(d,Howler.ctx.currentTime)):r._panner.setOrientation(b,c,d)),j._emit("pos",r._id);else return r._pos}return j};Howl.prototype.orientation=function(b,c,d,m){var j=this;if(!j._webAudio)return j;if("loaded"!==j._state)return j._queue.push({event:"orientation",action:function(){j.orientation(b,c,d,m)}}),j;c="number"!==typeof c?j._orientation[1]:c;
d="number"!==typeof d?j._orientation[2]:d;if("undefined"===typeof m)if("number"===typeof b)j._orientation=[b,c,d];else return j._orientation;for(var p=j._getSoundIds(m),q=0;q<p.length;q++){var r=j._soundById(p[q]);if(r)if("number"===typeof b)r._orientation=[b,c,d],r._node&&(r._panner||(r._pos||(r._pos=j._pos||[0,0,-0.5]),e(r,"spatial")),"undefined"!==typeof r._panner.orientationX?(r._panner.orientationX.setValueAtTime(b,Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(c,Howler.ctx.currentTime),
r._panner.orientationZ.setValueAtTime(d,Howler.ctx.currentTime)):r._panner.setOrientation(b,c,d)),j._emit("orientation",r._id);else return r._orientation}return j};Howl.prototype.pannerAttr=function(){var b=arguments,c,d;if(!this._webAudio)return this;if(0===b.length)return this._pannerAttr;if(1===b.length)if("object"===typeof b[0])c=b[0],"undefined"===typeof d&&(c.pannerAttr||(c.pannerAttr={coneInnerAngle:c.coneInnerAngle,coneOuterAngle:c.coneOuterAngle,coneOuterGain:c.coneOuterGain,distanceModel:c.distanceModel,
maxDistance:c.maxDistance,refDistance:c.refDistance,rolloffFactor:c.rolloffFactor,panningModel:c.panningModel}),this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.pannerAttr.coneInnerAngle?c.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.pannerAttr.coneOuterAngle?c.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:"undefined"!==typeof c.pannerAttr.coneOuterGain?c.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:"undefined"!==typeof c.pannerAttr.distanceModel?
c.pannerAttr.distanceModel:this._distanceModel,maxDistance:"undefined"!==typeof c.pannerAttr.maxDistance?c.pannerAttr.maxDistance:this._maxDistance,refDistance:"undefined"!==typeof c.pannerAttr.refDistance?c.pannerAttr.refDistance:this._refDistance,rolloffFactor:"undefined"!==typeof c.pannerAttr.rolloffFactor?c.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:"undefined"!==typeof c.pannerAttr.panningModel?c.pannerAttr.panningModel:this._panningModel});else return(b=this._soundById(parseInt(b[0],
10)))?b._pannerAttr:this._pannerAttr;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));d=this._getSoundIds(d);for(var m=0;m<d.length;m++)if(b=this._soundById(d[m])){var j=b._pannerAttr,j={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:j.coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?c.coneOuterAngle:j.coneOuterAngle,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:j.coneOuterGain,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:
j.distanceModel,maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:j.maxDistance,refDistance:"undefined"!==typeof c.refDistance?c.refDistance:j.refDistance,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:j.rolloffFactor,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:j.panningModel},p=b._panner;p?(p.coneInnerAngle=j.coneInnerAngle,p.coneOuterAngle=j.coneOuterAngle,p.coneOuterGain=j.coneOuterGain,p.distanceModel=j.distanceModel,p.maxDistance=j.maxDistance,
p.refDistance=j.refDistance,p.rolloffFactor=j.rolloffFactor,p.panningModel=j.panningModel):(b._pos||(b._pos=this._pos||[0,0,-0.5]),e(b,"spatial"))}return this};var c=Sound.prototype.init;Sound.prototype.init=function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;c.call(this);this._stereo?b.stereo(this._stereo):this._pos&&b.pos(this._pos[0],this._pos[1],this._pos[2],this._id)};var d=Sound.prototype.reset;Sound.prototype.reset=
function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;this._stereo?b.stereo(this._stereo):this._pos?b.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,b._refreshBuffer(this));return d.call(this)};var e=function(b,c){"spatial"===(c||"spatial")?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=
b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.panningModel=b._pannerAttr.panningModel,"undefined"!==typeof b._panner.positionX?(b._panner.positionX.setValueAtTime(b._pos[0],Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(b._pos[1],Howler.ctx.currentTime),
b._panner.positionZ.setValueAtTime(b._pos[2],Howler.ctx.currentTime)):b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),"undefined"!==typeof b._panner.orientationX?(b._panner.orientationX.setValueAtTime(b._orientation[0],Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(b._orientation[1],Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(b._orientation[2],Howler.ctx.currentTime)):b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=
Howler.ctx.createStereoPanner(),b._panner.pan.setValueAtTime(b._stereo,Howler.ctx.currentTime));b._panner.connect(b._node);b._paused||b._parent.pause(b._id,!0).play(b._id,!0)}})();(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=b()})(function(){return function c(d,e,f){function g(j,m){if(!e[j]){if(!d[j]){var q="function"==typeof require&&require;if(!m&&q)return q(j,!0);if(l)return l(j,!0);q=Error("Cannot find module '"+j+"'");throw q.code="MODULE_NOT_FOUND",q;}q=e[j]={exports:{}};
d[j][0].call(q.exports,function(c){var e=d[j][1][c];return g(e?e:c)},q,q.exports,c,d,e,f)}return e[j].exports}for(var l="function"==typeof require&&require,m=0;m<f.length;m++)g(f[m]);return g}({1:[function(c,d){d.exports=c("./lib/")},{"./lib/":2}],2:[function(c,d){d.exports=c("./socket");d.exports.parser=c("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(c,
d){if(!(this instanceof f))return new f(c,d);d=d||{};c&&"object"==typeof c&&(d=c,c=null);c?(c=q(c),d.hostname=c.host,d.secure="https"==c.protocol||"wss"==c.protocol,d.port=c.port,c.query&&(d.query=c.query)):d.host&&(d.hostname=q(d.host).host);this.secure=null!=d.secure?d.secure:e.location&&"https:"==location.protocol;d.hostname&&!d.port&&(d.port=this.secure?"443":"80");this.agent=d.agent||!1;this.hostname=d.hostname||(e.location?location.hostname:"localhost");this.port=d.port||(e.location&&location.port?
location.port:this.secure?443:80);this.query=d.query||{};"string"==typeof this.query&&(this.query=s.decode(this.query));this.upgrade=!1!==d.upgrade;this.path=(d.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!d.forceJSONP;this.jsonp=!1!==d.jsonp;this.forceBase64=!!d.forceBase64;this.enablesXDR=!!d.enablesXDR;this.timestampParam=d.timestampParam||"t";this.timestampRequests=d.timestampRequests;this.transports=d.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=
d.policyPort||843;this.rememberUpgrade=d.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=d.onlyBinaryUpgrades;this.perMessageDeflate=!1!==d.perMessageDeflate?d.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=d.pfx||null;this.key=d.key||null;this.passphrase=d.passphrase||null;this.cert=d.cert||null;this.ca=d.ca||null;this.ciphers=d.ciphers||
null;this.rejectUnauthorized=void 0===d.rejectUnauthorized?null:d.rejectUnauthorized;var g="object"==typeof e&&e;g.global===g&&(d.extraHeaders&&0<Object.keys(d.extraHeaders).length)&&(this.extraHeaders=d.extraHeaders);this.open()},g=c("./transports"),l=c("component-emitter"),m=c("debug")("engine.io-client:socket"),j=c("indexof"),p=c("engine.io-parser"),q=c("parseuri"),r=c("parsejson"),s=c("parseqs");d.exports=f;f.priorWebsocketSuccess=!1;l(f.prototype);f.protocol=p.protocol;f.Socket=f;f.Transport=
c("./transport");f.transports=c("./transports");f.parser=c("engine.io-parser");f.prototype.createTransport=function(c){m('creating transport "%s"',c);var d=this.query,e={},f;for(f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.EIO=p.protocol;e.transport=c;this.id&&(e.sid=this.id);return new g[c]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,
timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};f.prototype.open=function(){var c;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))c="websocket";else{if(0===this.transports.length){var d=this;setTimeout(function(){d.emit("error",
"No transports available")},0);return}c=this.transports[0]}this.readyState="opening";try{c=this.createTransport(c)}catch(e){this.transports.shift();this.open();return}c.open();this.setTransport(c)};f.prototype.setTransport=function(c){m("setting transport %s",c.name);var d=this;this.transport&&(m("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=c;c.on("drain",function(){d.onDrain()}).on("packet",function(c){d.onPacket(c)}).on("error",function(c){d.onError(c)}).on("close",
function(){d.onClose("transport close")})};f.prototype.probe=function(c){function d(){if(I.onlyBinaryUpgrades){var e=!this.supportsBinary&&I.transport.supportsBinary;s=s||e}s||(m('probe transport "%s" opened',c),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(d){s||("pong"==d.type&&"probe"==d.data?(m('probe transport "%s" pong',c),I.upgrading=!0,I.emit("upgrading",r),r&&(f.priorWebsocketSuccess="websocket"==r.name,m('pausing current transport "%s"',I.transport.name),I.transport.pause(function(){!s&&
"closed"!=I.readyState&&(m("changing transport and sending upgrade packet"),q(),I.setTransport(r),r.send([{type:"upgrade"}]),I.emit("upgrade",r),r=null,I.upgrading=!1,I.flush())}))):(m('probe transport "%s" failed',c),d=Error("probe error"),d.transport=r.name,I.emit("upgradeError",d)))}))}function e(){s||(s=!0,q(),r.close(),r=null)}function g(d){var f=Error("probe error: "+d);f.transport=r.name;e();m('probe transport "%s" failed because of error: %s',c,d);I.emit("upgradeError",f)}function j(){g("transport closed")}
function l(){g("socket closed")}function p(c){r&&c.name!=r.name&&(m('"%s" works - aborting "%s"',c.name,r.name),e())}function q(){r.removeListener("open",d);r.removeListener("error",g);r.removeListener("close",j);I.removeListener("close",l);I.removeListener("upgrading",p)}m('probing transport "%s"',c);var r=this.createTransport(c,{probe:1}),s=!1,I=this;f.priorWebsocketSuccess=!1;r.once("open",d);r.once("error",g);r.once("close",j);this.once("close",l);this.once("upgrading",p);r.open()};f.prototype.onOpen=
function(){m("socket open");this.readyState="open";f.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){m("starting upgrade probes");for(var c=0,d=this.upgrades.length;c<d;c++)this.probe(this.upgrades[c])}};f.prototype.onPacket=function(c){if("opening"==this.readyState||"open"==this.readyState)switch(m('socket receive: type "%s", data "%s"',c.type,c.data),this.emit("packet",c),this.emit("heartbeat"),
c.type){case "open":this.onHandshake(r(c.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var d=Error("server error");d.code=c.data;this.onError(d);break;case "message":this.emit("data",c.data),this.emit("message",c.data)}else m('packet received with socket readyState "%s"',this.readyState)};f.prototype.onHandshake=function(c){this.emit("handshake",c);this.id=c.sid;this.transport.query.sid=c.sid;this.upgrades=this.filterUpgrades(c.upgrades);this.pingInterval=c.pingInterval;
this.pingTimeout=c.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};f.prototype.onHeartbeat=function(c){clearTimeout(this.pingTimeoutTimer);var d=this;d.pingTimeoutTimer=setTimeout(function(){if("closed"!=d.readyState)d.onClose("ping timeout")},c||d.pingInterval+d.pingTimeout)};f.prototype.setPing=function(){var c=this;clearTimeout(c.pingIntervalTimer);c.pingIntervalTimer=setTimeout(function(){m("writing ping packet - expecting pong within %sms",
c.pingTimeout);c.ping();c.onHeartbeat(c.pingTimeout)},c.pingInterval)};f.prototype.ping=function(){var c=this;this.sendPacket("ping",function(){c.emit("ping")})};f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};f.prototype.flush=function(){"closed"!=this.readyState&&(this.transport.writable&&!this.upgrading&&this.writeBuffer.length)&&(m("flushing %d packets in socket",this.writeBuffer.length),
this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};f.prototype.write=f.prototype.send=function(c,d,e){this.sendPacket("message",c,d,e);return this};f.prototype.sendPacket=function(c,d,e,f){"function"==typeof d&&(f=d,d=void 0);"function"==typeof e&&(f=e,e=null);if(!("closing"==this.readyState||"closed"==this.readyState)){e=e||{};e.compress=!1!==e.compress;c={type:c,data:d,options:e};this.emit("packetCreate",c);this.writeBuffer.push(c);if(f)this.once("flush",
f);this.flush()}};f.prototype.close=function(){function c(){f.onClose("forced close");m("socket closing - telling transport to close");f.transport.close()}function d(){f.removeListener("upgrade",d);f.removeListener("upgradeError",d);c()}function e(){f.once("upgrade",d);f.once("upgradeError",d)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var f=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?e():c()});else this.upgrading?e():c()}return this};
f.prototype.onError=function(c){m("socket error %j",c);f.priorWebsocketSuccess=!1;this.emit("error",c);this.onClose("transport error",c)};f.prototype.onClose=function(c,d){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)m('socket close with reason: "%s"',c),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=
null,this.emit("close",c,d),this.writeBuffer=[],this.prevBufferLen=0};f.prototype.filterUpgrades=function(c){for(var d=[],e=0,f=c.length;e<f;e++)~j(this.transports,c[e])&&d.push(c[e]);return d}},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(c,d){function e(c){this.path=c.path;this.hostname=c.hostname;this.port=c.port;this.secure=c.secure;this.query=c.query;this.timestampParam=c.timestampParam;this.timestampRequests=
c.timestampRequests;this.readyState="";this.agent=c.agent||!1;this.socket=c.socket;this.enablesXDR=c.enablesXDR;this.pfx=c.pfx;this.key=c.key;this.passphrase=c.passphrase;this.cert=c.cert;this.ca=c.ca;this.ciphers=c.ciphers;this.rejectUnauthorized=c.rejectUnauthorized;this.extraHeaders=c.extraHeaders}var f=c("engine.io-parser"),g=c("component-emitter");d.exports=e;g(e.prototype);e.prototype.onError=function(c,d){var e=Error(c);e.type="TransportError";e.description=d;this.emit("error",e);return this};
e.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};e.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};e.prototype.send=function(c){if("open"==this.readyState)this.write(c);else throw Error("Transport not open");};e.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};e.prototype.onData=function(c){c=f.decodePacket(c,
this.socket.binaryType);this.onPacket(c)};e.prototype.onPacket=function(c){this.emit("packet",c)};e.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(c,d,e){var f="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},g=c("xmlhttprequest-ssl"),l=c("./polling-xhr"),m=c("./polling-jsonp");c=c("./websocket");e.polling=function(c){var d=!1,e=!1,r=!1!==c.jsonp;f.location&&
(e="https:"==location.protocol,(d=location.port)||(d=e?443:80),d=c.hostname!=location.hostname||d!=c.port,e=c.secure!=e);c.xdomain=d;c.xscheme=e;if("open"in new g(c)&&!c.forceJSONP)return new l(c);if(!r)throw Error("JSONP disabled");return new m(c)};e.websocket=c},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(){},g=function(c){l.call(this,
c);this.query=this.query||{};q||(e.___eio||(e.___eio=[]),q=e.___eio);this.index=q.length;var d=this;q.push(function(c){d.onData(c)});this.query.j=this.index;e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=f)},!1)},l=c("./polling"),m=c("component-inherit");d.exports=g;var j=/\n/g,p=/\\n/g,q;m(g,l);g.prototype.supportsBinary=!1;g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&
(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);l.prototype.doClose.call(this)};g.prototype.doPoll=function(){var c=this,d=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);d.async=!0;d.src=this.uri();d.onerror=function(d){c.onError("jsonp poll error",d)};var e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(d,e):(document.head||document.body).appendChild(d);this.script=d;"undefined"!=typeof navigator&&
/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var c=document.createElement("iframe");document.body.appendChild(c);document.body.removeChild(c)},100)};g.prototype.doWrite=function(c,d){function e(){f();d()}function f(){if(g.iframe)try{g.form.removeChild(g.iframe)}catch(c){g.onError("jsonp polling iframe removal error",c)}try{E=document.createElement('<iframe src="javascript:0" name="'+g.iframeId+'">')}catch(d){E=document.createElement("iframe"),E.name=g.iframeId,E.src="javascript:0"}E.id=
g.iframeId;g.form.appendChild(E);g.iframe=E}var g=this;if(!this.form){var m=document.createElement("form"),l=document.createElement("textarea"),q=this.iframeId="eio_iframe_"+this.index,E;m.className="socketio";m.style.position="absolute";m.style.top="-1000px";m.style.left="-1000px";m.target=q;m.method="POST";m.setAttribute("accept-charset","utf-8");l.name="d";m.appendChild(l);document.body.appendChild(m);this.form=m;this.area=l}this.form.action=this.uri();f();c=c.replace(p,"\\\n");this.area.value=
c.replace(j,"\\n");try{this.form.submit()}catch(G){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==g.iframe.readyState&&e()}:this.iframe.onload=e}},{"./polling":8,"component-inherit":16}],7:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(){},g=function(c){p.call(this,c);if(e.location){var d="https:"==location.protocol,f=location.port;f||(f=d?443:80);this.xd=c.hostname!=e.location.hostname||
f!=c.port;this.xs=c.secure!=d}else this.extraHeaders=c.extraHeaders},l=function(c){this.method=c.method||"GET";this.uri=c.uri;this.xd=!!c.xd;this.xs=!!c.xs;this.async=!1!==c.async;this.data=void 0!=c.data?c.data:null;this.agent=c.agent;this.isBinary=c.isBinary;this.supportsBinary=c.supportsBinary;this.enablesXDR=c.enablesXDR;this.pfx=c.pfx;this.key=c.key;this.passphrase=c.passphrase;this.cert=c.cert;this.ca=c.ca;this.ciphers=c.ciphers;this.rejectUnauthorized=c.rejectUnauthorized;this.extraHeaders=
c.extraHeaders;this.create()},m=function(){for(var c in l.requests)l.requests.hasOwnProperty(c)&&l.requests[c].abort()},j=c("xmlhttprequest-ssl"),p=c("./polling"),q=c("component-emitter"),r=c("component-inherit"),s=c("debug")("engine.io-client:polling-xhr");d.exports=g;d.exports.Request=l;r(g,p);g.prototype.supportsBinary=!0;g.prototype.request=function(c){c=c||{};c.uri=this.uri();c.xd=this.xd;c.xs=this.xs;c.agent=this.agent||!1;c.supportsBinary=this.supportsBinary;c.enablesXDR=this.enablesXDR;c.pfx=
this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;c.extraHeaders=this.extraHeaders;return new l(c)};g.prototype.doWrite=function(c,d){var e=this.request({method:"POST",data:c,isBinary:"string"!==typeof c&&void 0!==c}),f=this;e.on("success",d);e.on("error",function(c){f.onError("xhr post error",c)});this.sendXhr=e};g.prototype.doPoll=function(){s("xhr poll");var c=this.request(),d=this;c.on("data",
function(c){d.onData(c)});c.on("error",function(c){d.onError("xhr poll error",c)});this.pollXhr=c};q(l.prototype);l.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;var d=this.xhr=new j(c),f=this;try{s("xhr open %s: %s",this.method,this.uri);d.open(this.method,this.uri,this.async);
try{if(this.extraHeaders){d.setDisableHeaderCheck(!0);for(var g in this.extraHeaders)this.extraHeaders.hasOwnProperty(g)&&d.setRequestHeader(g,this.extraHeaders[g])}}catch(m){}this.supportsBinary&&(d.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?d.setRequestHeader("Content-type","application/octet-stream"):d.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(p){}"withCredentials"in d&&(d.withCredentials=!0);this.hasXDR()?(d.onload=function(){f.onLoad()},d.onerror=
function(){f.onError(d.responseText)}):d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||1223==d.status)f.onLoad();else setTimeout(function(){f.onError(d.status)},0)};s("xhr data %s",this.data);d.send(this.data)}catch(q){setTimeout(function(){f.onError(q)},0);return}e.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)};l.prototype.onSuccess=function(){this.emit("success");this.cleanup()};l.prototype.onData=function(c){this.emit("data",c);this.onSuccess()};l.prototype.onError=
function(c){this.emit("error",c);this.cleanup(!0)};l.prototype.cleanup=function(c){if(!("undefined"==typeof this.xhr||null===this.xhr)){this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f;if(c)try{this.xhr.abort()}catch(d){}e.document&&delete l.requests[this.index];this.xhr=null}};l.prototype.onLoad=function(){var c;try{var d;try{d=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===d)c=this.xhr.response;else if(this.supportsBinary)try{c=
String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(f){var g=new Uint8Array(this.xhr.response);d=[];for(var j=0,m=g.length;j<m;j++)d.push(g[j]);c=String.fromCharCode.apply(null,d)}else c=this.xhr.responseText}catch(l){this.onError(l)}if(null!=c)this.onData(c)};l.prototype.hasXDR=function(){return"undefined"!==typeof e.XDomainRequest&&!this.xs&&this.enablesXDR};l.prototype.abort=function(){this.cleanup()};e.document&&(l.requestsCount=0,l.requests={},e.attachEvent?e.attachEvent("onunload",
m):e.addEventListener&&e.addEventListener("beforeunload",m,!1))},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(c,d){function e(c){var d=c&&c.forceBase64;if(!q||d)this.supportsBinary=!1;f.call(this,c)}var f=c("../transport"),g=c("parseqs"),l=c("engine.io-parser"),m=c("component-inherit"),j=c("yeast"),p=c("debug")("engine.io-client:polling");d.exports=e;var q;q=null!=(new (c("xmlhttprequest-ssl"))({xdomain:!1})).responseType;m(e,f);e.prototype.name=
"polling";e.prototype.doOpen=function(){this.poll()};e.prototype.pause=function(c){function d(){p("paused");e.readyState="paused";c()}var e=this;this.readyState="pausing";if(this.polling||!this.writable){var f=0;this.polling&&(p("we are currently polling - waiting to pause"),f++,this.once("pollComplete",function(){p("pre-pause polling complete");--f||d()}));this.writable||(p("we are currently writing - waiting to pause"),f++,this.once("drain",function(){p("pre-pause writing complete");--f||d()}))}else d()};
e.prototype.poll=function(){p("polling");this.polling=!0;this.doPoll();this.emit("poll")};e.prototype.onData=function(c){var d=this;p("polling got data %s",c);l.decodePayload(c,this.socket.binaryType,function(c){if("opening"==d.readyState)d.onOpen();if("close"==c.type)return d.onClose(),!1;d.onPacket(c)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))};e.prototype.doClose=function(){function c(){p("writing close packet");
d.write([{type:"close"}])}var d=this;"open"==this.readyState?(p("transport open - closing"),c()):(p("transport not open - deferring close"),this.once("open",c))};e.prototype.write=function(c){var d=this;this.writable=!1;var e=function(){d.writable=!0;d.emit("drain")},d=this;l.encodePayload(c,this.supportsBinary,function(c){d.doWrite(c,e)})};e.prototype.uri=function(){var c=this.query||{},d=this.secure?"https":"http",e="";!1!==this.timestampRequests&&(c[this.timestampParam]=j());!this.supportsBinary&&
!c.sid&&(c.b64=1);c=g.encode(c);if(this.port&&("https"==d&&443!=this.port||"http"==d&&80!=this.port))e=":"+this.port;c.length&&(c="?"+c);var f=-1!==this.hostname.indexOf(":");return d+"://"+(f?"["+this.hostname+"]":this.hostname)+e+this.path+c}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(c){c&&
c.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=c.perMessageDeflate;g.call(this,c)},g=c("../transport"),l=c("engine.io-parser"),m=c("parseqs"),j=c("component-inherit"),p=c("yeast"),q=c("debug")("engine.io-client:websocket"),r=e.WebSocket||e.MozWebSocket,s=r;if(!s&&"undefined"===typeof window)try{s=c("ws")}catch(t){}d.exports=f;j(f,g);f.prototype.name="websocket";f.prototype.supportsBinary=!0;f.prototype.doOpen=function(){if(this.check()){var c=this.uri(),d={agent:this.agent,perMessageDeflate:this.perMessageDeflate};
d.pfx=this.pfx;d.key=this.key;d.passphrase=this.passphrase;d.cert=this.cert;d.ca=this.ca;d.ciphers=this.ciphers;d.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(d.headers=this.extraHeaders);this.ws=r?new s(c):new s(c,void 0,d);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};f.prototype.addEventListeners=function(){var c=this;
this.ws.onopen=function(){c.onOpen()};this.ws.onclose=function(){c.onClose()};this.ws.onmessage=function(d){c.onData(d.data)};this.ws.onerror=function(d){c.onError("websocket error",d)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(f.prototype.onData=function(c){var d=this;setTimeout(function(){g.prototype.onData.call(d,c)},0)});f.prototype.write=function(c){var d=this;this.writable=!1;for(var f=c.length,g=0,j=f;g<j;g++)(function(c){l.encodePacket(c,d.supportsBinary,
function(g){if(!r){var j={};c.options&&(j.compress=c.options.compress);if(d.perMessageDeflate&&("string"==typeof g?e.Buffer.byteLength(g):g.length)<d.perMessageDeflate.threshold)j.compress=!1}try{r?d.ws.send(g):d.ws.send(g,j)}catch(m){q("websocket closed before onclose event")}--f||(d.emit("flush"),setTimeout(function(){d.writable=!0;d.emit("drain")},0))})})(c[g])};f.prototype.onClose=function(){g.prototype.onClose.call(this)};f.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};
f.prototype.uri=function(){var c=this.query||{},d=this.secure?"wss":"ws",e="";if(this.port&&("wss"==d&&443!=this.port||"ws"==d&&80!=this.port))e=":"+this.port;this.timestampRequests&&(c[this.timestampParam]=p());this.supportsBinary||(c.b64=1);c=m.encode(c);c.length&&(c="?"+c);var f=-1!==this.hostname.indexOf(":");return d+"://"+(f?"["+this.hostname+"]":this.hostname)+e+this.path+c};f.prototype.check=function(){return!!s&&!("__initialize"in s&&this.name===f.prototype.name)}},{"../transport":4,"component-inherit":16,
debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(c,d){var e=c("has-cors");d.exports=function(c){var d=c.xdomain,l=c.xscheme;c=c.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!d||e))return new XMLHttpRequest}catch(m){}try{if("undefined"!=typeof XDomainRequest&&!l&&c)return new XDomainRequest}catch(j){}if(!d)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(p){}}},{"has-cors":22}],11:[function(c,d){function e(){}d.exports=function(c,d,l){function m(c,e){if(0>=
m.count)throw Error("after called too many times");--m.count;c?(j=!0,d(c),d=l):0===m.count&&!j&&d(null,e)}var j=!1;l=l||e;m.count=c;return 0===c?d():m}},{}],12:[function(c,d){d.exports=function(c,d,g){var l=c.byteLength;d=d||0;g=g||l;if(c.slice)return c.slice(d,g);0>d&&(d+=l);0>g&&(g+=l);g>l&&(g=l);if(d>=l||d>=g||0===l)return new ArrayBuffer(0);c=new Uint8Array(c);for(var l=new Uint8Array(g-d),m=0;d<g;d++,m++)l[m]=c[d];return l.buffer}},{}],13:[function(c,d,e){e.encode=function(c){c=new Uint8Array(c);
var d,e=c.length,m="";for(d=0;d<e;d+=3)m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c[d]>>2],m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(c[d]&3)<<4|c[d+1]>>4],m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(c[d+1]&15)<<2|c[d+2]>>6],m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c[d+2]&63];2===e%3?m=m.substring(0,m.length-1)+"=":1===e%3&&(m=m.substring(0,m.length-2)+"==");return m};e.decode=function(c){var d=
0.75*c.length,e=c.length,m=0,j,p,q,r;"="===c[c.length-1]&&(d--,"="===c[c.length-2]&&d--);for(var s=new ArrayBuffer(d),t=new Uint8Array(s),d=0;d<e;d+=4)j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[d]),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[d+1]),q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[d+2]),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(c[d+3]),t[m++]=j<<2|
p>>4,t[m++]=(p&15)<<4|q>>2,t[m++]=(q&3)<<6|r&63;return s}},{}],14:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=function(c){for(var d=0;d<c.length;d++){var e=c[d];if(e.buffer instanceof ArrayBuffer){var f=e.buffer;if(e.byteLength!==f.byteLength){var g=new Uint8Array(e.byteLength);g.set(new Uint8Array(f,e.byteOffset,e.byteLength));f=g.buffer}c[d]=f}}},g=function(c,d){d=d||{};var e=new m;f(c);for(var g=0;g<c.length;g++)e.append(c[g]);
return d.type?e.getBlob(d.type):e.getBlob()},l=function(c,d){f(c);return new Blob(c,d||{})},m=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,j;try{j=2===(new Blob(["hi"])).size}catch(p){j=!1}var q;if(q=j)try{q=2===(new Blob([new Uint8Array([1,2])])).size}catch(r){q=!1}var s=m&&m.prototype.append&&m.prototype.getBlob;e=j?q?e.Blob:l:s?g:void 0;d.exports=e},{}],15:[function(c,d){function e(c){if(c){for(var d in e.prototype)c[d]=e.prototype[d];return c}}d.exports=e;e.prototype.on=
e.prototype.addEventListener=function(c,d){this._callbacks=this._callbacks||{};(this._callbacks[c]=this._callbacks[c]||[]).push(d);return this};e.prototype.once=function(c,d){function e(){m.off(c,e);d.apply(this,arguments)}var m=this;this._callbacks=this._callbacks||{};e.fn=d;this.on(c,e);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(c,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var e=this._callbacks[c];if(!e)return this;if(1==arguments.length)return delete this._callbacks[c],this;for(var m,j=0;j<e.length;j++)if(m=e[j],m===d||m.fn===d){e.splice(j,1);break}return this};e.prototype.emit=function(c){this._callbacks=this._callbacks||{};var d=[].slice.call(arguments,1),e=this._callbacks[c];if(e)for(var e=e.slice(0),m=0,j=e.length;m<j;++m)e[m].apply(this,d);return this};e.prototype.listeners=function(c){this._callbacks=this._callbacks||{};return this._callbacks[c]||[]};
e.prototype.hasListeners=function(c){return!!this.listeners(c).length}},{}],16:[function(c,d){d.exports=function(c,d){var g=function(){};g.prototype=d.prototype;c.prototype=new g;c.prototype.constructor=c}},{}],17:[function(c,d,e){function f(){var c;try{c=e.storage.debug}catch(d){}return c}e=d.exports=c("./debug");e.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};e.formatArgs=function(){var c=arguments,d=this.useColors;c[0]=
(d?"%c":"")+this.namespace+(d?" %c":" ")+c[0]+(d?"%c ":" ")+"+"+e.humanize(this.diff);if(!d)return c;var d="color: "+this.color,c=[c[0],d,"color: inherit"].concat(Array.prototype.slice.call(c,1)),f=0,g=0;c[0].replace(/%[a-z%]/g,function(c){"%%"!==c&&(f++,"%c"===c&&(g=f))});c.splice(g,0,d);return c};e.save=function(c){try{null==c?e.storage.removeItem("debug"):e.storage.debug=c}catch(d){}};e.load=f;e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||
console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var g;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)g=chrome.storage.local;else a:{try{g=window.localStorage;break a}catch(l){}g=void 0}e.storage=g;e.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");e.formatters.j=function(c){return JSON.stringify(c)};e.enable(f())},{"./debug":18}],18:[function(c,d,e){e=d.exports=function(c){function d(){}
function j(){var c=j,d=+new Date;c.diff=d-(g||d);c.prev=g;g=c.curr=d;null==c.useColors&&(c.useColors=e.useColors());null==c.color&&c.useColors&&(c.color=e.colors[f++%e.colors.length]);var m=Array.prototype.slice.call(arguments);m[0]=e.coerce(m[0]);"string"!==typeof m[0]&&(m=["%o"].concat(m));var l=0;m[0]=m[0].replace(/%([a-z%])/g,function(d,f){if("%%"===d)return d;l++;var g=e.formatters[f];"function"===typeof g&&(d=g.call(c,m[l]),m.splice(l,1),l--);return d});"function"===typeof e.formatArgs&&(m=
e.formatArgs.apply(c,m));(j.log||e.log||console.log.bind(console)).apply(c,m)}d.enabled=!1;j.enabled=!0;var p=e.enabled(c)?j:d;p.namespace=c;return p};e.coerce=function(c){return c instanceof Error?c.stack||c.message:c};e.disable=function(){e.enable("")};e.enable=function(c){e.save(c);for(var d=(c||"").split(/[\s,]+/),f=d.length,g=0;g<f;g++)d[g]&&(c=d[g].replace(/\*/g,".*?"),"-"===c[0]?e.skips.push(RegExp("^"+c.substr(1)+"$")):e.names.push(RegExp("^"+c+"$")))};e.enabled=function(c){var d,f;d=0;for(f=
e.skips.length;d<f;d++)if(e.skips[d].test(c))return!1;d=0;for(f=e.names.length;d<f;d++)if(e.names[d].test(c))return!0;return!1};e.humanize=c("ms");e.names=[];e.skips=[];e.formatters={};var f=0,g},{ms:25}],19:[function(c,d,e){var f="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},g=function(c,d,e){var f=Array(c.length);e=p(c.length,e);for(var g=function(c,e,g){d(e,function(d,e){f[c]=e;g(d,f)})},j=0;j<c.length;j++)g(j,c[j],e)};d=c("./keys");var l=
c("has-binary"),m=c("arraybuffer.slice"),j=c("base64-arraybuffer"),p=c("after"),q=c("utf8"),r=navigator.userAgent.match(/Android/i),s=/PhantomJS/i.test(navigator.userAgent),t=r||s;e.protocol=3;var y=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=d(y),A={type:"error",data:"parser error"},B=c("blob");e.encodePacket=function(c,d,g,j){"function"==typeof d&&(j=d,d=!1);"function"==typeof g&&(j=g,g=null);var m=void 0===c.data?void 0:c.data.buffer||c.data;if(f.ArrayBuffer&&m instanceof
ArrayBuffer){g=j;if(d){j=c.data;d=new Uint8Array(j);j=new Uint8Array(1+j.byteLength);j[0]=y[c.type];for(m=0;m<d.length;m++)j[m+1]=d[m];g=g(j.buffer)}else g=e.encodeBase64Packet(c,g);return g}if(B&&m instanceof f.Blob){var l=d,p=j;if(l)if(t)if(l){var r=new FileReader;r.onload=function(){c.data=r.result;e.encodePacket(c,l,!0,p)};g=r.readAsArrayBuffer(c.data)}else g=e.encodeBase64Packet(c,p);else g=new Uint8Array(1),g[0]=y[c.type],g=new B([g.buffer,c.data]),g=p(g);else g=e.encodeBase64Packet(c,p);return g}if(m&&
m.base64)return j("b"+e.packets[c.type]+c.data.data);d=y[c.type];void 0!==c.data&&(d+=g?q.encode(String(c.data)):String(c.data));return j(""+d)};e.encodeBase64Packet=function(c,d){var g="b"+e.packets[c.type];if(B&&c.data instanceof f.Blob){var j=new FileReader;j.onload=function(){var c=j.result.split(",")[1];d(g+c)};return j.readAsDataURL(c.data)}var m;try{m=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(l){m=new Uint8Array(c.data);for(var p=Array(m.length),q=0;q<m.length;q++)p[q]=m[q];
m=String.fromCharCode.apply(null,p)}g+=f.btoa(m);return d(g)};e.decodePacket=function(c,d,f){if("string"==typeof c||void 0===c){if("b"==c.charAt(0))return e.decodeBase64Packet(c.substr(1),d);if(f)try{c=q.decode(c)}catch(g){return A}f=c.charAt(0);return Number(f)!=f||!u[f]?A:1<c.length?{type:u[f],data:c.substring(1)}:{type:u[f]}}f=(new Uint8Array(c))[0];c=m(c,1);B&&"blob"===d&&(c=new B([c]));return{type:u[f],data:c}};e.decodeBase64Packet=function(c,d){var e=u[c.charAt(0)];if(!f.ArrayBuffer)return{type:e,
data:{base64:!0,data:c.substr(1)}};var g=j.decode(c.substr(1));"blob"===d&&B&&(g=new B([g]));return{type:e,data:g}};e.encodePayload=function(c,d,f){"function"==typeof d&&(f=d,d=null);var j=l(c);if(d&&j)return B&&!t?e.encodePayloadAsBlob(c,f):e.encodePayloadAsArrayBuffer(c,f);if(!c.length)return f("0:");g(c,function(c,f){e.encodePacket(c,!j?!1:d,!0,function(c){f(null,c.length+":"+c)})},function(c,d){return f(d.join(""))})};e.decodePayload=function(c,d,f){if("string"!=typeof c)return e.decodePayloadAsBinary(c,
d,f);"function"===typeof d&&(f=d,d=null);var g;if(""==c)return f(A,0,1);g="";for(var j,m,l=0,p=c.length;l<p;l++)if(m=c.charAt(l),":"!=m)g+=m;else{if(""==g||g!=(j=Number(g)))return f(A,0,1);m=c.substr(l+1,j);if(g!=m.length)return f(A,0,1);if(m.length){g=e.decodePacket(m,d,!0);if(A.type==g.type&&A.data==g.data)return f(A,0,1);if(!1===f(g,l+j,p))return}l+=j;g=""}if(""!=g)return f(A,0,1)};e.encodePayloadAsArrayBuffer=function(c,d){if(!c.length)return d(new ArrayBuffer(0));g(c,function(c,d){e.encodePacket(c,
!0,!0,function(c){return d(null,c)})},function(c,e){var f=e.reduce(function(c,d){var e;e="string"===typeof d?d.length:d.byteLength;return c+e.toString().length+e+2},0),g=new Uint8Array(f),j=0;e.forEach(function(c){var d="string"===typeof c,e=c;if(d){for(var e=new Uint8Array(c.length),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);e=e.buffer}d?g[j++]=0:g[j++]=1;c=e.byteLength.toString();for(f=0;f<c.length;f++)g[j++]=parseInt(c[f]);g[j++]=255;e=new Uint8Array(e);for(f=0;f<e.length;f++)g[j++]=e[f]});return d(g.buffer)})};
e.encodePayloadAsBlob=function(c,d){g(c,function(c,d){e.encodePacket(c,!0,!0,function(c){var e=new Uint8Array(1);e[0]=1;if("string"===typeof c){for(var f=new Uint8Array(c.length),g=0;g<c.length;g++)f[g]=c.charCodeAt(g);c=f.buffer;e[0]=0}for(var f=(c instanceof ArrayBuffer?c.byteLength:c.size).toString(),j=new Uint8Array(f.length+1),g=0;g<f.length;g++)j[g]=parseInt(f[g]);j[f.length]=255;B&&(c=new B([e.buffer,j.buffer,c]),d(null,c))})},function(c,e){return d(new B(e))})};e.decodePayloadAsBinary=function(c,
d,f){"function"===typeof d&&(f=d,d=null);for(var g=[],j=!1;0<c.byteLength;){for(var l=new Uint8Array(c),p=0===l[0],q="",r=1;255!=l[r];r++){if(310<q.length){j=!0;break}q+=l[r]}if(j)return f(A,0,1);c=m(c,2+q.length);q=parseInt(q);l=m(c,0,q);if(p)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(s){p=new Uint8Array(l);l="";for(r=0;r<p.length;r++)l+=String.fromCharCode(p[r])}g.push(l);c=m(c,q)}var t=g.length;g.forEach(function(c,g){f(e.decodePacket(c,d,!0),g,t)})}},{"./keys":20,after:11,"arraybuffer.slice":12,
"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(c,d){d.exports=Object.keys||function(c){var d=[],g=Object.prototype.hasOwnProperty,l;for(l in c)g.call(c,l)&&d.push(l);return d}},{}],21:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=c("isarray");d.exports=function(c){function d(c){if(!c)return!1;if(e.Buffer&&e.Buffer.isBuffer(c)||e.ArrayBuffer&&c instanceof ArrayBuffer||e.Blob&&c instanceof Blob||
e.File&&c instanceof File)return!0;if(f(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,g)&&d(c[g]))return!0;return!1}return d(c)}},{isarray:24}],22:[function(c,d){try{d.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){d.exports=!1}},{}],23:[function(c,d){var e=[].indexOf;d.exports=function(c,d){if(e)return c.indexOf(d);for(var l=0;l<c.length;++l)if(c[l]===
d)return l;return-1}},{}],24:[function(c,d){d.exports=Array.isArray||function(c){return"[object Array]"==Object.prototype.toString.call(c)}},{}],25:[function(c,d){function e(c){c=""+c;if(!(1E4<c.length)&&(c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c))){var d=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return d*p;case "days":case "day":case "d":return d*
j;case "hours":case "hour":case "hrs":case "hr":case "h":return d*m;case "minutes":case "minute":case "mins":case "min":case "m":return d*l;case "seconds":case "second":case "secs":case "sec":case "s":return d*g;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return d}}}function f(c,d,e){if(!(c<d))return c<1.5*d?Math.floor(c/d)+" "+e:Math.ceil(c/d)+" "+e+"s"}var g=1E3,l=60*g,m=60*l,j=24*m,p=365.25*j;d.exports=function(c,d){d=d||{};return"string"==typeof c?e(c):d.long?f(c,
j,"day")||f(c,m,"hour")||f(c,l,"minute")||f(c,g,"second")||c+" ms":c>=j?Math.round(c/j)+"d":c>=m?Math.round(c/m)+"h":c>=l?Math.round(c/l)+"m":c>=g?Math.round(c/g)+"s":c+"ms"}},{}],26:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,l=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,j=/^\s+/,p=/\s+$/;d.exports=function(c){if("string"!=
typeof c||!c)return null;c=c.replace(j,"").replace(p,"");if(e.JSON&&JSON.parse)return JSON.parse(c);if(f.test(c.replace(g,"@").replace(l,"]").replace(m,"")))return(new Function("return "+c))()}},{}],27:[function(c,d,e){e.encode=function(c){var d="",e;for(e in c)c.hasOwnProperty(e)&&(d.length&&(d+="&"),d+=encodeURIComponent(e)+"="+encodeURIComponent(c[e]));return d};e.decode=function(c){var d={};c=c.split("&");for(var e=0,m=c.length;e<m;e++){var j=c[e].split("=");d[decodeURIComponent(j[0])]=decodeURIComponent(j[1])}return d}},
{}],28:[function(c,d){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");d.exports=function(c){var d=c,m=c.indexOf("["),j=c.indexOf("]");-1!=m&&-1!=j&&(c=c.substring(0,m)+c.substring(m,j).replace(/:/g,
";")+c.substring(j,c.length));c=e.exec(c||"");for(var p={},q=14;q--;)p[f[q]]=c[q]||"";-1!=m&&-1!=j&&(p.source=d,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0);return p}},{}],29:[function(c,d,e){var f="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{};c=this;var g=function(c){for(var d=[],e=0,f=c.length,g,j;e<f;)g=c.charCodeAt(e++),55296<=g&&56319>=
g&&e<f?(j=c.charCodeAt(e++),56320==(j&64512)?d.push(((g&1023)<<10)+(j&1023)+65536):(d.push(g),e--)):d.push(g);return d},l=function(c){if(55296<=c&&57343>=c)throw Error("Lone surrogate U+"+c.toString(16).toUpperCase()+" is not a scalar value");},m=function(){if(s>=r)throw Error("Invalid byte index");var c=q[s]&255;s++;if(128==(c&192))return c&63;throw Error("Invalid continuation byte");},j=function(){var c,d,e,f;if(s>r)throw Error("Invalid byte index");if(s==r)return!1;c=q[s]&255;s++;if(0==(c&128))return c;
if(192==(c&224)){d=m();c=(c&31)<<6|d;if(128<=c)return c;throw Error("Invalid continuation byte");}if(224==(c&240)){d=m();e=m();c=(c&15)<<12|d<<6|e;if(2048<=c)return l(c),c;throw Error("Invalid continuation byte");}if(240==(c&248)&&(d=m(),e=m(),f=m(),c=(c&15)<<18|d<<12|e<<6|f,65536<=c&&1114111>=c))return c;throw Error("Invalid UTF-8 detected");};e="object"==typeof e&&e;d="object"==typeof d&&d&&d.exports==e&&d;f="object"==typeof f&&f;if(f.global===f||f.window===f)c=f;var p=String.fromCharCode,q,r,s,
f={version:"2.0.0",encode:function(c){c=g(c);for(var d=c.length,e=-1,f,j="";++e<d;){f=c[e];if(0==(f&4294967168))f=p(f);else{var m="";0==(f&4294965248)?m=p(f>>6&31|192):0==(f&4294901760)?(l(f),m=p(f>>12&15|224),m+=p(f>>6&63|128)):0==(f&4292870144)&&(m=p(f>>18&7|240),m+=p(f>>12&63|128),m+=p(f>>6&63|128));f=m+=p(f&63|128)}j+=f}return j},decode:function(c){q=g(c);r=q.length;s=0;c=[];for(var d;!1!==(d=j());)c.push(d);d=c.length;for(var e=-1,f,m="";++e<d;)f=c[e],65535<f&&(f-=65536,m+=p(f>>>10&1023|55296),
f=56320|f&1023),m+=p(f);return m}};if(e&&!e.nodeType)if(d)d.exports=f;else{c={}.hasOwnProperty;for(var t in f)c.call(f,t)&&(e[t]=f[t])}else c.utf8=f},{}],30:[function(c,d){function e(c){var d="";do d=g[c%l]+d,c=Math.floor(c/l);while(0<c);return d}function f(){var c=e(+new Date);return c!==q?(j=0,q=c):c+"."+e(j++)}for(var g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,m={},j=0,p=0,q;p<l;p++)m[g[p]]=p;f.encode=e;f.decode=function(c){var d=0;for(p=0;p<c.length;p++)d=
d*l+m[c.charAt(p)];return d};d.exports=f},{}],31:[function(c,d,e){function f(c,d){"object"==typeof c&&(d=c,c=void 0);d=d||{};var e=g(c),f=e.source,l=e.id,u=e.path,u=p[l]&&u in p[l].nsps;d.forceNew||d["force new connection"]||!1===d.multiplex||u?(j("ignoring socket cache for %s",f),f=m(f,d)):(p[l]||(j("new io instance for %s",f),p[l]=m(f,d)),f=p[l]);return f.socket(e.path)}var g=c("./url"),l=c("socket.io-parser"),m=c("./manager"),j=c("debug")("socket.io-client");d.exports=e=f;var p=e.managers={};e.protocol=
l.protocol;e.connect=f;e.Manager=c("./manager");e.Socket=c("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(c,d){function e(c,d){if(!(this instanceof e))return new e(c,d);c&&"object"==typeof c&&(d=c,c=void 0);d=d||{};d.path=d.path||"/socket.io";this.nsps={};this.subs=[];this.opts=d;this.reconnection(!1!==d.reconnection);this.reconnectionAttempts(d.reconnectionAttempts||Infinity);this.reconnectionDelay(d.reconnectionDelay||1E3);this.reconnectionDelayMax(d.reconnectionDelayMax||
5E3);this.randomizationFactor(d.randomizationFactor||0.5);this.backoff=new s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==d.timeout?2E4:d.timeout);this.readyState="closed";this.uri=c;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new m.Encoder;this.decoder=new m.Decoder;(this.autoConnect=!1!==d.autoConnect)&&this.open()}var f=c("engine.io-client"),g=c("./socket"),l=c("component-emitter"),
m=c("socket.io-parser"),j=c("./on"),p=c("component-bind"),q=c("debug")("socket.io-client:manager"),r=c("indexof"),s=c("backo2"),t=Object.prototype.hasOwnProperty;d.exports=e;e.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var c in this.nsps)t.call(this.nsps,c)&&this.nsps[c].emit.apply(this.nsps[c],arguments)};e.prototype.updateSocketIds=function(){for(var c in this.nsps)t.call(this.nsps,c)&&(this.nsps[c].id=this.engine.id)};l(e.prototype);e.prototype.reconnection=function(c){if(!arguments.length)return this._reconnection;
this._reconnection=!!c;return this};e.prototype.reconnectionAttempts=function(c){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=c;return this};e.prototype.reconnectionDelay=function(c){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=c;this.backoff&&this.backoff.setMin(c);return this};e.prototype.randomizationFactor=function(c){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=c;this.backoff&&this.backoff.setJitter(c);
return this};e.prototype.reconnectionDelayMax=function(c){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=c;this.backoff&&this.backoff.setMax(c);return this};e.prototype.timeout=function(c){if(!arguments.length)return this._timeout;this._timeout=c;return this};e.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&(this._reconnection&&0===this.backoff.attempts)&&this.reconnect()};e.prototype.open=e.prototype.connect=function(c){q("readyState %s",this.readyState);
if(~this.readyState.indexOf("open"))return this;q("opening %s",this.uri);var d=this.engine=f(this.uri,this.opts),e=this;this.readyState="opening";this.skipReconnect=!1;var g=j(d,"open",function(){e.onopen();c&&c()}),m=j(d,"error",function(d){q("connect_error");e.cleanup();e.readyState="closed";e.emitAll("connect_error",d);if(c){var f=Error("Connection error");f.data=d;c(f)}else e.maybeReconnectOnOpen()});if(!1!==this._timeout){var l=this._timeout;q("connect attempt will timeout after %d",l);var p=
setTimeout(function(){q("connect attempt timed out after %d",l);g.destroy();d.close();d.emit("error","timeout");e.emitAll("connect_timeout",l)},l);this.subs.push({destroy:function(){clearTimeout(p)}})}this.subs.push(g);this.subs.push(m);return this};e.prototype.onopen=function(){q("open");this.cleanup();this.readyState="open";this.emit("open");var c=this.engine;this.subs.push(j(c,"data",p(this,"ondata")));this.subs.push(j(c,"ping",p(this,"onping")));this.subs.push(j(c,"pong",p(this,"onpong")));this.subs.push(j(c,
"error",p(this,"onerror")));this.subs.push(j(c,"close",p(this,"onclose")));this.subs.push(j(this.decoder,"decoded",p(this,"ondecoded")))};e.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};e.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};e.prototype.ondata=function(c){this.decoder.add(c)};e.prototype.ondecoded=function(c){this.emit("packet",c)};e.prototype.onerror=function(c){q("error",c);this.emitAll("error",c)};e.prototype.socket=function(c){function d(){~r(f.connecting,
e)||f.connecting.push(e)}var e=this.nsps[c];if(!e){e=new g(this,c);this.nsps[c]=e;var f=this;e.on("connecting",d);e.on("connect",function(){e.id=f.engine.id});this.autoConnect&&d()}return e};e.prototype.destroy=function(c){c=r(this.connecting,c);~c&&this.connecting.splice(c,1);this.connecting.length||this.close()};e.prototype.packet=function(c){q("writing packet %j",c);var d=this;d.encoding?d.packetBuffer.push(c):(d.encoding=!0,this.encoder.encode(c,function(e){for(var f=0;f<e.length;f++)d.engine.write(e[f],
c.options);d.encoding=!1;d.processPacketQueue()}))};e.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var c=this.packetBuffer.shift();this.packet(c)}};e.prototype.cleanup=function(){q("cleanup");for(var c;c=this.subs.shift();)c.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};e.prototype.close=e.prototype.disconnect=function(){q("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();
this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};e.prototype.onclose=function(c){q("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",c);this._reconnection&&!this.skipReconnect&&this.reconnect()};e.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var c=this;if(this.backoff.attempts>=this._reconnectionAttempts)q("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=
!1;else{var d=this.backoff.duration();q("will wait %dms before reconnect attempt",d);this.reconnecting=!0;var e=setTimeout(function(){c.skipReconnect||(q("attempting reconnect"),c.emitAll("reconnect_attempt",c.backoff.attempts),c.emitAll("reconnecting",c.backoff.attempts),c.skipReconnect||c.open(function(d){d?(q("reconnect attempt error"),c.reconnecting=!1,c.reconnect(),c.emitAll("reconnect_error",d.data)):(q("reconnect success"),c.onreconnect())}))},d);this.subs.push({destroy:function(){clearTimeout(e)}})}};
e.prototype.onreconnect=function(){var c=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",c)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(c,d){d.exports=function(c,d,g){c.on(d,g);return{destroy:function(){c.removeListener(d,g)}}}},{}],34:[function(c,d){function e(c,d){this.io=c;this.nsp=d;this.json=this;this.ids=0;this.acks=
{};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var f=c("socket.io-parser"),g=c("component-emitter"),l=c("to-array"),m=c("./on"),j=c("component-bind"),p=c("debug")("socket.io-client:socket"),q=c("has-binary");d.exports=e;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},s=g.prototype.emit;g(e.prototype);
e.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[m(c,"open",j(this,"onopen")),m(c,"packet",j(this,"onpacket")),m(c,"close",j(this,"onclose"))]}};e.prototype.open=e.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");return this};e.prototype.send=function(){var c=l(arguments);c.unshift("message");this.emit.apply(this,c);return this};e.prototype.emit=function(c){if(r.hasOwnProperty(c))return s.apply(this,
arguments),this;var d=l(arguments),e=f.EVENT;q(d)&&(e=f.BINARY_EVENT);e={type:e,data:d,options:{}};e.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof d[d.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),e.id=this.ids++);this.connected?this.packet(e):this.sendBuffer.push(e);delete this.flags;return this};e.prototype.packet=function(c){c.nsp=this.nsp;this.io.packet(c)};e.prototype.onopen=function(){p("transport is open - connecting");"/"!=
this.nsp&&this.packet({type:f.CONNECT})};e.prototype.onclose=function(c){p("close (%s)",c);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",c)};e.prototype.onpacket=function(c){if(c.nsp==this.nsp)switch(c.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(c);break;case f.BINARY_EVENT:this.onevent(c);break;case f.ACK:this.onack(c);break;case f.BINARY_ACK:this.onack(c);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",c.data)}};
e.prototype.onevent=function(c){var d=c.data||[];p("emitting event %j",d);null!=c.id&&(p("attaching ack callback to event"),d.push(this.ack(c.id)));this.connected?s.apply(this,d):this.receiveBuffer.push(d)};e.prototype.ack=function(c){var d=this,e=!1;return function(){if(!e){e=!0;var g=l(arguments);p("sending ack %j",g);var j=q(g)?f.BINARY_ACK:f.ACK;d.packet({type:j,id:c,data:g})}}};e.prototype.onack=function(c){var d=this.acks[c.id];"function"==typeof d?(p("calling ack %s with %j",c.id,c.data),d.apply(this,
c.data),delete this.acks[c.id]):p("bad ack %s",c.id)};e.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};e.prototype.emitBuffered=function(){var c;for(c=0;c<this.receiveBuffer.length;c++)s.apply(this,this.receiveBuffer[c]);this.receiveBuffer=[];for(c=0;c<this.sendBuffer.length;c++)this.packet(this.sendBuffer[c]);this.sendBuffer=[]};e.prototype.ondisconnect=function(){p("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};
e.prototype.destroy=function(){if(this.subs){for(var c=0;c<this.subs.length;c++)this.subs[c].destroy();this.subs=null}this.io.destroy(this)};e.prototype.close=e.prototype.disconnect=function(){this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this};e.prototype.compress=function(c){this.flags=this.flags||{};this.flags.compress=c;return this}},{"./on":33,"component-bind":37,"component-emitter":38,
debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=c("parseuri"),g=c("debug")("socket.io-client:url");d.exports=function(c,d){var j=c;d=d||e.location;null==c&&(c=d.protocol+"//"+d.host);"string"==typeof c&&("/"==c.charAt(0)&&(c="/"==c.charAt(1)?d.protocol+c:d.host+c),/^(https?|wss?):\/\//.test(c)||(g("protocol-less url %s",c),c="undefined"!=typeof d?d.protocol+
"//"+c:"https://"+c),g("parse %s",c),j=f(c));j.port||(/^(http|ws)$/.test(j.protocol)?j.port="80":/^(http|ws)s$/.test(j.protocol)&&(j.port="443"));j.path=j.path||"/";var p=-1!==j.host.indexOf(":")?"["+j.host+"]":j.host;j.id=j.protocol+"://"+p+":"+j.port;j.href=j.protocol+"://"+p+(d&&d.port==j.port?"":":"+j.port);return j}},{debug:39,parseuri:45}],36:[function(c,d){function e(c){c=c||{};this.ms=c.min||100;this.max=c.max||1E4;this.factor=c.factor||2;this.jitter=0<c.jitter&&1>=c.jitter?c.jitter:0;this.attempts=
0}d.exports=e;e.prototype.duration=function(){var c=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var d=Math.random(),e=Math.floor(d*this.jitter*c),c=0==(Math.floor(10*d)&1)?c-e:c+e;return Math.min(c,this.max)|0};e.prototype.reset=function(){this.attempts=0};e.prototype.setMin=function(c){this.ms=c};e.prototype.setMax=function(c){this.max=c};e.prototype.setJitter=function(c){this.jitter=c}},{}],37:[function(c,d){var e=[].slice;d.exports=function(c,d){"string"==typeof d&&(d=c[d]);if("function"!=
typeof d)throw Error("bind() requires a function");var l=e.call(arguments,2);return function(){return d.apply(c,l.concat(e.call(arguments)))}}},{}],38:[function(c,d){function e(c){if(c){for(var d in e.prototype)c[d]=e.prototype[d];return c}}d.exports=e;e.prototype.on=e.prototype.addEventListener=function(c,d){this._callbacks=this._callbacks||{};(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(d);return this};e.prototype.once=function(c,d){function e(){this.off(c,e);d.apply(this,arguments)}
e.fn=d;this.on(c,e);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(c,d){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+c];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+c],this;for(var m,j=0;j<e.length;j++)if(m=e[j],m===d||m.fn===d){e.splice(j,1);break}return this};e.prototype.emit=function(c){this._callbacks=this._callbacks||
{};var d=[].slice.call(arguments,1),e=this._callbacks["$"+c];if(e)for(var e=e.slice(0),m=0,j=e.length;m<j;++m)e[m].apply(this,d);return this};e.prototype.listeners=function(c){this._callbacks=this._callbacks||{};return this._callbacks["$"+c]||[]};e.prototype.hasListeners=function(c){return!!this.listeners(c).length}},{}],39:[function(c,d,e){arguments[4][17][0].apply(e,arguments)},{"./debug":40,dup:17}],40:[function(c,d,e){arguments[4][18][0].apply(e,arguments)},{dup:18,ms:44}],41:[function(c,d){var e=
"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},f=c("isarray");d.exports=function(c){function d(c){if(!c)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(c)||e.ArrayBuffer&&c instanceof ArrayBuffer||e.Blob&&c instanceof Blob||e.File&&c instanceof File)return!0;if(f(c))for(var g=0;g<c.length;g++){if(d(c[g]))return!0}else if(c&&"object"==typeof c)for(g in c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,
g)&&d(c[g]))return!0;return!1}return d(c)}},{isarray:43}],42:[function(c,d,e){arguments[4][23][0].apply(e,arguments)},{dup:23}],43:[function(c,d,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],44:[function(c,d,e){arguments[4][25][0].apply(e,arguments)},{dup:25}],45:[function(c,d,e){arguments[4][28][0].apply(e,arguments)},{dup:28}],46:[function(c,d,e){var f="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},g=c("isarray"),l=c("./is-buffer");
e.deconstructPacket=function(c){function d(c){if(!c)return c;if(l(c)){var f={_placeholder:!0,num:e.length};e.push(c);return f}if(g(c)){for(var f=Array(c.length),m=0;m<c.length;m++)f[m]=d(c[m]);return f}if("object"==typeof c&&!(c instanceof Date)){f={};for(m in c)f[m]=d(c[m]);return f}return c}var e=[];c.data=d(c.data);c.attachments=e.length;return{packet:c,buffers:e}};e.reconstructPacket=function(c,d){function e(c){if(c&&c._placeholder)return d[c.num];if(g(c))for(var f=0;f<c.length;f++)c[f]=e(c[f]);
else if(c&&"object"==typeof c)for(f in c)c[f]=e(c[f]);return c}c.data=e(c.data);c.attachments=void 0;return c};e.removeBlobs=function(c,d){function e(c,m,y){if(!c)return c;if(f.Blob&&c instanceof Blob||f.File&&c instanceof File){q++;var u=new FileReader;u.onload=function(){y?y[m]=this.result:r=this.result;--q||d(r)};u.readAsArrayBuffer(c)}else if(g(c))for(u=0;u<c.length;u++)e(c[u],u,c);else if(c&&"object"==typeof c&&!l(c))for(u in c)e(c[u],u,c)}var q=0,r=c;e(r);q||d(r)}},{"./is-buffer":48,isarray:43}],
47:[function(c,d,e){function f(){}function g(c){var d,f=!1;d=""+c.type;if(e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type)d+=c.attachments,d+="-";c.nsp&&"/"!=c.nsp&&(f=!0,d+=c.nsp);null!=c.id&&(f&&(d+=",",f=!1),d+=c.id);null!=c.data&&(f&&(d+=","),d+=q.stringify(c.data));p("encoded %j as %s",c,d);return d}function l(){this.reconstructor=null}function m(c){this.reconPack=c;this.buffers=[]}function j(){return{type:e.ERROR,data:"parser error"}}var p=c("debug")("socket.io-parser"),q=c("json3");c("isarray");
d=c("component-emitter");var r=c("./binary"),s=c("./is-buffer");e.protocol=4;e.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");e.CONNECT=0;e.DISCONNECT=1;e.EVENT=2;e.ACK=3;e.ERROR=4;e.BINARY_EVENT=5;e.BINARY_ACK=6;e.Encoder=f;e.Decoder=l;f.prototype.encode=function(c,d){p("encoding packet %j",c);if(e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type)r.removeBlobs(c,function(c){var e=r.deconstructPacket(c);c=g(e.packet);e=e.buffers;e.unshift(c);d(e)});else{var f=g(c);d([f])}};
d(l.prototype);l.prototype.add=function(c){if("string"==typeof c){a:{var d={},f=0;d.type=Number(c.charAt(0));if(null==e.types[d.type])c=j();else{if(e.BINARY_EVENT==d.type||e.BINARY_ACK==d.type){for(var g="";"-"!=c.charAt(++f)&&!(g+=c.charAt(f),f==c.length););if(g!=Number(g)||"-"!=c.charAt(f))throw Error("Illegal attachments");d.attachments=Number(g)}if("/"==c.charAt(f+1))for(d.nsp="";++f;){g=c.charAt(f);if(","==g)break;d.nsp+=g;if(f==c.length)break}else d.nsp="/";g=c.charAt(f+1);if(""!==g&&Number(g)==
g){for(d.id="";++f;){g=c.charAt(f);if(null==g||Number(g)!=g){--f;break}d.id+=c.charAt(f);if(f==c.length)break}d.id=Number(d.id)}if(c.charAt(++f))try{d.data=q.parse(c.substr(f))}catch(l){c=j();break a}p("decoded %s as %j",c,d);c=d}}e.BINARY_EVENT==c.type||e.BINARY_ACK==c.type?(this.reconstructor=new m(c),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c)}else if(s(c)||c.base64)if(this.reconstructor){if(c=this.reconstructor.takeBinaryData(c))this.reconstructor=
null,this.emit("decoded",c)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+c);};l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};m.prototype.takeBinaryData=function(c){this.buffers.push(c);return this.buffers.length==this.reconPack.attachments?(c=r.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),c):null};m.prototype.finishedReconstruction=function(){this.reconPack=null;
this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(c,d){var e="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{};d.exports=function(c){return e.Buffer&&e.Buffer.isBuffer(c)||e.ArrayBuffer&&c instanceof ArrayBuffer}},{}],49:[function(c,d,e){arguments[4][15][0].apply(e,arguments)},{dup:15}],50:[function(c,d,e){c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==
typeof global?global:{};var f=function(c,d){function e(c){if(e[c]!==T)return e[c];var f;if("bug-string-char-index"==c)f="a"!="a"[0];else if("json"==c)f=e("json-stringify")&&e("json-parse");else{var g;if("json-stringify"==c){f=d.stringify;var l="function"==typeof f&&V;if(l){(g=function(){return 1}).toJSON=g;try{l="0"===f(0)&&"0"===f(new j)&&'""'==f(new m)&&f(H)===T&&f(T)===T&&f()===T&&"1"===f(g)&&"[1]"==f([g])&&"[null]"==f([T])&&"null"==f(null)&&"[null,null,null]"==f([T,H,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
f({a:[g,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,g)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new q(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==f(new q(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new q(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new q(-1))}catch(p){l=!1}}f=l}if("json-parse"==c){f=d.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){g=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var r=5==g.a.length&&1===g.a[0];if(r){try{r=!f('"\t"')}catch(ca){}if(r)try{r=
1!==f("01")}catch(z){}if(r)try{r=1!==f("1.")}catch(A){}}}}catch(E){r=!1}f=r}}return e[c]=!!f}c||(c=l.Object());d||(d=l.Object());var j=c.Number||l.Number,m=c.String||l.String,p=c.Object||l.Object,q=c.Date||l.Date,ea=c.SyntaxError||l.SyntaxError,E=c.TypeError||l.TypeError,G=c.Math||l.Math,N=c.JSON||l.JSON;"object"==typeof N&&N&&(d.stringify=N.stringify,d.parse=N.parse);var p=p.prototype,H=p.toString,I,U,T,V=new q(-0xc782b5b800cec);try{V=-109252==V.getUTCFullYear()&&0===V.getUTCMonth()&&1===V.getUTCDate()&&
10==V.getUTCHours()&&37==V.getUTCMinutes()&&6==V.getUTCSeconds()&&708==V.getUTCMilliseconds()}catch(ub){}if(!e("json")){var oa=e("bug-string-char-index");if(!V)var ia=G.floor,$a=[0,31,59,90,120,151,181,212,243,273,304,334],wa=function(c,d){return $a[d]+365*(c-1970)+ia((c-1969+(d=+(1<d)))/4)-ia((c-1901+d)/100)+ia((c-1601+d)/400)};if(!(I=p.hasOwnProperty))I=function(c){var d={},e;(d.__proto__=null,d.__proto__={toString:1},d).toString!=H?I=function(c){var d=this.__proto__;c=c in(this.__proto__=null,
this);this.__proto__=d;return c}:(e=d.constructor,I=function(c){var d=(this.constructor||e).prototype;return c in this&&!(c in d&&this[c]===d[c])});d=null;return I.call(this,c)};U=function(c,d){var e=0,f,j,m;(f=function(){this.valueOf=0}).prototype.valueOf=0;j=new f;for(m in j)I.call(j,m)&&e++;f=j=null;e?U=2==e?function(c,d){var e={},f="[object Function]"==H.call(c),g;for(g in c)!(f&&"prototype"==g)&&(!I.call(e,g)&&(e[g]=1)&&I.call(c,g))&&d(g)}:function(c,d){var e="[object Function]"==H.call(c),f,
g;for(f in c)!(e&&"prototype"==f)&&(I.call(c,f)&&!(g="constructor"===f))&&d(f);(g||I.call(c,f="constructor"))&&d(f)}:(j="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),U=function(c,d){var e="[object Function]"==H.call(c),f,m=!e&&"function"!=typeof c.constructor&&g[typeof c.hasOwnProperty]&&c.hasOwnProperty||I;for(f in c)!(e&&"prototype"==f)&&m.call(c,f)&&d(f);for(e=j.length;f=j[--e];m.call(c,f)&&d(f));});return U(c,d)};if(!e("json-stringify")){var ab=
{92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},ja=function(c,d){return("000000"+(d||0)).slice(-c)},W=function(c){for(var d='"',e=0,f=c.length,g=!oa||10<f,j=g&&(oa?c.split(""):c);e<f;e++){var m=c.charCodeAt(e);switch(m){case 8:case 9:case 10:case 12:case 13:case 34:case 92:d+=ab[m];break;default:if(32>m){d+="\\u00"+ja(2,m.toString(16));break}d+=g?j[e]:c.charAt(e)}}return d+'"'},Ca=function(c,d,e,f,g,j,m){var l,p,q,r,s,t,y,n,u;try{l=d[c]}catch(z){}if("object"==typeof l&&l)if(p=H.call(l),
"[object Date]"==p&&!I.call(l,"toJSON"))if(l>-1/0&&l<1/0){if(wa){r=ia(l/864E5);for(p=ia(r/365.2425)+1970-1;wa(p+1,0)<=r;p++);for(q=ia((r-wa(p,0))/30.42);wa(p,q+1)<=r;q++);r=1+r-wa(p,q);s=(l%864E5+864E5)%864E5;t=ia(s/36E5)%24;y=ia(s/6E4)%60;n=ia(s/1E3)%60;s%=1E3}else p=l.getUTCFullYear(),q=l.getUTCMonth(),r=l.getUTCDate(),t=l.getUTCHours(),y=l.getUTCMinutes(),n=l.getUTCSeconds(),s=l.getUTCMilliseconds();l=(0>=p||1E4<=p?(0>p?"-":"+")+ja(6,0>p?-p:p):ja(4,p))+"-"+ja(2,q+1)+"-"+ja(2,r)+"T"+ja(2,t)+":"+
ja(2,y)+":"+ja(2,n)+"."+ja(3,s)+"Z"}else l=null;else if("function"==typeof l.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||I.call(l,"toJSON")))l=l.toJSON(c);e&&(l=e.call(d,c,l));if(null===l)return"null";p=H.call(l);if("[object Boolean]"==p)return""+l;if("[object Number]"==p)return l>-1/0&&l<1/0?""+l:"null";if("[object String]"==p)return W(""+l);if("object"==typeof l){for(c=m.length;c--;)if(m[c]===l)throw E();m.push(l);u=[];d=j;j+=g;if("[object Array]"==p){q=0;for(c=l.length;q<
c;q++)p=Ca(q,l,e,f,g,j,m),u.push(p===T?"null":p);c=u.length?g?"[\n"+j+u.join(",\n"+j)+"\n"+d+"]":"["+u.join(",")+"]":"[]"}else U(f||l,function(c){var d=Ca(c,l,e,f,g,j,m);d!==T&&u.push(W(c)+":"+(g?" ":"")+d)}),c=u.length?g?"{\n"+j+u.join(",\n"+j)+"\n"+d+"}":"{"+u.join(",")+"}":"{}";m.pop();return c}};d.stringify=function(c,d,e){var f,j,m,l;if(g[typeof d]&&d)if("[object Function]"==(l=H.call(d)))j=d;else if("[object Array]"==l){m={};for(var p=0,q=d.length,r;p<q;r=d[p++],(l=H.call(r),"[object String]"==
l||"[object Number]"==l)&&(m[r]=1));}if(e)if("[object Number]"==(l=H.call(e))){if(0<(e-=e%1)){f="";for(10<e&&(e=10);f.length<e;f+=" ");}}else"[object String]"==l&&(f=10>=e.length?e:e.slice(0,10));return Ca("",(r={},r[""]=c,r),j,m,f,"",[])}}if(!e("json-parse")){var cb=m.fromCharCode,Ka={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},z,aa,M=function(){z=aa=null;throw ea();},ba=function(){for(var c=aa,d=c.length,e,f,g,j,m;z<d;)switch(m=c.charCodeAt(z),m){case 9:case 10:case 13:case 32:z++;
break;case 123:case 125:case 91:case 93:case 58:case 44:return e=oa?c.charAt(z):c[z],z++,e;case 34:e="@";for(z++;z<d;)if(m=c.charCodeAt(z),32>m)M();else if(92==m)switch(m=c.charCodeAt(++z),m){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=Ka[m];z++;break;case 117:f=++z;for(g=z+4;z<g;z++)m=c.charCodeAt(z),48<=m&&57>=m||(97<=m&&102>=m||65<=m&&70>=m)||M();e+=cb("0x"+c.slice(f,z));break;default:M()}else{if(34==m)break;m=c.charCodeAt(z);for(f=z;32<=m&&92!=m&&34!=m;)m=c.charCodeAt(++z);
e+=c.slice(f,z)}if(34==c.charCodeAt(z))return z++,e;M();default:f=z;45==m&&(j=!0,m=c.charCodeAt(++z));if(48<=m&&57>=m){for(48==m&&(m=c.charCodeAt(z+1),48<=m&&57>=m)&&M();z<d&&(m=c.charCodeAt(z),48<=m&&57>=m);z++);if(46==c.charCodeAt(z)){for(g=++z;g<d&&(m=c.charCodeAt(g),48<=m&&57>=m);g++);g==z&&M();z=g}m=c.charCodeAt(z);if(101==m||69==m){m=c.charCodeAt(++z);(43==m||45==m)&&z++;for(g=z;g<d&&(m=c.charCodeAt(g),48<=m&&57>=m);g++);g==z&&M();z=g}return+c.slice(f,z)}j&&M();if("true"==c.slice(z,z+4))return z+=
4,!0;if("false"==c.slice(z,z+5))return z+=5,!1;if("null"==c.slice(z,z+4))return z+=4,null;M()}return"$"},Da=function(c){var d,e;"$"==c&&M();if("string"==typeof c){if("@"==(oa?c.charAt(0):c[0]))return c.slice(1);if("["==c){for(d=[];;e||(e=!0)){c=ba();if("]"==c)break;e&&(","==c?(c=ba(),"]"==c&&M()):M());","==c&&M();d.push(Da(c))}return d}if("{"==c){for(d={};;e||(e=!0)){c=ba();if("}"==c)break;e&&(","==c?(c=ba(),"}"==c&&M()):M());(","==c||"string"!=typeof c||"@"!=(oa?c.charAt(0):c[0])||":"!=ba())&&M();
d[c.slice(1)]=Da(ba())}return d}M()}return c},Qa=function(c,d,e){e=Ra(c,d,e);e===T?delete c[d]:c[d]=e},Ra=function(c,d,e){var f=c[d],g;if("object"==typeof f&&f)if("[object Array]"==H.call(f))for(g=f.length;g--;)Qa(f,g,e);else U(f,function(c){Qa(f,c,e)});return e.call(c,d,f)};d.parse=function(c,d){var e,f;z=0;aa=""+c;e=Da(ba());"$"!=ba()&&M();z=aa=null;return d&&"[object Function]"==H.call(d)?Ra((f={},f[""]=e,f),"",d):e}}}d.runInContext=f;return d},g={"function":!0,object:!0};e=g[typeof e]&&e&&!e.nodeType&&
e;var l=g[typeof window]&&window||this;if((d=e&&g[typeof d]&&d&&!d.nodeType&&"object"==typeof c&&c)&&(d.global===d||d.window===d||d.self===d))l=d;if(e)f(l,e);else{var m=l.JSON,j=l.JSON3,p=!1,q=f(l,l.JSON3={noConflict:function(){p||(p=!0,l.JSON=m,l.JSON3=j,m=j=null);return q}});l.JSON={parse:q.parse,stringify:q.stringify}}},{}],51:[function(c,d){d.exports=function(c,d){for(var g=[],l=(d=d||0)||0;l<c.length;l++)g[l-d]=c[l];return g}},{}]},{},[31])(31)});var shared_game={GameState:function(b){var c={startTime:0,minPlayerSize:1,maxPlayerSize:4,flashJoinDuration:2E3,matchAnnounceDuration:2E3,maxDecisionInterval:-1,decisionAnimDuration:1E3,playerLeftDuration:2E3,resultsDuration:1E4,phase:0,playerTurn:0,playerTurnTime:0,boardState:[],boardRows:3,boardCols:3,init:function(b){c.startTime=b;c.players=[];c.playersHash={};c.resetBoard();return c},packData:function(){for(var b={players:[]},e=0,f=c.players.length;e<f;e++)b.players.push(c.players[e].packData());
b.startTime=c.startTime;b.phase=c.phase;b.playerTurn=c.playerTurn;b.playerTurnTime=c.playerTurnTime;b.boardState=[];e=0;for(f=c.boardState.length;e<f;e++)b.boardState.push(c.boardState[e]);return b},importData:function(b){if(b){isNaN(b.startTime)||(c.startTime=b.startTime);isNaN(b.phase)||(c.phase=b.phase);isNaN(b.playerTurn)||(c.playerTurn=b.playerTurn);isNaN(b.playerTurnTime)||(c.playerTurnTime=b.playerTurnTime);if(b.players){c.players=[];c.playersHash={};for(var e=0,f=b.players.length;e<f;e++){var g=
b.players[e],l=new shared_game.Player(g.id);l.importData(g);c.addPlayer(l)}}if(b.boardState){c.boardState=[];e=0;for(f=b.boardState.length;e<f;e++)c.boardState.push(b.boardState[e])}}},findPlayerById:function(b){var e=null;if(c.playersHash&&"undefined"!=typeof c.playersHash[b])return c.playersHash[b];for(var f=0,g=c.players.length;f<g;f++)if(c.players[f].id==b){e=c.players[f];c.playersHash&&(c.playersHash[e.id]=e);break}return e},addPlayer:function(b){if(!b||isNaN(b.id)||c.playersHash&&"undefined"!=
typeof c.playersHash[b.id])return null;c.players.push(b);c.playersHash[b.id]=b;c.reorderPlayers();return b.id},removePlayer:function(b){if(isNaN(b))return null;for(var e=[],f=0,g=c.players.length;f<g;f++)c.players[f].id!=b&&e.push(c.players[f]);c.players=e;delete c.playersHash[b];c.reorderPlayers()},reorderPlayers:function(){if(1==c.players.length){var b=c.players[0];0>b.order&&(b.order=0)}else for(var e=0,f=c.players.length;e<f;e++)if(b=c.players[e],0>b.order)for(var g=0,l=c.players.length;g<l;g++){var m=
c.players[g];if(m!=b)for(var j=0,p=c.maxPlayerSize;j<p;j++)if(j!=m.order){b.order=j;break}}},resetBoard:function(){c.boardState=[];for(var b=0,e=c.boardCols;b<e;b++)for(var f=0,g=c.boardRows;f<g;f++)c.boardState.push(-1)}};return c.init(b)},Player:function(b,c){var d={readyFlag:!1,leftGameFlag:!1};d.botFlag=c;d.avatarId=0;d.order=-1;d.symbolId=0;d.lastDecision=-1;d.qcount=0;d.qscore=0;d.init=function(b){d.id=b;return d};d.packData=function(){var b={};b.id=d.id;b.name=d.name;b.avatarId=d.avatarId;
b.readyFlag=d.readyFlag;b.leftGameFlag=d.leftGameFlag;b.botFlag=d.botFlag;b.symbolId=d.symbolId;b.order=d.order;return b};d.importData=function(b){b&&(isNaN(b.id)||(d.id=b.id),null!=b.name&&(d.name=b.name),null!=b.avatarId&&(d.avatarId=b.avatarId),null!=b.readyFlag&&(d.readyFlag=b.readyFlag),null!=b.leftGameFlag&&(d.leftGameFlag=b.leftGameFlag),null!=b.botFlag&&(d.botFlag=b.botFlag),isNaN(b.symbolId)||(d.symbolId=b.symbolId),isNaN(b.order)||(d.order=b.order))};return d.init(b)},Update:function(){var b=
{init:function(){b.eventList=[];return b},packData:function(){for(var c={eventList:[]},d=0,e=b.eventList.length;d<e;d++)c.eventList.push(b.eventList[d].packData());return c}};return b.init()},Event:function(b,c){var d={init:function(b,c){d.type=b;d.time=c;d.info=null;return d},packData:function(){var b={};b.type=d.type;b.time=d.time;b.info=d.info;return b}};return d.init(b,c)},Getsharedata:function(){return{questionId:1}},EventType:{PHASE_TRANSITION:0,PLAYER_READY:1,PLAYER_LEAVE:2,PLAYER_DECISION:3,
MATCH_RESULT:4},PhaseEnum:{PHASE_INIT:0,PHASE_FLASHJOIN:1,PHASE_MATCH_ANNOUNCE:2,PHASE_PLAYER_DECISION:3,PHASE_DECISION_ANIM:4,PHASE_MATCH_RESULTS:5,PHASE_PLAYER_LEFT:6,PHASE_END:7},MessageType:{ERROR:0,USER_CONFIRMED:1,USER_CONNECTED:2,USER_DISCONNECTED:3,REQUEST_ROOM:4,PLAYER_CONFIRMED:5,REQUEST_ROOM_CONFIRMED:6,REQUEST_ROOM_REJECTED:7,LEAVE_ROOM:8,REQUEST_GAMESTATE:9,GAMESTATE:10,GAMESTATE_UPDATE:11,CLIENT_UPDATE:12,ROOM_NOTIFICATION:13,PLAYER_START:14,PLAYER_READY:15,SPAWN_FISH:30,RESPAWN_FISH:31,
SEND_CANNON_ANGLE:32,SET_CANNON_ANGLE:33,SET_CANNON_ANGLE_BOT:34,SEND_BULLET:35,SPAWN_BULLET:36,SPAWN_BULLET_BOT:37,ROOM_COUNTDOWN:38,ADD_SCORE:39,ROOM_TIMER:40,GAME_END:41,SWITCH_TO_BOT:50,KICKME:51,PLAYER_KICKED:52,PLAYER_LEAVE2:53,COIN_CLICKED:54},ErrorType:{UNKNOWN:0,INVALID_REQUEST:1,VERSION_MISMATCH:2,INVALID_NAME:3,KICKED_DUE_TO_INACTIVITY:4},seed:6,seededRandom:function(b,c){c=c||0;shared_game.seed=(9301*shared_game.seed+49297)%233280;return c+shared_game.seed/233280*((b||1)-c)}};
"undefined"!==typeof module&&(module.exports.shared_game=shared_game);"undefined"!==typeof require&&(shared_game=require("./shared_game.js").shared_game);
var decision_engine={updateGameState:function(b){if(b.gamestate.phase==shared_game.PhaseEnum.PHASE_INIT){var c=decision_engine.checkGameReady(b),d=decision_engine.getActivePlayerCount(b);0<d&&2>d&&(c=!1);if(c){var e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c);e.info={};e.info.phase=shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE;e.info.gamestate=b.gamestate.packData();b.pendingEventsQueue.push(e);b.applyEvent(e)}}else if(b.gamestate.phase==shared_game.PhaseEnum.PHASE_FLASHJOIN){var c=
Date.now(),e=!1,f=c-b.gamestate.playerTurnTime;f>b.gamestate.flashJoinDuration&&(e=!0);e&&(e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE,2>decision_engine.getActivePlayerCount(b)&&(e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData()),b.pendingEventsQueue.push(e),b.applyEvent(e))}else if(b.gamestate.phase==shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE){if(c=Date.now(),
e=!1,f=c-b.gamestate.playerTurnTime,f>b.gamestate.matchAnnounceDuration&&(e=!0),e){b.gamestate.playerTurn=0;if((d=b.gamestate.players[b.gamestate.playerTurn])&&1==d.symbolId)b.gamestate.playerTurn=1;e=shared_game.EventType.PHASE_TRANSITION;c=Date.now();e=new shared_game.Event(e,c);e.info={};e.info.phase=shared_game.PhaseEnum.PHASE_PLAYER_DECISION;e.info.playerTurn=b.gamestate.playerTurn;2>decision_engine.getActivePlayerCount(b)&&(e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData());
b.pendingEventsQueue.push(e);b.applyEvent(e)}}else if(b.gamestate.phase==shared_game.PhaseEnum.PHASE_PLAYER_DECISION){if(c=Date.now(),d=b.gamestate.players[b.gamestate.playerTurn])if(e=!1,f=c-b.gamestate.playerTurnTime,0<=b.gamestate.maxDecisionInterval&&f>b.gamestate.maxDecisionInterval&&(e=!0),e&&(d.botFlag?(b.removeBotPlayers(),e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData(),
b.pendingEventsQueue.push(e),b.applyEvent(e)):(e=b.findPlayerById(d.id))&&b.gamehost.kickPlayer(b,e,100)),d.botFlag){e=!1;f=c-b.gamestate.playerTurnTime;if(void 0==d.botDelay||null==d.botDelay)d.botDelay=Math.floor(1E3*(0.5+1*Math.random()));0<=d.botDelay&&f>d.botDelay&&(e=!0);e&&(f=decision_engine.makeBotDecision(b,d),null!=f&&(e=shared_game.EventType.PLAYER_DECISION,e=new shared_game.Event(e,c),e.info={},e.info.playerId=d.id,e.info.decision=f,b.pendingEventsQueue.push(e),b.applyEvent(e)))}}else b.gamestate.phase==
shared_game.PhaseEnum.PHASE_DECISION_ANIM?(c=Date.now(),e=!1,f=c-b.gamestate.playerTurnTime,f>b.gamestate.decisionAnimDuration&&(e=!0),e&&(c=!1,d=b.gamestate.players[b.gamestate.playerTurn],d=decision_engine.checkBoardConditions(b,{playerId:d.id,decision:d.lastDecision,symbolId:d.symbolId}),null!==d&&(c=!0),c?(e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_MATCH_RESULTS,e.info.winner=d):(b.gamestate.playerTurn+=
1,1<b.gamestate.playerTurn&&(b.gamestate.playerTurn=0),e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_PLAYER_DECISION,e.info.playerTurn=b.gamestate.playerTurn,2>decision_engine.getActivePlayerCount(b)&&(e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData())),b.pendingEventsQueue.push(e),b.applyEvent(e))):b.gamestate.phase==shared_game.PhaseEnum.PHASE_MATCH_RESULTS?(c=Date.now(),e=
!1,f=c-b.gamestate.playerTurnTime,f>b.gamestate.resultsDuration&&(e=!0),e&&(e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE,2>decision_engine.getActivePlayerCount(b)&&(e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData()),b.pendingEventsQueue.push(e),b.applyEvent(e))):b.gamestate.phase==shared_game.PhaseEnum.PHASE_PLAYER_LEFT&&(c=Date.now(),e=!1,f=c-b.gamestate.playerTurnTime,
f>b.gamestate.playerLeftDuration&&(e=!0),e&&(e=shared_game.EventType.PHASE_TRANSITION,c=Date.now(),e=new shared_game.Event(e,c),e.info={},e.info.phase=shared_game.PhaseEnum.PHASE_INIT,e.info.gamestate=b.gamestate.packData(),b.pendingEventsQueue.push(e),b.applyEvent(e)))},kickPlayerId:function(b,c){if("function"==typeof b.gamehost.kickPlayer){var d=b.findPlayerById(c);b.gamehost.kickPlayer(b,d,shared_game.ErrorType.KICKED_DUE_TO_INACTIVITY)}},checkGameReady:function(b){for(var c=!0,d=0,e=b.gamestate.players.length;d<
e;d++){var f=b.gamestate.players[d];if(!f.botFlag&&!f.readyFlag){c=!1;break}}return c},checkBoardConditions:function(b,c){var d=b.gamestate.boardState;if(!c)return null;if(decision_engine.testWinBoard(b,c))return c.symbolId;for(var e=0,f=0,g=d.length;f<g;f++)-1!=d[f]&&(e+=1);return 8<=e?-1:null},getActivePlayerCount:function(b){for(var c=0,d=0,e=b.gamestate.players.length;d<e;d++)b.gamestate.players[d].leftGameFlag||c++;return c},onPlayerJoin:function(b){if(2<decision_engine.getActivePlayerCount(b))for(var c=
0,d=b.gamestate.players.length;c<d;c++){var e=b.gamestate.players[c];e.botFlag&&(e.leftGameFlag=!0)}2==decision_engine.getActivePlayerCount(b)&&(c=shared_game.EventType.PHASE_TRANSITION,d=Date.now(),c=new shared_game.Event(c,d),c.info={},c.info.phase=shared_game.PhaseEnum.PHASE_FLASHJOIN,c.info.gamestate=b.gamestate.packData(),b.pendingEventsQueue.push(c),b.applyEvent(c))},makeBotDecision:function(b,c){c.botDelay=Math.floor(1E3*(0.5+1*Math.random()));var d=b.gamestate.boardState,e=c.symbolId,f=0;
0==e&&(f=1);for(var g=!0,l=0,m=d.length;l<m;l++)if(-1!=d[l]){g=!1;break}if(g){if(0.5>Math.random()){var j=[0,2,6,8],d=Math.floor(Math.random()*j.length);return j[d]}return 4}for(var p=0,j=0,g=[],l=0,m=d.length;l<m;l++)-1!=d[l]?d[l]==e?p+=1:j+=1:g.push(l);if(0==p){if(-1==d[4])return 4;j=[0,2,6,8];d=Math.floor(Math.random()*j.length);return j[d]}if(2<=p){l=0;for(m=g.length;l<m;l++){p={};p.decision=g[l];p.symbolId=e;d[p.decision]=p.symbolId;var q=decision_engine.testWinBoard(b,p);d[p.decision]=-1;if(q)return p.decision}}if(2<=
j){l=0;for(m=g.length;l<m;l++)if(p={},p.decision=g[l],p.symbolId=f,d[p.decision]=p.symbolId,q=decision_engine.testWinBoard(b,p),d[p.decision]=-1,q)return p.decision}e=[0,2,8,6];l=0;for(m=e.length;l<m;l++)if(j=e[l],d[j]==f&&(j=null,l+2<e.length?j=e[l+2]:0<=l-2&&(j=e[l-2]),d[j]==f)){j=[];p=0;for(q=g.length;p<q;p++){var r=g[p];(1==r||3==r||5==r||7==r)&&j.push(r)}if(0<j.length)return d=Math.floor(Math.random()*j.length),j[d]}if(-1==d[4])return 4;e=[0,2,8,6];l=0;for(m=e.length;l<m;l++)if(j=e[l],d[j]==
f&&(j=null,l+2<e.length?j=e[l+2]:0<=l-2&&(j=e[l-2]),null!=j&&-1==d[j]))return j;j=[];l=0;for(m=g.length;l<m;l++)r=g[l],(0==r||2==r||6==r||8==r)&&j.push(r);if(0<j.length)return d=Math.floor(Math.random()*j.length),j[d];j=[];l=0;for(m=g.length;l<m;l++)r=g[l],(1==r||3==r||5==r||7==r)&&j.push(r);return 0<j.length?(d=Math.floor(Math.random()*j.length),j[d]):null},testWinBoard:function(b,c){var d=b.gamestate.boardState,e=b.gamestate.boardCols,f=b.gamestate.boardRows;if(!c)return null;for(var g=c.decision,
l=c.symbolId,m=g%e,g=Math.floor(g/e),j=0,p=0,q=e;p<q;p++){var r=g*e,r=r+p;if(d[r]!=l)j=0;else if(j+=1,3<=j)break}if(3<=j)return!0;p=j=0;for(q=f;p<q;p++)if(r=m,r+=p*e,d[r]!=l)j=0;else if(j+=1,3<=j)break;if(3<=j)return!0;j=!0;2>m&&g>f-2+m&&(j=!1);m>f-2&&g<2-(e-m)&&(j=!1);if(j){var s=0,t=m-g;0>t&&(s=-t,t=0);p=j=0;for(q=f;p<q;p++)if(r=t+s*e,r+=p*(e+1),r<d.length)if(d[r]!=l)j=0;else{if(j+=1,3<=j)break}else break;if(3<=j)return!0}j=!0;2>m&&g<2-m&&(j=!1);m>f-2&&g>f-2+(e-m)&&(j=!1);if(j){s=0;t=m+g;t>e-1&&
(s=t-(e-1),t=e-1);p=j=0;for(q=f;p<q;p++)if(r=t+s*e,r+=p*(e-1),0<=r)if(d[r]!=l)j=0;else{if(j+=1,3<=j)break}else break;if(3<=j)return!0}return!1}};"undefined"!==typeof module&&(module.exports.decision_engine=decision_engine);"undefined"!==typeof require&&(shared_game=require("./shared_game.js").shared_game);
var simulator={},simulator={simulateEvent:function(b,c,d,e){if(e&&e.copy){var f=c.packData();c=new shared_game.GameState;c.importData(f)}(f=simulator.EventSimulatorFactory.create(b.type))&&f.simulate(b,c,d,e);return c},EventSimulatorFactory:{create:function(b){switch(b){case shared_game.EventType.PLAYER_READY:return new simulator.PlayerReadyEventSimulator;case shared_game.EventType.PLAYER_LEAVE:return new simulator.PlayerLeaveEventSimulator;case shared_game.EventType.PHASE_TRANSITION:return new simulator.PhaseTransitionEventSimulator;
case shared_game.EventType.PLAYER_DECISION:return new simulator.PlayerDecisionEventSimulator;case shared_game.EventType.MATCH_RESULT:return new simulator.MatchResultEventSimulator}}},PlayerReadyEventSimulator:function(){return{simulate:function(b,c){if(!b||!c)return!1;var d=c.findPlayerById(b.info.playerId);return!d?!0:d.readyFlag=!0}}},PlayerLeaveEventSimulator:function(){return{simulate:function(b,c){if(!b||!c)return!1;var d=c.findPlayerById(b.info.playerId);if(!d)return!0;d.leftGameFlag=!0;c.phase=
shared_game.PhaseEnum.PHASE_PLAYER_LEFT;c.playerTurn=0;c.playerTurnTime=b.time;return!0}}},PhaseTransitionEventSimulator:function(){return{simulate:function(b,c){if(!b||!c)return!1;b.info.gamestate&&c.importData(b.info.gamestate);var d=b.info.phase;if(void 0!=d&&null!=d)if(c.phase=d,c.playerTurnTime=b.time,(d==shared_game.PhaseEnum.PHASE_INIT||d==shared_game.PhaseEnum.PHASE_FLASHJOIN||d==shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE)&&c.resetBoard(),d==shared_game.PhaseEnum.PHASE_INIT||d==shared_game.PhaseEnum.PHASE_FLASHJOIN){for(var d=
[],e=0,f=c.players.length;e<f;e++){var g=c.players[e];g.lastDecision=-1;g.order=-1;g.leftGameFlag&&d.push(g.id)}e=0;for(f=d.length;e<f;e++)c.removePlayer(d[e]);c.reorderPlayers()}else d==shared_game.PhaseEnum.PHASE_PLAYER_DECISION?2!=c.players.length?c.phase=shared_game.PhaseEnum.PHASE_INIT:void 0!=b.info.playerTurn&&(c.playerTurn=b.info.playerTurn):d==shared_game.PhaseEnum.PHASE_MATCH_ANNOUNCE&&(2!=c.players.length?c.phase=shared_game.PhaseEnum.PHASE_INIT:c.players[0].symbolId==c.players[1].symbolId?
0.5>Math.random()?(c.players[0].symbolId=0,c.players[1].symbolId=1):(c.players[1].symbolId=1,c.players[0].symbolId=0):1==c.players[0].symbolId?(c.players[0].symbolId=0,c.players[1].symbolId=1):(c.players[0].symbolId=1,c.players[1].symbolId=0));return!0}}},PlayerDecisionEventSimulator:function(){return{simulate:function(b,c){if(!b||!c)return!1;var d=c.findPlayerById(b.info.playerId);if(d){if(c.playerTurn<c.players.length&&d&&d!=c.players[c.playerTurn]||c.phase!=shared_game.PhaseEnum.PHASE_PLAYER_DECISION)return!1;
var e=!1;if(void 0!=b.info.decision){var f=b.info.decision;0<=f&&f<c.boardState.length&&-1==c.boardState[f]&&(c.boardState[f]=d.symbolId,d.lastDecision=f,e=!0)}if(!e)return!1;c.phase=shared_game.PhaseEnum.PHASE_DECISION_ANIM;c.playerTurnTime=b.time;return!0}}}},MatchResultEventSimulator:function(){return{simulate:function(b,c,d,e){if(!b||!c)return!1;e&&e.clientside&&b.info.gamestate&&c.importData(b.info.gamestate);return!0}}}};"undefined"!==typeof module&&(module.exports.simulator=simulator);(function(b,c,d,e,f,g,l){b.GoogleAnalyticsObject=f;b[f]=b[f]||function(){(b[f].q=b[f].q||[]).push(arguments)};b[f].l=1*new Date;g=c.createElement(d);l=c.getElementsByTagName(d)[0];g.async=1;g.src=e;l.parentNode.insertBefore(g,l)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-102691241-1",{name:"marketjs"});ga("marketjs.send","pageview");(function(b){Number.prototype.map=function(b,c,d,e){return d+(e-d)*((this-b)/(c-b))};Number.prototype.limit=function(b,c){return Math.min(c,Math.max(b,this))};Number.prototype.round=function(b){b=Math.pow(10,b||0);return Math.round(this*b)/b};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(b){for(var c=this.length;c--;)this[c]===b&&this.splice(c,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,e=function(){},f=function(){return d.apply(this instanceof e&&b?
this:b,c.concat(Array.prototype.slice.call(arguments)))};e.prototype=this.prototype;f.prototype=new e;return f};b.ig={game:null,debug:null,version:"1.23",global:b,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:b.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(b){return"#"==b.charAt(0)?document.getElementById(b.substr(1)):document.getElementsByTagName(b)},$new:function(b){return document.createElement(b)},copy:function(b){if(!b||"object"!=typeof b||
b instanceof HTMLElement||b instanceof ig.Class)return b;if(b instanceof Array)for(var c=[],d=0,e=b.length;d<e;d++)c[d]=ig.copy(b[d]);else for(d in c={},b)c[d]=ig.copy(b[d]);return c},merge:function(b,c){for(var d in c){var e=c[d];if("object"!=typeof e||e instanceof HTMLElement||e instanceof ig.Class||null===e)b[d]=e;else{if(!b[d]||"object"!=typeof b[d])b[d]=e instanceof Array?[]:{};ig.merge(b[d],e)}}return b},ksort:function(b){if(!b||"object"!=typeof b)return[];var c=[],d=[],e;for(e in b)c.push(e);
c.sort();for(e=0;e<c.length;e++)d.push(b[c[e]]);return d},setVendorAttribute:function(b,c,d){var e=c.charAt(0).toUpperCase()+c.substr(1);b[c]="undefined"!==typeof b.imageSmoothingEnabled?b["ms"+e]=b["moz"+e]=b["o"+e]=d:b["ms"+e]=b["moz"+e]=b["webkit"+e]=b["o"+e]=d},getVendorAttribute:function(b,c){var d=c.charAt(0).toUpperCase()+c.substr(1);return"undefined"!==typeof b.imageSmoothingEnabled?b[c]||b["ms"+d]||b["moz"+d]||b["o"+d]:b[c]||b["ms"+d]||b["moz"+d]||b["webkit"+d]||b["o"+d]},normalizeVendorAttribute:function(b,
c){var d=ig.getVendorAttribute(b,c);!b[c]&&d&&(b[c]=d)},getImagePixels:function(b,c,d,e,f){var g=ig.$new("canvas");g.width=b.width;g.height=b.height;var l=g.getContext("2d");ig.System.SCALE.CRISP(g,l);var y=ig.getVendorAttribute(l,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(l,"getImageDataHD");var u=b.width/y,A=b.height/y;g.width=Math.ceil(u);g.height=Math.ceil(A);l.drawImage(b,0,0,u,A);return 1===y?l.getImageData(c,d,e,f):l.getImageDataHD(c,d,e,f)},module:function(b){if(ig._current)throw"Module '"+
ig._current.name+"' defines nothing";if(ig.modules[b]&&ig.modules[b].body)throw"Module '"+b+"' is already defined";ig._current={name:b,requires:[],loaded:!1,body:null};ig.modules[b]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(b){ig._current.body=b;ig._current=null;ig._initDOMReady()},addResource:function(b){ig.resources.push(b)},setNocache:function(b){ig.nocache=b?"?"+Date.now():""},
log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(b,c){ig.modules[b]={name:b,requires:[],loaded:!1,body:null};ig._waitForOnload++;var d=ig.prefix+ig.lib+b.replace(/\./g,"/")+".js"+ig.nocache,e=ig.$new("script");e.type="text/javascript";e.src=d;e.onload=function(){ig._waitForOnload--;ig._execModules()};e.onerror=function(){throw"Failed to load module "+b+" at "+d+" required from "+c;};ig.$("head")[0].appendChild(e)},_execModules:function(){for(var b=!1,c=
0;c<ig._loadQueue.length;c++){for(var d=ig._loadQueue[c],e=!0,f=0;f<d.requires.length;f++){var g=d.requires[f];ig.modules[g]?ig.modules[g].loaded||(e=!1):(e=!1,ig._loadScript(g,d.name))}e&&d.body&&(ig._loadQueue.splice(c,1),d.loaded=!0,d.body(),b=!0,c--)}if(b)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){b=[];for(c=0;c<ig._loadQueue.length;c++){e=[];g=ig._loadQueue[c].requires;for(f=0;f<g.length;f++)d=ig.modules[g[f]],(!d||!d.loaded)&&e.push(g[f]);b.push(ig._loadQueue[c].name+
" (requires: "+e.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+b.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=
b.devicePixelRatio||1;ig.ua.viewport={width:b.innerWidth,height:b.innerHeight};ig.ua.screen={width:b.screen.availWidth*ig.ua.pixelRatio,height:b.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.Kindle=/Silk/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in
b||b.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||ig.ua.Kindle||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),b.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(b,"requestAnimationFrame");
if(b.requestAnimationFrame){var c=1,d={};b.ig.setAnimation=function(e,f){var g=c++;d[g]=!0;var l=function(){d[g]&&(b.requestAnimationFrame(l,f),e())};b.requestAnimationFrame(l,f);return g};b.ig.clearAnimation=function(b){delete d[b]}}else b.ig.setAnimation=function(c){return b.setInterval(c,1E3/60)},b.ig.clearAnimation=function(c){b.clearInterval(c)};var e=!1,f=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,g=0;b.ig.Class=function(){};var l=function(b){var c=this.prototype,d={},e;for(e in b)"function"==
typeof b[e]&&"function"==typeof c[e]&&f.test(b[e])?(d[e]=c[e],c[e]=function(b,c){return function(){var e=this.parent;this.parent=d[b];var f=c.apply(this,arguments);this.parent=e;return f}}(e,b[e])):c[e]=b[e]};b.ig.Class.extend=function(c){function d(){if(!e){if(this.staticInstantiate){var b=this.staticInstantiate.apply(this,arguments);if(b)return b}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var p=this.prototype;e=!0;
var q=new this;e=!1;for(var r in c)q[r]="function"==typeof c[r]&&"function"==typeof p[r]&&f.test(c[r])?function(b,c){return function(){var d=this.parent;this.parent=p[b];var e=c.apply(this,arguments);this.parent=d;return e}}(r,c[r]):c[r];d.prototype=q;d.prototype.constructor=d;d.extend=b.ig.Class.extend;d.inject=l;d.classId=q.classId=++g;return d};b.ImpactMixin&&ig.merge(ig,b.ImpactMixin)})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b]||null},init:function(b){this.path=b;this.load()},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=ig.getImagePixels(this.data,0,0,this.width,
this.height),d=this.width*b,e=this.height*b,f=ig.$new("canvas");f.width=d;f.height=e;for(var g=f.getContext("2d"),l=g.getImageData(0,0,d,e),m=0;m<e;m++)for(var j=0;j<d;j++){var p=4*(Math.floor(m/b)*this.width+Math.floor(j/b)),q=4*(m*d+j);l.data[q]=c.data[p];l.data[q+1]=c.data[p+1];l.data[q+2]=c.data[p+2];l.data[q+3]=c.data[p+3]}g.putImageData(l,0,0);this.data=f},draw:function(b,c,d,e,f,g){if(this.loaded){var l=ig.system.scale;f=(f?f:this.width)*l;g=(g?g:this.height)*l;ig.system.context.drawImage(this.data,
d?d*l:0,e?e*l:0,f,g,ig.system.getDrawPos(b),ig.system.getDrawPos(c),f,g);ig.Image.drawCount++}},drawTile:function(b,c,d,e,f,g,l){f=f?f:e;if(this.loaded&&!(e>this.width||f>this.height)){var m=ig.system.scale,j=Math.floor(e*m),p=Math.floor(f*m),q=g?-1:1,r=l?-1:1;if(g||l)ig.system.context.save(),ig.system.context.scale(q,r);ig.system.context.drawImage(this.data,Math.floor(d*e)%this.width*m,Math.floor(d*e/this.width)*f*m,j,p,ig.system.getDrawPos(b)*q-(g?j:0),ig.system.getDrawPos(c)*r-(l?p:0),j,p);(g||
l)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var b in ig.Image.cache)ig.Image.cache[b].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(b){this._loadMetrics(this.data);this.parent(b)},widthForString:function(b){if(-1!==b.indexOf("\n")){b=b.split("\n");for(var c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(b)},_widthForLine:function(b){for(var c=0,d=0;d<b.length;d++)c+=this.widthMap[b.charCodeAt(d)-this.firstChar]+
this.letterSpacing;return c},heightForString:function(b){return b.split("\n").length*(this.height+this.lineSpacing)},draw:function(b,c,d,e){"string"!=typeof b&&(b=b.toString());if(-1!==b.indexOf("\n")){b=b.split("\n");for(var f=this.height+this.lineSpacing,g=0;g<b.length;g++)this.draw(b[g],c,d+g*f,e)}else{if(e==ig.Font.ALIGN.RIGHT||e==ig.Font.ALIGN.CENTER)g=this._widthForLine(b),c-=e==ig.Font.ALIGN.CENTER?g/2:g;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(g=0;g<b.length;g++)e=b.charCodeAt(g),
c+=this._drawChar(e-this.firstChar,c,d);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=b.length}},_drawChar:function(b,c,d){if(!this.loaded||0>b||b>=this.indices.length)return 0;var e=ig.system.scale,f=this.widthMap[b]*e,g=(this.height-2)*e;ig.system.context.drawImage(this.data,this.indices[b]*e,0,f,g,ig.system.getDrawPos(c),ig.system.getDrawPos(d),f,g);return this.widthMap[b]+this.letterSpacing},_loadMetrics:function(b){this.height=b.height-1;this.widthMap=[];this.indices=
[];for(var c=ig.getImagePixels(b,0,b.height-1,b.width,1),d=0,e=0,f=0;f<b.width;f++){var g=4*f+3;127<c.data[g]?e++:128>c.data[g]&&e&&(this.widthMap.push(e),this.indices.push(f-e),d++,e=0)}this.widthMap.push(e);this.indices.push(f-e)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)ig.Sound.enabled=!1;else{for(var b=new Audio,c=0;c<ig.Sound.use.length;c++){var d=ig.Sound.use[c];if(b.canPlayType(d.mime)){this.format=d;break}}this.format||(ig.Sound.enabled=!1)}},load:function(b,c,d){var e=ig.prefix+b.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[b]){if(c&&this.clips[b].length<ig.Sound.channels)for(c=this.clips[b].length;c<
ig.Sound.channels;c++){var f=new Audio(e);f.load();this.clips[b].push(f)}return this.clips[b][0]}var g=new Audio(e);d&&(g.addEventListener("canplaythrough",function m(c){g.removeEventListener("canplaythrough",m,!1);d(b,!0,c)},!1),g.addEventListener("error",function(c){d(b,!1,c)},!1));g.preload="auto";g.load();this.clips[b]=[g];if(c)for(c=1;c<ig.Sound.channels;c++)f=new Audio(e),f.load(),this.clips[b].push(f);return g},get:function(b){b=this.clips[b];for(var c=0,d;d=b[c++];)if(d.paused||d.ended)return d.ended&&
(d.currentTime=0),d;b[0].pause();b[0].currentTime=0;return b[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):
this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(b,c){if(ig.Sound.enabled){var d=ig.soundManager.load(b instanceof ig.Sound?b.path:b,!1);d.loop=this._loop;d.volume=this._volume;d.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(d);c&&(this.namedTracks[c]=d);this.currentTrack||
(this.currentTrack=d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(b){if(b&&this.namedTracks[b])b=this.namedTracks[b],b!=this.currentTrack&&(this.stop(),
this.currentTrack=b);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(b){this._loop=b;for(var c in this.tracks)this.tracks[c].loop=b},getVolume:function(){return this._volume},setVolume:function(b){this._volume=b.limit(0,1);for(var c in this.tracks)this.tracks[c].volume=this._volume},fadeOut:function(b){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(b),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var b=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=b?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=b},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(b,c){this.path=b;this.multiChannel=!1!==c;this.load()},load:function(b){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,b):ig.addResource(this):b&&b(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(b,c){this.gameClass=b;this.resources=c;this._loadCallbackBound=this._loadCallback.bind(this);for(var d=0;d<this.resources.length;d++)this._unloaded.push(this.resources[d].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var b=
0;b<this.resources.length;b++)this.loadResource(this.resources[b]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(b){b.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(b,c){if(c)this._unloaded.erase(b);else throw"Failed to load resource: "+b;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(b){this.last=this.base=ig.Timer.time;this.target=b||0},set:function(b){this.target=b||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var b=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:b},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now();ig.Timer.time+=Math.min((b-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=b}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(b,c,d,e,f){this.fps=c;this.clock=new ig.Timer;this.canvas=ig.$(b);this.resize(d,e,f);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP);
ig.System.scaleMode(this.canvas,this.context)},resize:function(b,c,d){this.width=b;this.height=c;this.scale=d||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(b){this.running?this.newGameClass=b:this.setGameNow(b)},setGameNow:function(b){ig.game=new b;ig.system.setDelegate(ig.game)},setDelegate:function(b){if("function"==typeof b.run)this.delegate=b,this.startRunLoop();else throw"System.setDelegate: No run() function in object";
},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(b){this.context.fillStyle=b;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});
ig.System.DRAW={AUTHENTIC:function(b){return Math.round(b)*this.scale},SMOOTH:function(b){return Math.round(b*this.scale)},SUBPIXEL:function(b){return b*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!1);b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},
SMOOTH:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!0);b.style.imageRendering="";b.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var b=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",b,!1);ig.system.canvas.addEventListener("DOMMouseScroll",b,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(b){var c=this.bindings[0<(b.wheelDelta?b.wheelDelta:-1*b.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];c&&(this.actions[c]=!0,this.presses[c]=!0,this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())},mousemove:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,c=ig.system.scale*(c/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c},contextmenu:function(b){this.bindings[ig.KEY.MOUSE2]&&(b.stopPropagation(),b.preventDefault())},keydown:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c="keydown"==b.type?b.keyCode:
2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,("touchstart"==b.type||"mousedown"==b.type)&&this.mousemove(b),c=this.bindings[c])this.actions[c]=!0,this.locks[c]||(this.presses[c]=!0,this.locks[c]=!0),b.stopPropagation(),b.preventDefault()},keyup:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1])this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault()},devicemotion:function(b){this.accel=b.accelerationIncludingGravity},
bind:function(b,c){0>b?this.initMouse():0<b&&this.initKeyboard();this.bindings[b]=c},bindTouch:function(b,c){var d=ig.$(b),e=this;d.addEventListener("touchstart",function(b){e.touchStart(b,c)},!1);d.addEventListener("touchend",function(b){e.touchEnd(b,c)},!1);d.addEventListener("MSPointerDown",function(b){e.touchStart(b,c)},!1);d.addEventListener("MSPointerUp",function(b){e.touchEnd(b,c)},!1)},unbind:function(b){this.delayedKeyup[this.bindings[b]]=!0;this.bindings[b]=null},unbindAll:function(){this.bindings=
{};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(b){return this.actions[b]},pressed:function(b){return this.presses[b]},released:function(b){return!!this.delayedKeyup[b]},clearPressed:function(){for(var b in this.delayedKeyup)this.actions[b]=!1,this.locks[b]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(b,c){this.actions[c]=!0;this.presses[c]=!0;b.stopPropagation();b.preventDefault();return!1},touchEnd:function(b,c){this.delayedKeyup[c]=!0;b.stopPropagation();
b.preventDefault();return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(b,c,d,e,f,g,l){ig.system=new ig.System(b,d,e,f,g||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (l||ig.Loader)(c,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(b,c,d){this.width=c;this.height=d;this.image=new ig.Image(b)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(b,c,d,e){this.sheet=b;this.pivot={x:b.width/2,y:b.height/2};this.timer=new ig.Timer;this.frameTime=c;this.sequence=d;
this.stop=!!e;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.frame=this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(b){this.timer.set(this.frameTime*-b-1E-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var b=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(b/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:b%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(b,c){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||(c>ig.system.height||0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(b,
c,d){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=b;this.pos.y=this.last.y=c;ig.merge(this,d)},reset:function(b,c,d){var e=this.constructor.prototype;this.pos.x=b;this.pos.y=c;this.last.x=b;this.last.y=c;this.vel.x=e.vel.x;this.vel.y=e.vel.y;this.accel.x=e.accel.x;this.accel.y=e.accel.y;this.health=e.health;this._killed=e._killed;this.standing=e.standing;this.type=e.type;this.checkAgainst=e.checkAgainst;this.collides=e.collides;ig.merge(this,d)},addAnim:function(b,c,d,e){if(!this.animSheet)throw"No animSheet to add the animation "+
b+" to.";c=new ig.Animation(this.animSheet,c,d,e);this.anims[b]=c;this.currentAnim||(this.currentAnim=c);return c},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var b=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*
ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(b);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(b,c,d,e){return c?(b+c*ig.system.tick).limit(-e,e):d?(c=d*ig.system.tick,0<b-c?b-c:0>b+c?b+c:0):b.limit(-e,e)},handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>
this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos=b.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-
this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(b){this.health-=b;0>=this.health&&this.kill()},touches:function(b){return!(this.pos.x>=b.pos.x+b.size.x||this.pos.x+this.size.x<=b.pos.x||this.pos.y>=b.pos.y+b.size.y||this.pos.y+this.size.y<=b.pos.y)},distanceTo:function(b){var c=this.pos.x+this.size.x/2-(b.pos.x+b.size.x/2);b=this.pos.y+this.size.y/2-(b.pos.y+b.size.y/2);return Math.sqrt(c*c+b*b)},angleTo:function(b){return Math.atan2(b.pos.y+
b.size.y/2-(this.pos.y+this.size.y/2),b.pos.x+b.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(b,c){b.checkAgainst&c.type&&b.check(c);c.checkAgainst&b.type&&c.check(b);b.collides&&(c.collides&&b.collides+c.collides>ig.Entity.COLLIDES.ACTIVE)&&ig.Entity.solveCollision(b,c)};ig.Entity.solveCollision=
function(b,c){var d=null;if(b.collides==ig.Entity.COLLIDES.LITE||c.collides==ig.Entity.COLLIDES.FIXED)d=b;else if(c.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)d=c;b.last.x+b.size.x>c.last.x&&b.last.x<c.last.x+c.size.x?(b.last.y<c.last.y?ig.Entity.seperateOnYAxis(b,c,d):ig.Entity.seperateOnYAxis(c,b,d),b.collideWith(c,"y"),c.collideWith(b,"y")):b.last.y+b.size.y>c.last.y&&b.last.y<c.last.y+c.size.y&&(b.last.x<c.last.x?ig.Entity.seperateOnXAxis(b,c,d):ig.Entity.seperateOnXAxis(c,
b,d),b.collideWith(c,"x"),c.collideWith(b,"x"))};ig.Entity.seperateOnXAxis=function(b,c,d){var e=b.pos.x+b.size.x-c.pos.x;d?(d.vel.x=-d.vel.x*d.bounciness+(b===d?c:b).vel.x,c=ig.game.collisionMap.trace(d.pos.x,d.pos.y,d==b?-e:e,0,d.size.x,d.size.y),d.pos.x=c.pos.x):(d=(b.vel.x-c.vel.x)/2,b.vel.x=-d,c.vel.x=d,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,-e/2,0,b.size.x,b.size.y),b.pos.x=Math.floor(d.pos.x),b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,e/2,0,c.size.x,c.size.y),c.pos.x=Math.ceil(b.pos.x))};
ig.Entity.seperateOnYAxis=function(b,c,d){var e=b.pos.y+b.size.y-c.pos.y;if(d){c=b===d?c:b;d.vel.y=-d.vel.y*d.bounciness+c.vel.y;var f=0;d==b&&Math.abs(d.vel.y-c.vel.y)<d.minBounceVelocity&&(d.standing=!0,f=c.vel.x*ig.system.tick);b=ig.game.collisionMap.trace(d.pos.x,d.pos.y,f,d==b?-e:e,d.size.x,d.size.y);d.pos.y=b.pos.y;d.pos.x=b.pos.x}else ig.game.gravity&&(c.standing||0<b.vel.y)?(d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,-(b.pos.y+b.size.y-c.pos.y),b.size.x,b.size.y),b.pos.y=d.pos.y,0<b.bounciness&&
b.vel.y>b.minBounceVelocity?b.vel.y*=-b.bounciness:(b.standing=!0,b.vel.y=0)):(d=(b.vel.y-c.vel.y)/2,b.vel.y=-d,c.vel.y=d,f=c.vel.x*ig.system.tick,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,f,-e/2,b.size.x,b.size.y),b.pos.y=d.pos.y,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,0,e/2,c.size.x,c.size.y),c.pos.y=b.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(b,c){this.tilesize=b;this.data=c;this.height=c.length;this.width=c[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(b,c){var d=Math.floor(b/this.tilesize),e=Math.floor(c/this.tilesize);return 0<=d&&d<this.width&&0<=e&&e<this.height?this.data[e][d]:0},setTile:function(b,c,d){b=Math.floor(b/this.tilesize);c=Math.floor(c/
this.tilesize);0<=b&&b<this.width&&(0<=c&&c<this.height)&&(this.data[c][b]=d)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(b,c,f){this.parent(b,c);this.tiledef=f||ig.CollisionMap.defaultTileDef;for(var g in this.tiledef)g|0>this.lastSlope&&(this.lastSlope=g|0)},trace:function(b,c,f,g,l,m){var j={collision:{x:!1,y:!1,slope:!1},pos:{x:b,y:c},tile:{x:0,y:0}},p=Math.ceil(Math.max(Math.abs(f),Math.abs(g))/this.tilesize);if(1<p)for(var q=f/p,r=g/p,s=0;s<p&&(q||r)&&!(this._traceStep(j,
b,c,q,r,l,m,f,g,s),b=j.pos.x,c=j.pos.y,j.collision.x&&(f=q=0),j.collision.y&&(g=r=0),j.collision.slope);s++);else this._traceStep(j,b,c,f,g,l,m,f,g,0);return j},_traceStep:function(b,c,f,g,l,m,j,p,q,r){b.pos.x+=g;b.pos.y+=l;var s=0;if(g){var t=0<g?m:0,y=0>g?this.tilesize:0,s=Math.max(Math.floor(f/this.tilesize),0),u=Math.min(Math.ceil((f+j)/this.tilesize),this.height);g=Math.floor((b.pos.x+t)/this.tilesize);var A=Math.floor((c+t)/this.tilesize);if(0<r||g==A||0>A||A>=this.width)A=-1;if(0<=g&&g<this.width)for(var B=
s;B<u&&!(-1!=A&&(s=this.data[B][A],1<s&&s<=this.lastSlope&&this._checkTileDef(b,s,c,f,p,q,m,j,A,B)));B++)if(s=this.data[B][g],1==s||s>this.lastSlope||1<s&&this._checkTileDef(b,s,c,f,p,q,m,j,g,B)){if(1<s&&s<=this.lastSlope&&b.collision.slope)break;b.collision.x=!0;b.tile.x=s;c=b.pos.x=g*this.tilesize-t+y;p=0;break}}if(l){t=0<l?j:0;l=0>l?this.tilesize:0;s=Math.max(Math.floor(b.pos.x/this.tilesize),0);y=Math.min(Math.ceil((b.pos.x+m)/this.tilesize),this.width);B=Math.floor((b.pos.y+t)/this.tilesize);
u=Math.floor((f+t)/this.tilesize);if(0<r||B==u||0>u||u>=this.height)u=-1;if(0<=B&&B<this.height)for(g=s;g<y&&!(-1!=u&&(s=this.data[u][g],1<s&&s<=this.lastSlope&&this._checkTileDef(b,s,c,f,p,q,m,j,g,u)));g++)if(s=this.data[B][g],1==s||s>this.lastSlope||1<s&&this._checkTileDef(b,s,c,f,p,q,m,j,g,B)){if(1<s&&s<=this.lastSlope&&b.collision.slope)break;b.collision.y=!0;b.tile.y=s;b.pos.y=B*this.tilesize-t+l;break}}},_checkTileDef:function(b,c,f,g,l,m,j,p,q,r){var s=this.tiledef[c];if(!s)return!1;c=(s[2]-
s[0])*this.tilesize;var t=(s[3]-s[1])*this.tilesize,y=s[4];j=f+l+(0>t?j:0)-(q+s[0])*this.tilesize;p=g+m+(0<c?p:0)-(r+s[1])*this.tilesize;if(0<c*p-t*j){if(0>l*-t+m*c)return y;q=Math.sqrt(c*c+t*t);r=t/q;q=-c/q;var u=j*r+p*q,s=r*u,u=q*u;if(s*s+u*u>=l*l+m*m)return y||0.5>c*(p-m)-t*(j-l);b.pos.x=f+l-s;b.pos.y=g+m-u;b.collision.slope={x:c,y:t,nx:r,ny:q};return!0}return!1}});var b=1/3,c=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,!0],6:[0,c,1,b,!0],7:[0,b,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[c,1,1,0,!0],43:[b,1,c,0,!0],54:[0,1,b,0,!0],27:[0,0,1,b,!0],28:[0,b,1,c,!0],29:[0,c,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,b,1,!0],44:[b,0,c,1,!0],55:[c,0,1,1,!0],16:[1,b,0,0,!0],17:[1,c,0,b,!0],18:[1,1,0,c,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[b,1,0,0,!0],41:[c,1,b,0,!0],52:[1,1,c,0,!0],38:[1,c,0,1,!0],39:[1,b,0,c,!0],40:[1,0,
0,b,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,c,1,!0],42:[c,0,b,1,!0],53:[b,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(b,c,f,g){return{collision:{x:!1,y:!1,slope:!1},pos:{x:b+f,y:c+g},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(b,c,d){this.parent(b,c);this.setTileset(d)},setTileset:function(b){this.tilesetName=b instanceof ig.Image?b.path:b;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(b,
c){this.scroll.x=b/this.distance;this.scroll.y=c/this.distance},preRenderMapToChunks:function(){var b=this.width*this.tilesize*ig.system.scale,c=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(b,c),this.chunkSize);var d=Math.ceil(b/this.chunkSize),e=Math.ceil(c/this.chunkSize);this.preRenderedChunks=[];for(var f=0;f<e;f++){this.preRenderedChunks[f]=[];for(var g=0;g<d;g++)this.preRenderedChunks[f][g]=this.preRenderChunk(g,f,g==d-1?b-g*this.chunkSize:this.chunkSize,f==e-1?
c-f*this.chunkSize:this.chunkSize)}},preRenderChunk:function(b,c,d,e){var f=d/this.tilesize/ig.system.scale+1,g=e/this.tilesize/ig.system.scale+1,l=b*this.chunkSize/ig.system.scale%this.tilesize,m=c*this.chunkSize/ig.system.scale%this.tilesize;b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);c=Math.floor(c*this.chunkSize/this.tilesize/ig.system.scale);var j=ig.$new("canvas");j.width=d;j.height=e;j.retinaResolutionEnabled=!1;e=j.getContext("2d");ig.System.scaleMode(j,e);d=ig.system.context;
ig.system.context=e;for(e=0;e<f;e++)for(var p=0;p<g;p++)if(e+b<this.width&&p+c<this.height){var q=this.data[p+c][e+b];q&&this.tiles.drawTile(e*this.tilesize-l,p*this.tilesize-m,q-1,this.tilesize)}ig.system.context=d;return j},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var b=ig.system.getDrawPos(this.scroll.x),c=ig.system.getDrawPos(this.scroll.y);if(this.repeat)var d=
this.width*this.tilesize*ig.system.scale,b=(b%d+d)%d,d=this.height*this.tilesize*ig.system.scale,c=(c%d+d)%d;var d=Math.max(Math.floor(b/this.chunkSize),0),e=Math.max(Math.floor(c/this.chunkSize),0),f=Math.ceil((b+ig.system.realWidth)/this.chunkSize),g=Math.ceil((c+ig.system.realHeight)/this.chunkSize),l=this.preRenderedChunks[0].length,m=this.preRenderedChunks.length;this.repeat||(f=Math.min(f,l),g=Math.min(g,m));for(var j=0;e<g;e++){for(var p=0,q=d;q<f;q++){var r=this.preRenderedChunks[e%m][q%l],
s=-b+q*this.chunkSize-p,t=-c+e*this.chunkSize-j;ig.system.context.drawImage(r,s,t);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(s,t,this.chunkSize,this.chunkSize));this.repeat&&(r.width<this.chunkSize&&s+r.width<ig.system.realWidth)&&(p+=this.chunkSize-r.width,f++)}this.repeat&&(r.height<this.chunkSize&&t+r.height<ig.system.realHeight)&&(j+=this.chunkSize-r.height,g++)}},drawTiled:function(){for(var b=0,c=null,d=(this.scroll.x/this.tilesize).toInt(),
e=(this.scroll.y/this.tilesize).toInt(),f=this.scroll.x%this.tilesize,g=this.scroll.y%this.tilesize,l=-f-this.tilesize,f=ig.system.width+this.tilesize-f,m=ig.system.height+this.tilesize-g,j=-1,g=-g-this.tilesize;g<m;j++,g+=this.tilesize){var p=j+e;if(p>=this.height||0>p){if(!this.repeat)continue;p=(p%this.height+this.height)%this.height}for(var q=-1,r=l;r<f;q++,r+=this.tilesize){b=q+d;if(b>=this.width||0>b){if(!this.repeat)continue;b=(b%this.width+this.width)%this.width}if(b=this.data[p][b])(c=this.anims[b-
1])?c.draw(r,g):this.tiles.drawTile(r,g,b-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevel:function(b){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var c=0;c<b.entities.length;c++){var d=b.entities[c];this.spawnEntity(d.type,d.x,d.y,d.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(c=0;c<b.layer.length;c++)if(d=b.layer[c],"collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var e=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);e.anims=this.backgroundAnims[d.tilesetName]||
{};e.repeat=d.repeat;e.distance=d.distance;e.foreground=!!d.foreground;e.preRender=!!d.preRender;e.name=d.name;this.backgroundMaps.push(e)}for(c=0;c<this.entities.length;c++)this.entities[c].ready()},loadLevelDeferred:function(b){this._levelToLoad=b},getMapByName:function(b){if("collision"==b)return this.collisionMap;for(var c=0;c<this.backgroundMaps.length;c++)if(this.backgroundMaps[c].name==b)return this.backgroundMaps[c];return null},getEntityByName:function(b){return this.namedEntities[b]},getEntitiesByType:function(b){b=
"string"===typeof b?ig.global[b]:b;for(var c=[],d=0;d<this.entities.length;d++){var e=this.entities[d];e instanceof b&&!e._killed&&c.push(e)}return c},spawnEntity:function(b,c,d,e){var f="string"===typeof b?ig.global[b]:b;if(!f)throw"Can't spawn entity of type "+b;b=new f(c,d,e||{});this.entities.push(b);b.name&&(this.namedEntities[b.name]=b);return b},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(b){b.name&&
delete this.namedEntities[b.name];b._killed=!0;b.type=ig.Entity.TYPE.NONE;b.checkAgainst=ig.Entity.TYPE.NONE;b.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(b)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);this.updateEntities();this.checkEntities();for(var b=0;b<this._deferredKill.length;b++)this._deferredKill[b].erase(),this.entities.erase(this._deferredKill[b]);this._deferredKill=[];if(this._doSortEntities||
this.autoSort)this.sortEntities(),this._doSortEntities=!1;for(var c in this.backgroundAnims){var b=this.backgroundAnims[c],d;for(d in b)b[d].update()}},updateEntities:function(){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c._killed||c.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var b;for(b=0;b<this.backgroundMaps.length;b++){var c=
this.backgroundMaps[b];if(c.foreground)break;c.setScreenPos(this.screen.x,this.screen.y);c.draw()}this.drawEntities();for(b;b<this.backgroundMaps.length;b++)c=this.backgroundMaps[b],c.setScreenPos(this.screen.x,this.screen.y),c.draw()},drawEntities:function(){for(var b=0;b<this.entities.length;b++)this.entities[b].draw()},checkEntities:function(){for(var b={},c=0;c<this.entities.length;c++){var d=this.entities[c];if(!(d.type==ig.Entity.TYPE.NONE&&d.checkAgainst==ig.Entity.TYPE.NONE&&d.collides==ig.Entity.COLLIDES.NEVER))for(var e=
{},f=Math.floor(d.pos.y/this.cellSize),g=Math.floor((d.pos.x+d.size.x)/this.cellSize)+1,l=Math.floor((d.pos.y+d.size.y)/this.cellSize)+1,m=Math.floor(d.pos.x/this.cellSize);m<g;m++)for(var j=f;j<l;j++)if(b[m])if(b[m][j]){for(var p=b[m][j],q=0;q<p.length;q++)d.touches(p[q])&&!e[p[q].id]&&(e[p[q].id]=!0,ig.Entity.checkPair(d,p[q]));p.push(d)}else b[m][j]=[d];else b[m]={},b[m][j]=[d]}}});ig.Game.SORT={Z_INDEX:function(b,c){return b.zIndex-c.zIndex},POS_X:function(b,c){return b.pos.x+b.size.x-(c.pos.x+
c.size.x)},POS_Y:function(b,c){return b.pos.y+b.size.y-(c.pos.y+c.size.y)}}});ig.baked=!0;
ig.module("plugins.patches.webkit-image-smoothing-patch").defines(function(){ig.System&&(ig.System.SCALE={CRISP:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!1;b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(b,c){c.imageSmoothingEnabled=c.msImageSmoothingEnabled=
c.mozImageSmoothingEnabled=c.oImageSmoothingEnabled=!0;b.style.imageRendering="";b.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH)});ig.baked=!0;
ig.module("plugins.patches.windowfocus-onMouseDown-patch").requires("impact.input").defines(function(){var b=!1;try{b=window.self!==window.top,!1===b&&(b=0<window.frames.length)}catch(c){b=!0}ig.Input.inject({keydown:function(c){var e=c.target.tagName;if(!("INPUT"==e||"TEXTAREA"==e))if(e="keydown"==c.type?c.keyCode:2==c.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,b&&0>e&&window.focus(),("touchstart"==c.type||"mousedown"==c.type)&&this.mousemove(c),e=this.bindings[e])this.actions[e]=!0,this.locks[e]||(this.presses[e]=
!0,this.locks[e]=!0),c.stopPropagation(),c.preventDefault()}})});ig.baked=!0;ig.module("plugins.patches.input-patch").requires("impact.input").defines(function(){ig.Input.inject({mousemove:function(b){var c=ig.system.scale*(ig.system.realWidth/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c}})});ig.baked=!0;
ig.module("plugins.handlers.dom-handler").defines(function(){ig.DomHandler=ig.Class.extend({JQUERYAVAILABLE:!1,init:function(){this.JQUERYAVAILABLE=this._jqueryAvailable()},_jqueryAvailable:function(){return"undefined"!==typeof jQuery},addEvent:function(b,c,d,e){if(this.JQUERYAVAILABLE)b.on(c,d);else b.addEventListener(c,d,e)},create:function(b){return this.JQUERYAVAILABLE?$("<"+b+">"):ig.$new(b)},getElementByClass:function(b){return this.JQUERYAVAILABLE?$("."+b):document.getElementsByClassName(b)},
getElementById:function(b){return this.JQUERYAVAILABLE?0<$(b).length?$(b):null:ig.$(b)},appendChild:function(b,c){this.JQUERYAVAILABLE?b.append(c):b.appendChild(c)},appendToBody:function(b){this.JQUERYAVAILABLE?$("body").append(b):document.body.appendChild(b)},resize:function(b,c,d){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2));else{var e=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=e}},resizeOffsetLeft:function(b,
c,d,e){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2)),b.css("left",e);else{var f=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px; left: "+e.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=f}},resizeOffset:function(b,c,d,e,f){if(this.JQUERYAVAILABLE)b.width(c.toFixed(2)),b.height(d.toFixed(2)),b.css("left",e),b.css("top",f);else{var g=b.style.visibility;c="width:"+c.toFixed(2)+"px; height:"+d.toFixed(2)+"px; left: "+e.toFixed(2)+"px; top: "+
f.toFixed(2)+"px;";this.attr(b,"style",c);b.style.visibility=g}},css:function(b,c){if(this.JQUERYAVAILABLE)b.css(c);else{var d="",e;for(e in c)d+=e+":"+c[e]+";";this.attr(b,"style",d)}},getOffsets:function(b){return this.JQUERYAVAILABLE?(b=b.offset(),{left:b.left,top:b.top}):{left:b.offsetLeft,top:b.offsetTop}},attr:function(b,c,d){if("undefined"===typeof d)return this.JQUERYAVAILABLE?b.attr(c):b.getAttribute(c);this.JQUERYAVAILABLE?b.attr(c,d):b.setAttribute(c,d)},show:function(b){b&&"undefined"!==
typeof b&&(this.JQUERYAVAILABLE?(b.show(),b.css("visibility","visible")):b&&(b.style?b.style.visibility="visible":b[0]&&(b[0].style.visibility="visible")))},hide:function(b){b&&"undefined"!==typeof b&&(this.JQUERYAVAILABLE?(b.hide(),b.css("visibility","hidden")):b&&(b.style?b.style.visibility="hidden":b[0]&&(b[0].style.visibility="hidden")))},getQueryVariable:function(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==
b)return decodeURIComponent(e[1])}},forcedDeviceDetection:function(){var b=this.getQueryVariable("device");if(b)switch(b){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...")},forcedDeviceRotation:function(){var b=this.getQueryVariable("force-rotate");if(b)switch(b){case "portrait":console.log("force rotate to portrait");
window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}}})});ig.baked=!0;
ig.module("plugins.data.vector").defines(function(){Vector2=function(b,c){this.x=b||0;this.y=c||0};Vector2.prototype={valType:"number",neg:function(){this.x=-this.x;this.y=-this.y;return this},row:function(b){typeof b===this.valType&&(this.y=b);return this.y},col:function(b){typeof b===this.valType&&(this.x=b);return this.x},add:function(b){b instanceof Vector2?(this.x+=b.x,this.y+=b.y):(this.x+=b,this.y+=b);return this},sub:function(b){b instanceof Vector2?(this.x-=b.x,this.y-=b.y):(this.x-=b,this.y-=
b);return this},mul:function(b){b instanceof Vector2?(this.x*=b.x,this.y*=b.y):(this.x*=b,this.y*=b);return this},div:function(b){b instanceof Vector2?(0!=b.x&&(this.x/=b.x),0!=b.y&&(this.y/=b.y)):0!=b&&(this.x/=b,this.y/=b);return this},equals:function(b){return this.x==b.x&&this.y==b.y},dot:function(b){return this.x*b.x+this.y*b.y},cross:function(b){return this.x*b.y-this.y*b.x},length:function(){return Math.sqrt(this.dot(this))},norm:function(){return this.divide(this.length())},min:function(){return Math.min(this.x,
this.y)},max:function(){return Math.max(this.x,this.y)},toAngles:function(){return-Math.atan2(-this.y,this.x)},angleTo:function(b){return Math.acos(this.dot(b)/(this.length()*b.length()))},toArray:function(b){return[this.x,this.y].slice(0,b||2)},clone:function(){return new Vector2(this.x,this.y)},set:function(b,c){this.x=b;this.y=c;return this},unit:function(){var b=this.length();if(0<b)return new Vector2(this.x/b,this.y/b);throw"Divide by 0 error in unitVector function of vector:"+this;},turnRight:function(){var b=
this.x;this.x=-this.y;this.y=b;return this},turnLeft:function(){var b=this.x;this.x=this.y;this.y=-b;return this},rotate:function(b){var c=this.clone();this.x=c.x*Math.cos(b)-c.y*Math.sin(b);this.y=c.x*Math.sin(b)+c.y*Math.cos(b);return this}};Vector2.negative=function(b){return new Vector2(-b.x,-b.y)};Vector2.add=function(b,c){return c instanceof Vector2?new Vector2(b.x+c.x,b.y+c.y):new Vector2(b.x+v,b.y+v)};Vector2.subtract=function(b,c){return c instanceof Vector2?new Vector2(b.x-c.x,b.y-c.y):
new Vector2(b.x-v,b.y-v)};Vector2.multiply=function(b,c){return c instanceof Vector2?new Vector2(b.x*c.x,b.y*c.y):new Vector2(b.x*v,b.y*v)};Vector2.divide=function(b,c){return c instanceof Vector2?new Vector2(b.x/c.x,b.y/c.y):new Vector2(b.x/v,b.y/v)};Vector2.equals=function(b,c){return b.x==c.x&&b.y==c.y};Vector2.dot=function(b,c){return b.x*c.x+b.y*c.y};Vector2.cross=function(b,c){return b.x*c.y-b.y*c.x}});ig.baked=!0;
ig.module("plugins.handlers.size-handler").requires("plugins.data.vector").defines(function(){ig.SizeHandler=ig.Class.extend({portraitMode:!1,disableStretchToFitOnMobileFlag:!1,enableStretchToFitOnAntiPortraitModeFlag:!0,enableScalingLimitsOnMobileFlag:!1,minScalingOnMobile:0,maxScalingOnMobile:1,enableStretchToFitOnDesktopFlag:!1,enableScalingLimitsOnDesktopFlag:!1,minScalingOnDesktop:0,maxScalingOnDesktop:1,desktop:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(960,
540)},mobile:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(960,540)},windowSize:new Vector2(window.innerWidth,window.innerHeight),scaleRatioMultiplier:new Vector2(1,1),sizeRatio:new Vector2(1,1),scale:1,domHandler:null,dynamicClickableEntityDivs:{},coreDivsToResize:["#canvas","#play","#orientate"],adsToResize:{MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll2:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd2:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll3:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd3:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+
20}},init:function(b){this.domHandler=b;if("undefined"===typeof b)throw"undefined Dom Handler for Size Handler";this.sizeCalcs();this.eventListenerSetup();this.samsungFix()},sizeCalcs:function(){this.windowSize=new Vector2(window.innerWidth,window.innerHeight);if(ig.ua.mobile){this.mobile.actualSize=new Vector2(window.innerWidth,window.innerHeight);var b=new Vector2(this.mobile.actualResolution.x,this.mobile.actualResolution.y);this.scaleRatioMultiplier=new Vector2(this.mobile.actualSize.x/b.x,this.mobile.actualSize.y/
b.y);if(this.disableStretchToFitOnMobileFlag){var c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y);this.enableScalingLimitsOnMobileFlag&&(c=c.limit(this.minScalingOnMobile,this.maxScalingOnMobile));this.mobile.actualSize.x=b.x*c;this.mobile.actualSize.y=b.y*c;this.scaleRatioMultiplier.x=c;this.scaleRatioMultiplier.y=c}else this.sizeRatio.x=this.scaleRatioMultiplier.x,this.sizeRatio.y=this.scaleRatioMultiplier.y,this.scaleRatioMultiplier.x=1,this.scaleRatioMultiplier.y=1}else this.desktop.actualSize=
new Vector2(window.innerWidth,window.innerHeight),b=new Vector2(this.desktop.actualResolution.x,this.desktop.actualResolution.y),this.scaleRatioMultiplier=new Vector2(this.desktop.actualSize.x/b.x,this.desktop.actualSize.y/b.y),this.enableStretchToFitOnDesktopFlag?(this.sizeRatio.x=this.scaleRatioMultiplier.x,this.sizeRatio.y=this.scaleRatioMultiplier.y,this.scaleRatioMultiplier.x=1,this.scaleRatioMultiplier.y=1):(c=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y),this.enableScalingLimitsOnDesktopFlag&&
(c=c.limit(this.minScalingOnDesktop,this.maxScalingOnDesktop)),this.desktop.actualSize.x=b.x*c,this.desktop.actualSize.y=b.y*c,this.scaleRatioMultiplier.x=c,this.scaleRatioMultiplier.y=c)},resizeLayers:function(){for(var b=0;b<this.coreDivsToResize.length;b++){var c=ig.domHandler.getElementById(this.coreDivsToResize[b]);if(ig.ua.mobile)if(this.disableStretchToFitOnMobileFlag){var d=Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.mobile.actualSize.x/2),e=Math.floor(ig.sizeHandler.windowSize.y/
2-ig.sizeHandler.mobile.actualSize.y/2);0>d&&(d=0);0>e&&(e=0);ig.domHandler.resizeOffset(c,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y),d,e);var f=!1;if(f=this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth)if(this.enableStretchToFitOnAntiPortraitModeFlag)ig.domHandler.resizeOffset(c,Math.floor(window.innerWidth),Math.floor(window.innerHeight),0,0);else{var f=new Vector2(window.innerWidth/this.mobile.actualResolution.y,
window.innerHeight/this.mobile.actualResolution.x),d=Math.min(f.x,f.y),f=this.mobile.actualResolution.y*d,g=this.mobile.actualResolution.x*d,d=Math.floor(ig.sizeHandler.windowSize.x/2-f/2),e=Math.floor(ig.sizeHandler.windowSize.y/2-g/2);0>d&&(d=0);0>e&&(e=0);ig.domHandler.resizeOffset(c,Math.floor(f),Math.floor(g),d,e)}}else ig.domHandler.resize(c,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y));else this.enableStretchToFitOnDesktopFlag?ig.domHandler.resize(c,
Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y)):(d=Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.desktop.actualSize.x/2),e=Math.floor(ig.sizeHandler.windowSize.y/2-ig.sizeHandler.desktop.actualSize.y/2),0>d&&(d=0),0>e&&(e=0),ig.domHandler.resizeOffset(c,Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y),d,e))}for(var l in this.adsToResize)b=ig.domHandler.getElementById("#"+l),c=ig.domHandler.getElementById("#"+
l+"-Box"),f=(window.innerWidth-this.adsToResize[l]["box-width"])/2+"px",d=(window.innerHeight-this.adsToResize[l]["box-height"])/2+"px",b&&ig.domHandler.css(b,{width:window.innerWidth,height:window.innerHeight}),c&&ig.domHandler.css(c,{left:f,top:d});b=ig.domHandler.getElementById("#canvas");c=ig.domHandler.getOffsets(b);b=c.left;c=c.top;f=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);for(l in this.dynamicClickableEntityDivs){d=ig.domHandler.getElementById("#"+
l);if(ig.ua.mobile){var g=this.dynamicClickableEntityDivs[l].entity_pos_x,m=this.dynamicClickableEntityDivs[l].entity_pos_y,j=this.dynamicClickableEntityDivs[l].width,e=this.dynamicClickableEntityDivs[l].height;this.disableStretchToFitOnMobileFlag?(g=Math.floor(b+g*this.scaleRatioMultiplier.x)+"px",m=Math.floor(c+m*this.scaleRatioMultiplier.y)+"px",j=Math.floor(j*this.scaleRatioMultiplier.x)+"px",e=Math.floor(e*this.scaleRatioMultiplier.y)+"px"):(g=Math.floor(g*this.sizeRatio.x)+"px",m=Math.floor(m*
this.sizeRatio.y)+"px",j=Math.floor(j*this.sizeRatio.x)+"px",e=Math.floor(e*this.sizeRatio.y)+"px")}else g=this.dynamicClickableEntityDivs[l].entity_pos_x,m=this.dynamicClickableEntityDivs[l].entity_pos_y,j=this.dynamicClickableEntityDivs[l].width,e=this.dynamicClickableEntityDivs[l].height,this.enableStretchToFitOnDesktopFlag?(g=Math.floor(g*this.sizeRatio.x)+"px",m=Math.floor(m*this.sizeRatio.y)+"px",j=Math.floor(j*this.sizeRatio.x)+"px",e=Math.floor(e*this.sizeRatio.y)+"px"):(g=Math.floor(b+g*
this.scaleRatioMultiplier.x)+"px",m=Math.floor(c+m*this.scaleRatioMultiplier.y)+"px",j=Math.floor(j*this.scaleRatioMultiplier.x)+"px",e=Math.floor(e*this.scaleRatioMultiplier.y)+"px");ig.domHandler.css(d,{"float":"left",position:"absolute",left:g,top:m,width:j,height:e,"z-index":3});this.dynamicClickableEntityDivs[l]["font-size"]&&ig.domHandler.css(d,{"font-size":this.dynamicClickableEntityDivs[l]["font-size"]*f+"px"})}$("#ajaxbar").width(this.windowSize.x);$("#ajaxbar").height(this.windowSize.y)},
resize:function(){this.sizeCalcs();this.resizeLayers()},reorient:function(){console.log("changing orientation ...");if(ig.ua.mobile){var b=!1,b=this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth,c=this.domHandler.getElementById("#orientate"),d=this.domHandler.getElementById("#game");b?(this.domHandler.show(c),this.domHandler.hide(d),console.log("portrait"+window.innerWidth+","+window.innerHeight)):(this.domHandler.show(d),this.domHandler.hide(c),console.log("landscape"+
window.innerWidth+","+window.innerHeight))}ig.ua.mobile?(this.resize(),this.resizeAds()):this.resize()},resizeAds:function(){for(var b in this.adsToResize){var c=ig.domHandler.getElementById("#"+b),d=ig.domHandler.getElementById("#"+b+"-Box"),e=(window.innerWidth-this.adsToResize[b]["box-width"])/2+"px",f=(window.innerHeight-this.adsToResize[b]["box-height"])/2+"px";c&&ig.domHandler.css(c,{width:window.innerWidth,height:window.innerHeight});d&&ig.domHandler.css(d,{left:e,top:f})}},samsungFix:function(){ig.ua.android&&
(!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchmove",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchend",function(b){b.preventDefault();return!1},
!1))},orientationInterval:null,orientationTimeout:null,orientationHandler:function(){this.reorient();window.scrollTo(0,1)},orientationDelayHandler:function(){null==this.orientationInterval&&(this.orientationInterval=window.setInterval(this.orientationHandler.bind(this),100));null==this.orientationTimeout&&(this.orientationTimeout=window.setTimeout(function(){this.clearAllIntervals()}.bind(this),2E3))},clearAllIntervals:function(){window.clearInterval(this.orientationInterval);this.orientationInterval=
null;window.clearTimeout(this.orientationTimeout);this.orientationTimeout=null},eventListenerSetup:function(){ig.ua.iOS?(window.addEventListener("orientationchange",this.orientationDelayHandler.bind(this)),window.addEventListener("resize",this.orientationDelayHandler.bind(this))):(window.addEventListener("orientationchange",this.orientationHandler.bind(this)),window.addEventListener("resize",this.orientationHandler.bind(this)));document.ontouchmove=function(b){window.scrollTo(0,1);b.preventDefault()};
this.chromePullDownRefreshFix()},chromePullDownRefreshFix:function(){var b=window.chrome||navigator.userAgent.match("CriOS"),c="ontouchstart"in document.documentElement;if(b&&c){var d=b=!1,e=0,f=!1;try{CSS.supports("overscroll-behavior-y","contain")&&(b=!0)}catch(g){}try{if(b)return document.body.style.overscrollBehaviorY="contain"}catch(l){}b=document.head||document.body;c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText="\n      ::-webkit-scrollbar {\n        width: 500x;\n      }\n      ::-webkit-scrollbar-thumb {\n        border-radius: 500px;\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      body {\n        -webkit-overflow-scrolling: auto!important;\n      }\n    ":
c.appendChild(document.createTextNode("\n      ::-webkit-scrollbar {\n        width: 500px;\n      }\n      ::-webkit-scrollbar-thumb {\n        border-radius: 500px;\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n      body {\n        -webkit-overflow-scrolling: auto!important;\n      }\n    "));b.appendChild(c);try{addEventListener("test",null,{get passive(){d=!0}})}catch(m){}document.addEventListener("touchstart",function(b){1===b.touches.length&&(e=b.touches[0].clientY,f=0===window.pageYOffset)},
!!d&&{passive:!0});document.addEventListener("touchmove",function(b){var c;if(c=f){f=!1;c=b.touches[0].clientY;var d=c-e;c=(e=c,0<d)}if(c)return b.preventDefault()},!!d&&{passive:!1})}}})});ig.baked=!0;
ig.module("plugins.handlers.api-handler").defines(function(){ig.ApiHandler=ig.Class.extend({apiAvailable:{MJSPreroll:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},MJSHeader:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Header.Enabled&&MobileAdInGameHeader.Initialize()},MJSFooter:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Footer.Enabled&&MobileAdInGameFooter.Initialize()},
MJSEnd:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.End.Enabled&&MobileAdInGameEnd.Initialize()}},run:function(b,c){if(this.apiAvailable[b])this.apiAvailable[b](c)}})});ig.baked=!0;
ig.module("plugins.audio.sound-player").defines(function(){SoundPlayer=ig.Class.extend({tagName:"SoundPlayer",stayMuteFlag:!1,debug:!1,init:function(){this.debug&&console.log(this.tagName)},play:function(b){this.debug&&console.log("play sound ",b)},stop:function(){this.debug&&console.log("stop sound ")},volume:function(){this.debug&&console.log("set volume")},mute:function(b){this.debug&&console.log("mute");"undefined"===typeof b?this.stayMuteFlag=!0:b&&(this.stayMuteFlag=!0)},unmute:function(b){this.debug&&
console.log("unmute");"undefined"===typeof b?this.stayMuteFlag=!1:b&&(this.stayMuteFlag=!1)}})});ig.baked=!0;
ig.module("plugins.audio.impact-music-player").requires("plugins.audio.sound-player").defines(function(){ImpactMusicPlayer=SoundPlayer.extend({tagName:"ImpactMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b)this.soundList[d]=d,ig.music.add(b[d].path+".*",d);c&&c.loop&&(ig.music.loop=c.loop)},play:function(b){this.stayMuteFlag||(this.bgmPlaying=!0,"undefined"===typeof b?ig.music.play(b):ig.music.play())},stop:function(){this.bgmPlaying=!1;ig.music.pause()},
volume:function(b){console.log("impactmusic:",b);ig.music.volume=0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.music.volume},mute:function(b){this.parent(b);this.bgmPlaying&&this.stop()},unmute:function(b){this.parent(b);this.play()}})});ig.baked=!0;
ig.module("plugins.audio.impact-sound-player").requires("plugins.audio.sound-player").defines(function(){ImpactSoundPlayer=SoundPlayer.extend({tagName:"ImpactSoundPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=new ig.Sound(b[d].path+".*");this.soundList[d]=e}},play:function(b){this.stayMuteFlag||("object"===typeof b?(console.log(b+" exists"),b.play()):"string"===typeof b&&this.soundList[b].play())},stop:function(b){this.parent(b);b.stop()},volume:function(b){ig.soundManager.volume=
0>b?0:isNaN(b)?1:1<b?1:b},getVolume:function(){return ig.soundManager.volume},mute:function(b){this.parent(b);ig.Sound.enabled=!1},unmute:function(b){this.parent(b);ig.Sound.enabled=!0}})});ig.baked=!0;
ig.module("plugins.audio.howler-player").requires("plugins.audio.sound-player").defines(function(){HowlerPlayer=SoundPlayer.extend({tagName:"HowlerPlayer",soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=b[d].path,e=new Howl({src:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext]});this.soundList[d]=e}},play:function(b){this.stayMuteFlag||("object"===typeof b?b.play():"string"===typeof b&&this.soundList[b].play())},stop:function(b){this.parent(b);"object"===typeof b?
b.stop():"string"===typeof b&&this.soundList[b].stop()},volume:function(b){for(var c in this.soundList){if(0>b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},mute:function(b){this.parent(b);Howler.mute(!0)},unmute:function(b){this.parent(b);Howler.mute(!1)}})});ig.baked=!0;
ig.module("plugins.audio.howler-music-player").requires("plugins.audio.sound-player").defines(function(){HowlerMusicPlayer=SoundPlayer.extend({tagName:"HowlerMusicPlayer",bgmPlaying:!1,soundList:{},init:function(b,c){this.parent(b,c);for(var d in b){var e=b[d].path,e=new Howl({src:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext],loop:!0,autoplay:!1,onend:function(){}.bind(this)});this.soundList[d]=e}},play:function(b){if(!this.stayMuteFlag&&!this.bgmPlaying)if("object"===typeof b)this.bgmPlaying=
!0,b.play();else if("string"===typeof b)this.bgmPlaying=!0,this.soundList[b].play();else for(var c in this.soundList){this.soundList[c].play();this.bgmPlaying=!0;break}},stop:function(b){this.parent(b);if(this.bgmPlaying){for(var c in this.soundList)this.soundList[c].stop();this.bgmPlaying=!1}},volume:function(b){console.log("howler",b);for(var c in this.soundList){if(0>b){this.soundList[c].volume(0);break}isNaN(b)?this.soundList[c].volume(1):1<b?this.soundList[c].volume(1):this.soundList[c].volume(b)}},
getVolume:function(){for(var b in this.soundList)return this.soundList[b].volume()},mute:function(b){this.parent(b);Howler.mute(!0)},unmute:function(b){this.parent(b);Howler.mute(!1)}})});ig.baked=!0;
ig.module("plugins.audio.jukebox-player").requires("plugins.audio.sound-player").defines(function(){JukeboxPlayer=SoundPlayer.extend({tagName:"JukeboxPlayer",bgmPlaying:!1,soundList:{},jukeboxPlayer:null,pausePosition:0,premuteVolume:0,minVolume:0.001,init:function(b,c){this.parent(b,c);for(var d in b){this.soundList[d]=d;var e=b[d].path;this.jukeboxPlayer=new jukebox.Player({resources:[e+"."+ig.Sound.FORMAT.OGG.ext,e+"."+ig.Sound.FORMAT.MP3.ext],autoplay:!1,spritemap:{music:{start:b[d].startMp3,
end:b[d].endMp3,loop:!0}}})}},play:function(){this.stayMuteFlag||(this.bgmPlaying=!0,this.pausePosition?(console.log("resume"),this.jukeboxPlayer.resume(this.pausePosition)):(console.log("play"),this.jukeboxPlayer.play(this.jukeboxPlayer.settings.spritemap.music.start,!0)),this.premuteVolume=this.getVolume())},stop:function(){this.bgmPlaying=!1;this.pausePosition=this.jukeboxPlayer.pause()},volume:function(b){console.log("jukebox:",b);0>=b?this.jukeboxPlayer.setVolume(this.minVolume):isNaN(b)?this.jukeboxPlayer.setVolume(1):
1<b?this.jukeboxPlayer.setVolume(1):this.jukeboxPlayer.setVolume(b)},getVolume:function(){return this.jukeboxPlayer.getVolume()},mute:function(b){this.parent(b);this.bgmPlaying&&(console.log("jukebox",this.premuteVolume),this.stayMuteFlag||(this.premuteVolume=this.getVolume()),this.jukeboxPlayer.pause(),this.jukeboxPlayer.setVolume(this.minVolume))},unmute:function(b){this.parent(b);this.stayMuteFlag||(console.log("jukebox",this.premuteVolume),this.jukeboxPlayer.setVolume(this.premuteVolume),this.jukeboxPlayer.resume())}})});
ig.baked=!0;
ig.module("plugins.audio.webaudio-music-player").requires("plugins.audio.sound-player").defines(function(){WebaudioMusicPlayer=SoundPlayer.extend({tagName:"WebaudioMusicPlayer",bgmPlaying:!1,isSupported:!1,muteFlag:!1,pausedTime:0,webaudio:null,useHTML5Audio:!1,audio:null,inactiveAudio:null,codecs:null,reinitOnPlay:!1,inputList:null,_volume:1,soundList:{},init:function(b){this.webaudio={compatibility:{},gainNode:null,buffer:null,source_loop:{},source_once:{}};try{Howler&&Howler.ctx?this.webaudio.context=Howler.ctx:
ig&&ig.webaudio_ctx?this.webaudio.context=ig.webaudio_ctx:(this.AudioContext=window.AudioContext||window.webkitAudioContext,this.webaudio.context=new this.AudioContext,ig.webaudio_ctx=this.webaudio.context),this.isSupported=!0}catch(c){console.log("Web Audio API not supported in this browser."),this.webaudio=null,this.useHTML5Audio=!0}if(this.useHTML5Audio)if("undefined"!==typeof Audio)try{new Audio}catch(d){this.useHTML5Audio=!1}else this.useHTML5Audio=!1;this.useHTML5Audio&&(this.audio=new Audio,
this.isSupported=!0,this.initHTML5Audio(b));if(!this.isSupported)return null;this.webaudio&&(this.inputList=b,this.initWebAudio(b))},initWebAudio:function(b){ig.ua.iOS&&this.initIOSWebAudioUnlock();this.webaudio.gainNode=this.webaudio.context.createGain();this.webaudio.gainNode.connect(this.webaudio.context.destination);this.webaudio.gainNode.gain.value=this._volume;this.webaudio.buffer=null;var c="start",d="stop",e=this.webaudio.context.createBufferSource();"function"!==typeof e.start&&(c="noteOn");
this.webaudio.compatibility.start=c;"function"!==typeof e.stop&&(d="noteOff");this.webaudio.compatibility.stop=d;for(var f in b){this.soundList[f]=f;var d=b[f].path,c=d+"."+ig.Sound.FORMAT.MP3.ext,g=d+"."+ig.Sound.FORMAT.OGG.ext;ig.ua.mobile?ig.ua.iOS&&(g=c):(d=navigator.userAgent.toLowerCase(),-1!=d.indexOf("safari")&&-1>=d.indexOf("chrome")&&(g=c),d.indexOf("win64")&&(g=c));var l=new XMLHttpRequest;l.open("GET",g,!0);l.responseType="arraybuffer";l.onload=function(){this.webaudio.context.decodeAudioData(l.response,
function(b){this.webaudio.buffer=b;this.webaudio.source_loop={};this.bgmPlaying?this.play(null,!0):this.stop()}.bind(this),function(){console.log('Error decoding audio "'+g+'".')})}.bind(this);l.send();if(4==l.readyState&&"undefined"!==typeof Audio){this.useHTML5Audio=!0;try{new Audio}catch(m){this.useHTML5Audio=!1}this.useHTML5Audio&&(console.log("Using HTML5 Audio"),this.webaudio=null,this.audio=new Audio,this.isSupported=!0,this.initHTML5Audio(b))}break}},initIOSWebAudioUnlock:function(){if(this.webaudio){webaudio=
this.webaudio;var b=function(){var c=webaudio.context,d=c.createBuffer(1,1,22050),e=c.createBufferSource();e.buffer=d;e.connect(c.destination);"undefined"===typeof e.start?e.noteOn(0):e.start(0);setTimeout(function(){(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)&&window.removeEventListener("touchend",b,!1)}.bind(this),0)};window.addEventListener("touchend",b,!1)}},initHTML5Audio:function(b){if(this.useHTML5Audio&&this.audio){var c=this.audio;this.codecs={};this.codecs={mp3:!!c.canPlayType("audio/mpeg;").replace(/^no$/,
""),opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!c.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,
"")};this.is={ff:Boolean(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase())),ie:Boolean(document.all&&!window.opera),opera:Boolean(window.opera),chrome:Boolean(window.chrome),safari:Boolean(!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase())&&window.getComputedStyle&&!window.globalStorage&&!window.opera)};this.playDelay=-60;this.stopDelay=30;this.is.chrome&&(this.playDelay=-25);this.is.chrome&&(this.stopDelay=25);this.is.ff&&(this.playDelay=-25);this.is.ff&&
(this.stopDelay=85);this.is.opera&&(this.playDelay=5);this.is.opera&&(this.stopDelay=0);for(var d in b){this.soundList[d]=d;var e=b[d].path,c=e+"."+ig.Sound.FORMAT.OGG.ext,e=e+"."+ig.Sound.FORMAT.MP3.ext,f=null;this.codecs[ig.Sound.FORMAT.OGG.ext.toLowerCase()]?f=c:this.codecs[ig.Sound.FORMAT.MP3.ext.toLowerCase()]&&(f=e);if(f){ig.ua.mobile?ig.ua.iOS&&(f=e):(b=navigator.userAgent.toLowerCase(),-1!=b.indexOf("safari")&&-1>=b.indexOf("chrome")&&(f=e));this.audio.addEventListener("error",function(){this.audio.error&&
4===this.audio.error.code&&(this.isSupported=!1)},!1);this.audio.src=f;this.audio._pos=0;this.audio.preload="auto";this.audio.volume=this._volume;this.inactiveAudio=new Audio;this.inactiveAudio.src=f;this.inactiveAudio._pos=0;this.inactiveAudio.preload="auto";this.inactiveAudio.volume=this._volume;this.inactiveAudio.load();var g=function(){this._duration=this.audio.duration;this._loaded||(this._loaded=!0);this.bgmPlaying?this.play(null,!0):this.stop();this.audio.removeEventListener("canplaythrough",
g,!1)}.bind(this);this.audio.addEventListener("canplaythrough",g,!1);this.audio.load();break}}}},play:function(b,c){if(this.isSupported)if(this.bgmPlaying=!0,this.webaudio){if(!c&&this.reinitOnPlay&&this.webaudio.source_loop.buffer==this.webaudio.buffer){if(this.webaudio.source_loop._playing&&(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-this.webaudio.source_loop._startTime,this.pausedTime%=
this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0);try{this.webaudio.context.close();this.webaudio.context=new this.AudioContext;this.webaudio.gainNode=this.webaudio.context.createGain();this.webaudio.gainNode.connect(this.webaudio.context.destination);this.webaudio.gainNode.gain.value=this._volume;var d="start",e="stop",f=this.webaudio.context.createBufferSource();
"function"!==typeof f.start&&(d="noteOn");this.webaudio.compatibility.start=d;"function"!==typeof f.stop&&(e="noteOff");this.webaudio.compatibility.stop=e;this.webaudio.source_loop={};this.play(null,!0)}catch(g){}}if(this.webaudio.buffer){if(!this.muteFlag&&(this.bgmPlaying=!0,!this.webaudio.source_loop._playing)){this.webaudio.source_loop=this.webaudio.context.createBufferSource();this.webaudio.source_loop.buffer=this.webaudio.buffer;this.webaudio.source_loop.loop=!0;this.webaudio.source_loop.connect(this.webaudio.gainNode);
if(null==b||isNaN(b))b=0,this.pausedTime&&(b=this.pausedTime);this.webaudio.source_loop._startTime=this.webaudio.context.currentTime;if("noteOn"===this.webaudio.compatibility.start)this.webaudio.source_once=this.webaudio.context.createBufferSource(),this.webaudio.source_once.buffer=this.webaudio.buffer,this.webaudio.source_once.connect(this.webaudio.gainNode),this.webaudio.source_once.noteGrainOn(0,b,this.webaudio.buffer.duration-b),this.webaudio.source_loop[this.webaudio.compatibility.start](this.webaudio.context.currentTime+
(this.webaudio.buffer.duration-b));else this.webaudio.source_loop[this.webaudio.compatibility.start](0,b);this.webaudio.source_loop._playing=!0}}else this.bgmPlaying=!0}else if(this.audio){var l=this.audio;if(!this.muteFlag)if(this.bgmPlaying=!0,isNaN(b)&&(b=0,this.pausedTime&&(b=this.pausedTime)),d=this._duration-b,this._onEndTimer&&(clearTimeout(this._onEndTimer),this._onEndTimer=null),this._onEndTimer=setTimeout(function(){this.audio.currentTime=0;this.audio.pause();this.pausedTime=0;if(this.inactiveAudio){var b=
this.audio;this.audio=this.inactiveAudio;this.inactiveAudio=b}this.play()}.bind(this),1E3*d+this.playDelay),4===l.readyState||!l.readyState&&navigator.isCocoonJS)l.readyState=4,l.currentTime=b,l.muted=this.muteFlag||l.muted,l.volume=this._volume,setTimeout(function(){l.play()},0);else{clearTimeout(this._onEndTimer);this._onEndTimer=null;var m=function(){typeof("function"==this.play)&&(this.play(),l.removeEventListener("canplaythrough",m,!1))}.bind(this);l.addEventListener("canplaythrough",m,!1)}}},
stop:function(){this.bgmPlaying=!1;if(this.isSupported)if(this.webaudio){if(this.webaudio.source_loop._playing&&(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-this.webaudio.source_loop._startTime,this.pausedTime%=this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0)}else if(this.audio){var b=
this.audio;4==b.readyState&&(this.pausedTime=b.currentTime,b.currentTime=0,b.pause(),clearTimeout(this._onEndTimer),this._onEndTimer=null)}},volume:function(b){if(isNaN(b)||null==b)return this.getVolume();this.isSupported&&(this._volume=b,0>this._volume?this._volume=0:1<this._volume&&(this._volume=1),this.webaudio?this.webaudio.gainNode&&(this.webaudio.gainNode.gain.value=this._volume):this.audio&&(this.audio.volume=this._volume,this.inactiveAudio&&(this.inactiveAudio.volume=this._volume)))},getVolume:function(){return!this.isSupported?
0:this._volume},mute:function(b){this.parent(b);!1==this.muteFlag&&(this.muteFlag=!0,this.bgmPlaying&&(this.stop(),this.bgmPlaying=!0))},unmute:function(b){this.parent(b);!this.stayMuteFlag&&!0==this.muteFlag&&(this.muteFlag=!1,this.bgmPlaying&&this.play())}})});ig.baked=!0;
ig.module("plugins.audio.sound-info").defines(function(){SoundInfo=ig.Class.extend({FORMATS:{OGG:".ogg",MP3:".mp3"},sfx:{kittyopeningSound:{path:"media/audio/opening/kittyopening"},staticSound:{path:"media/audio/play/static"},openingSound:{path:"media/audio/opening/opening"},button1:{path:"media/audio/button1"},shoot:{path:"media/audio/shoot"},hit1:{path:"media/audio/hit1"},hit2:{path:"media/audio/hit2"},net:{path:"media/audio/net"},bomb:{path:"media/audio/bomb"},nettext:{path:"media/audio/nettext"},
vortex:{path:"media/audio/vortex"},coin:{path:"media/audio/coin"},beep:{path:"media/audio/beep"},c00:{path:"media/audio/0"},c01:{path:"media/audio/1"},c02:{path:"media/audio/2"},c03:{path:"media/audio/3"},c04:{path:"media/audio/4"},c05:{path:"media/audio/5"},c06:{path:"media/audio/6"},c07:{path:"media/audio/7"},c08:{path:"media/audio/8"},c09:{path:"media/audio/9"},c10:{path:"media/audio/10"},result:{path:"media/audio/result"},ready:{path:"media/audio/ready"},go:{path:"media/audio/go"},timesup:{path:"media/audio/timesup"}},
bgm:{background:{path:"media/audio/bgm",startOgg:0,endOgg:21.463,startMp3:0,endMp3:21.463}}})});ig.baked=!0;
ig.module("plugins.audio.sound-handler").requires("plugins.audio.impact-music-player","plugins.audio.impact-sound-player","plugins.audio.howler-player","plugins.audio.howler-music-player","plugins.audio.jukebox-player","plugins.audio.webaudio-music-player","plugins.audio.sound-info").defines(function(){ig.SoundHandler=ig.Class.extend({bgmPlayer:null,sfxPlayer:null,focusBlurMute:!1,soundInfo:new SoundInfo,init:function(){console.log("Initiating sound handler");this.initWindowHandler();ig.ua.mobile?
(this.initPowerButtonFix(),this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new JukeboxPlayer(this.soundInfo.bgm,{loop:!0}))):(this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new ImpactMusicPlayer(this.soundInfo.bgm,{loop:!0})));this.sfxPlayer=new HowlerPlayer(this.soundInfo.sfx)},checkBGM:function(){return this.bgmPlayer.stayMuteFlag},checkSFX:function(){return this.sfxPlayer.stayMuteFlag},
muteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.mute(b)},muteBGM:function(b){this.bgmPlayer&&this.bgmPlayer.mute(b)},unmuteSFX:function(b){this.sfxPlayer&&this.sfxPlayer.unmute(b)},unmuteBGM:function(b){this.bgmPlayer&&this.bgmPlayer.unmute(b)},muteAll:function(b){this.muteSFX(b);this.muteBGM(b)},unmuteAll:function(b){ig.gd.isFreez||(this.unmuteSFX(b),this.unmuteBGM(b))},forceMuteAll:function(){this.focusBlurMute||this.muteAll(!1);this.focusBlurMute=!0},forceUnMuteAll:function(){!ig.gd.isFreez&&
this.focusBlurMute&&(this.unmuteAll(!1),this.focusBlurMute=!1)},initWindowHandler:function(){"true"===ig.domHandler.getQueryVariable("webview")?($(window).focus(function(){ig.game&&(ig.game.pageHide=!1);ig.soundHandler&&!ig.gd.isFreez&&ig.soundHandler.forceUnMuteAll()}),$(window).blur(function(){ig.game&&(ig.game.pageHide=!0,ig.game.kickme());ig.soundHandler&&ig.soundHandler.forceMuteAll()})):(window.onfocus=function(){ig.game&&(ig.game.pageHide=!1);ig.soundHandler&&!ig.gd.isFreez&&ig.soundHandler.forceUnMuteAll()},
window.onblur=function(){ig.game&&(ig.game.pageHide=!0,ig.game.kickme());ig.soundHandler&&ig.soundHandler.forceMuteAll()})},initPowerButtonFix:function(){var b=this.getHiddenProp();b&&(b=b.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(b,this.visChange));window.addEventListener("pagehide",function(){ig.game&&console.log(5);ig.soundHandler&&ig.soundHandler.forceMuteAll()},!1);window.addEventListener("pageshow",function(){ig.game&&console.log(6);ig.soundHandler&&!ig.gd.isFreez&&
ig.soundHandler.forceUnMuteAll()},!1)},getHiddenProp:function(){var b=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<b.length;c++)if(b[c]+"Hidden"in document)return b[c]+"Hidden";return null},isHidden:function(){var b=this.getHiddenProp();return!b?!1:document[b]},visChange:function(){ig.soundHandler.isHidden()?ig.soundHandler&&ig.soundHandler.forceMuteAll():ig.soundHandler&&!ig.gd.isFreez&&ig.soundHandler.forceUnMuteAll()},saveVolume:function(){this.sfxPlayer&&ig.game.io.storageSet("soundVolume",
this.sfxPlayer.getVolume());this.bgmPlayer&&ig.game.io.storageSet("musicVolume",this.bgmPlayer.getVolume())},forceLoopBGM:function(){var b;if(!this.focusBlurMute&&this.bgmPlayer.bgmPlaying&&this.bgmPlayer){var c=this.bgmPlayer.jukeboxPlayer;if(c){null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase());b=Boolean(window.chrome);!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase());var d=0.1;ig.ua.mobile&&(d=0.115,ig.ua.android&&(d=0.45,b&&(d=0.3)));c.settings.spritemap.music&&
(b=c.settings.spritemap.music.end-d,c.getCurrentTime()>=b&&(b=c.settings.spritemap.music.start,ig.ua.android?this.forcelooped||(c.play(b,!0),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):c.setCurrentTime(b)))}else"ImpactMusicPlayer"==this.bgmPlayer.tagName&&(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase()),b=Boolean(window.chrome),!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase()),d=0.1,ig.ua.mobile&&(d=0.115,ig.ua.android&&
(d=0.45,b&&(d=0.3))),c=0,"mp3"==ig.soundManager.format.ext&&(c=0.05),ig.music.currentTrack&&(b=ig.music.currentTrack.duration-d,ig.music.currentTrack.currentTime>=b&&(ig.ua.android?this.forcelooped||(ig.music.currentTrack.pause(),ig.music.currentTrack.currentTime=c,ig.music.currentTrack.play(),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},d)):ig.music.currentTrack.currentTime=c)))}}})});ig.baked=!0;
ig.module("plugins.io.storage").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.io.mouse").defines(function(){Mouse=ig.Class.extend({pos:new Vector2(0,0),bindings:{click:[ig.KEY.MOUSE1]},init:function(){ig.input.initMouse();for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}},getPos:function(){this.pos.set(ig.input.mouse.x/ig.sizeHandler.sizeRatio.x/ig.sizeHandler.scaleRatioMultiplier.x,ig.input.mouse.y/ig.sizeHandler.sizeRatio.y/ig.sizeHandler.scaleRatioMultiplier.y);return this.pos}})});
ig.baked=!0;ig.module("plugins.io.keyboard").defines(function(){Keyboard=ig.Class.extend({bindings:{jump:[ig.KEY.W,ig.KEY.UP_ARROW],moveright:[ig.KEY.D,ig.KEY.RIGHT_ARROW],moveleft:[ig.KEY.A,ig.KEY.LEFT_ARROW],shoot:[ig.KEY.S,ig.KEY.DOWN_ARROW,ig.KEY.SPACE]},init:function(){for(var b in this.bindings){this[b]=b;for(var c=0;c<this.bindings[b].length;c++)ig.input.bind(this.bindings[b][c],b)}}})});ig.baked=!0;
ig.module("plugins.io.gamepad-input").defines(function(){ig.PADKEY={BUTTON_0:0,PADBUTTON_1:1,BUTTON_2:2,BUTTON_3:3,BUTTON_LEFT_BUMPER:4,BUTTON_RIGHT_BUMPER:5,BUTTON_LEFT_TRIGGER:6,BUTTON_RIGHT_TRIGGER:7,BUTTON_LEFT_JOYSTICK:10,BUTTON_RIGHT_JOYSTICK:11,BUTTON_DPAD_UP:12,BUTTON_DPAD_DOWN:13,BUTTON_DPAD_LEFT:14,BUTTON_DPAD_RIGHT:15,BUTTON_MENU:16,AXIS_LEFT_JOYSTICK_X:0,AXIS_LEFT_JOYSTICK_Y:1,AXIS_RIGHT_JOYSTICK_X:2,AXIS_RIGHT_JOYSTICK_Y:3};ig.GamepadInput=ig.Class.extend({isInit:!1,isSupported:!1,list:[],
bindings:{},states:{},presses:{},releases:{},downLocks:{},upLocks:{},leftStick:{x:0,y:0},rightStick:{x:0,y:0},start:function(){if(!this.isInit){this.isInit=!0;var b=navigator.getGamepads||navigator.webkitGetGamepads;b&&(!navigator.getGamepads&&navigator.webkitGetGamepads&&(navigator.getGamepads=navigator.webkitGetGamepads),this.list=navigator.getGamepads());this.isSupported=b}},isAvailable:function(){return this.isInit&&this.isSupported},buttonPressed:function(b){return"object"==typeof b?b.pressed:
1==b},buttonDown:function(b){if(b=this.bindings[b])this.states[b]=!0,this.downLocks[b]||(this.presses[b]=!0,this.downLocks[b]=!0)},buttonUp:function(b){if((b=this.bindings[b])&&this.downLocks[b]&&!this.upLocks[b])this.states[b]=!1,this.releases[b]=!0,this.upLocks[b]=!0},clearPressed:function(){for(var b in this.releases)this.states[b]=!1,this.downLocks[b]=!1;this.releases={};this.presses={};this.upLocks={}},bind:function(b,c){this.bindings[b]=c},unbind:function(b){this.releases[this.bindings[b]]=
!0;this.bindings[b]=null},unbindAll:function(){this.bindings={};this.states={};this.presses={};this.releases={};this.downLocks={};this.upLocks={}},state:function(b){return this.states[b]},pressed:function(b){return this.presses[b]},released:function(b){return this.releases[b]},clamp:function(b,c,d){return b<c?c:b>d?d:b},pollGamepads:function(){if(this.isSupported){this.leftStick.x=0;this.leftStick.y=0;this.rightStick.x=0;this.rightStick.y=0;this.list=navigator.getGamepads();for(var b in this.bindings){for(var c=
!1,d=0;d<this.list.length;d++){var e=this.list[d];if(e&&e.buttons&&this.buttonPressed(e.buttons[b])){c=!0;break}}c?this.buttonDown(b):this.buttonUp(b)}for(d=0;d<this.list.length;d++)if((e=this.list[d])&&e.axes){b=e.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_X];var c=e.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_Y],f=e.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_X],e=e.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_Y];this.leftStick.x+=isNaN(b)?0:b;this.leftStick.y+=isNaN(c)?0:c;this.rightStick.x+=isNaN(f)?0:f;this.rightStick.y+=
isNaN(e)?0:e}0<this.list.length&&(this.leftStick.x=this.clamp(this.leftStick.x,-1,1),this.leftStick.y=this.clamp(this.leftStick.y,-1,1),this.rightStick.x=this.clamp(this.rightStick.x,-1,1),this.rightStick.y=this.clamp(this.rightStick.y,-1,1))}}})});ig.baked=!0;
ig.module("plugins.io.gamepad").requires("plugins.io.gamepad-input").defines(function(){Gamepad=ig.Class.extend({bindings:{padJump:[ig.PADKEY.BUTTON_0]},init:function(){ig.gamepadInput.start();for(var b in this.bindings)for(var c=0;c<this.bindings[b].length;c++)ig.gamepadInput.bind(this.bindings[b][c],b)},press:function(){},held:function(){},release:function(){}})});ig.baked=!0;
ig.module("plugins.io.multitouch").defines(function(){Multitouch=ig.Class.extend({init:function(){ig.multitouchInput.start()},getTouchesPos:function(){if(ig.ua.mobile){if(0<ig.multitouchInput.touches.length){for(var b=[],c=0;c<ig.multitouchInput.touches.length;c++){var d=ig.multitouchInput.touches[c];b.push({x:d.x,y:d.y})}return b}return null}}})});ig.baked=!0;
ig.module("plugins.io.multitouch-input").defines(function(){ig.MultitouchInput=ig.Class.extend({isStart:!1,touches:[],multitouchCapable:!1,lastEventUp:null,start:function(){this.isStart||(this.isStart=!0,navigator.maxTouchPoints&&1<navigator.maxTouchPoints&&(this.multitouchCapable=!0),ig.ua.touchDevice&&(window.navigator.msPointerEnabled&&(ig.system.canvas.addEventListener("MSPointerDown",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",
this.touchmove.bind(this),!1),ig.system.canvas.style.msContentZooming="none",ig.system.canvas.style.msTouchAction="none"),ig.system.canvas.addEventListener("touchstart",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.touchmove.bind(this),!1)))},touchmove:function(b){if(ig.ua.touchDevice){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||
ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());for(var f=0;f<b.touches.length;f++){var g=b.touches[f];g&&this.touches.push({x:(g.clientX-e.left)/c,y:(g.clientY-e.top)/d})}}else this.windowMove(b)}},touchdown:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(window.navigator.msPointerEnabled)this.windowKeyDown(b);else if(ig.ua.touchDevice&&b.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<b.touches.length&&(this.multitouchCapable=!0);var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());
for(var f=0;f<b.touches.length;f++){var g=b.touches[f];g&&this.touches.push({x:(g.clientX-e.left)/c,y:(g.clientY-e.top)/d})}}},touchup:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;parseInt(ig.system.canvas.offsetHeight);c=ig.system.scale*(c/ig.system.realWidth);if(window.navigator.msPointerEnabled)this.windowKeyUp(b);else{this.lastEventUp=b;var d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());if(ig.ua.touchDevice){b=
(b.changedTouches[0].clientX-d.left)/c;for(c=0;c<this.touches.length;c++)this.touches[c].x>=b-40&&this.touches[c].x<=b+40&&this.touches.splice(c,1)}}},windowKeyDown:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight);if(window.navigator.msPointerEnabled){var e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());
b=b.changedTouches?b.changedTouches:[b];for(var f=0;f<b.length;++f){for(var g=b[f],l="undefined"!=typeof g.identifier?g.identifier:"undefined"!=typeof g.pointerId?g.pointerId:1,m=(g.clientX-e.left)/c,g=(g.clientY-e.top)/d,j=0;j<this.touches.length;++j)this.touches[j].identifier==l&&this.touches.splice(j,1);this.touches.push({x:m,y:g,identifier:l})}for(c=0;c<this.touches.length;c++);}},windowKeyUp:function(b){b="undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:
1;for(var c=0;c<this.touches.length;++c)this.touches[c].identifier==b&&this.touches.splice(c,1);for(;0<this.touches.length;)this.touches.pop()},windowMove:function(b){var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,c=ig.system.scale*(c/ig.system.realWidth),d=ig.system.scale*(d/ig.system.realHeight),e={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(e=ig.system.canvas.getBoundingClientRect());if(window.navigator.msPointerEnabled)for(var f=
"undefined"!=typeof b.identifier?b.identifier:"undefined"!=typeof b.pointerId?b.pointerId:1,g=0;g<this.touches.length;++g)if(this.touches[g].identifier==f){var l=(b.clientY-e.top)/d;this.touches[g].x=(b.clientX-e.left)/c;this.touches[g].y=l}}})});ig.baked=!0;
ig.module("plugins.io.fake-storage").requires("impact.game").defines(function(){ig.FakeStorage=ig.Class.extend({tempData:{},init:function(){ig.FakeStorage.instance=this},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},set:function(b,c){this.tempData[b]=JSON.stringify(c)},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},get:function(b){return"undefined"==typeof this.tempData[b]?null:JSON.parse(this.tempData[b])},getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},
getBool:function(b){return!!this.get(b)},isSet:function(b){return null!==this.get(b)},remove:function(b){delete this.tempData[b]},clear:function(){this.tempData={}}})});ig.baked=!0;
ig.module("plugins.io.io-manager").requires("plugins.io.storage","plugins.io.mouse","plugins.io.keyboard","plugins.io.gamepad","plugins.io.multitouch","plugins.io.multitouch-input","plugins.io.gamepad-input","plugins.io.fake-storage").defines(function(){IoManager=ig.Class.extend({storage:null,localStorageSupport:!1,mouse:null,keyboard:null,multitouch:null,gamepad:null,init:function(){ig.multitouchInput=new ig.MultitouchInput;ig.gamepadInput=new ig.GamepadInput;this.unbindAll();this.initStorage();
this.initMouse();this.initKeyboard()},unbindAll:function(){ig.input.unbindAll();ig.gamepadInput.unbindAll()},initStorage:function(){try{window.localStorage.setItem("test","test"),this.storage=new ig.Storage}catch(b){console.log("using fake storage"),this.storage=new ig.FakeStorage}finally{window.localStorage.removeItem("test")}},initMouse:function(){this.mouse=new Mouse},initKeyboard:function(){this.keyboard=new Keyboard},initMultitouch:function(){this.multitouch=new Multitouch},initGamepad:function(){this.gamepad=
new Gamepad},press:function(b){return ig.input.pressed(b)||this.gamepad&&this.gamepad.press(b)?!0:!1},held:function(b){return ig.input.state(b)||this.gamepad&&this.gamepad.state(b)?!0:!1},release:function(b){return ig.input.released(b)||this.gamepad&&this.gamepad.released(b)?!0:!1},getClickPos:function(){return this.mouse.getPos()},getTouchesPos:function(){return this.multitouch.getTouchesPos()},checkOverlap:function(b,c,d,e,f){return b.x>c+e||b.x<c||b.y>d+f||b.y<d?!1:!0},_supportsLocalStorage:function(){try{return localStorage.setItem("test",
"test"),localStorage.removeItem("test"),this.localStorageSupport="localStorage"in window&&null!==window.localStorage}catch(b){return this.localStorageSupport}},storageIsSet:function(b){return!this.localStorageSupport?null:this.storage.isSet(b)},storageGet:function(b){return!this.localStorageSupport?null:this.storage.get(b)},storageSet:function(b,c){if(!this.localStorageSupport)return null;this.storage.set(b,c)},assert:function(b,c,d){if(c!==d)throw"actualValue:"+c+" not equal to testValue:"+d+" at "+
b;}})});ig.baked=!0;
ig.module("plugins.io.storage-manager").requires("impact.game","plugins.io.io-manager").defines(function(){ig.Game.prototype.name="MJS-Game-Fishing-With-Friends";ig.Game.prototype.version="1.0";ig.Game.prototype.sessionData={};ig.Game.prototype.initData=function(){return this.sessionData={sound:0.7,music:0.7,level:1,score:0,playerName:""}};ig.Game.prototype.setupStorageManager=function(){"undefined"===typeof this.name?console.error("Cannot found Game Name, Storage Manager Cancelled."):"undefined"===
typeof this.version?console.error("Cannot found Game Version, Storage Manager Cancelled."):(this.io||(this.io=new IoManager,console.log("IO Manager doesn't existed. Initialize...")),console.log("Plug in Storage Manager"),this.storage=this.io.storage,this.storageName=this.name+"-v"+this.version,this.loadAll())};ig.Game.prototype.loadAll=function(){var b=this.storage.get(this.storageName);if(null===b||"undefined"===typeof b)b=this.initData();for(var c in b)this.sessionData[c]=b[c];this.storage.set(this.storageName,
b)};ig.Game.prototype.saveAll=function(){var b=this.storage.get(this.storageName),c;for(c in b)b[c]=this.sessionData[c];this.storage.set(this.storageName,b)};ig.Game.prototype.load=function(b){return this.storage.get(this.storageName)[b]};ig.Game.prototype.save=function(b,c){var d=this.storage.get(this.storageName);d[b]=c;this.storage.set(this.storageName,d)}});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({desktopCoverDIVID:"play-desktop",splashDesktop:new ig.Image("media/graphics/splash/desktop/cover.jpg"),splashMobile:new ig.Image("media/graphics/splash/mobile/cover.jpg"),loading_bg:new ig.Image("media/graphics/sprites/bg-menu.png"),loading_0:new ig.Image("media/graphics/sprites/loading_bar_0.png"),loading_1:new ig.Image("media/graphics/sprites/loading_bar_1.png"),logo:new ig.Image("media/graphics/sprites/logo.png"),
customAnim:new ig.AnimationSheet("media/graphics/splash/loading/anim.png",256,160),init:function(b,c){this.parent(b,c);this.setupCustomAnimation();ig.apiHandler.run("MJSPreroll")},end:function(){this.parent();this._drawStatus=1;this.draw();if(ig.ua.mobile){var b=ig.domHandler.getElementById("#play");ig.domHandler.show(b);ig.system.setGame(MyGame)}else this.tapToStartDiv()},tapToStartDiv:function(b){this.desktopCoverDIV=document.getElementById(this.desktopCoverDIVID);if(!this.desktopCoverDIV){this.desktopCoverDIV=
document.createElement("div");this.desktopCoverDIV.id=this.desktopCoverDIVID;this.desktopCoverDIV.setAttribute("class","play");this.desktopCoverDIV.setAttribute("style","position: absolute; display: block; z-index: 999999; background-color: rgba(23, 32, 53, 0.7); visibility: visible; font-size: 10vmin; text-align: center; vertical-align: middle; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;");this.desktopCoverDIV.innerHTML=
"<div style='color:white;background-color: rgba(255, 255, 255, 0.3); border: 2px solid #fff; font-size:20px; border-radius: 5px; position: relative; float: left; top: 50%; left: 50%; transform: translate(-50%, -50%);'><div style='padding:20px 50px; font-family: Arial;'>"+_STRINGS.Splash.TapToStart+"</div></div>";(document.getElementById("play").parentNode||document.getElementById("ajaxbar")).appendChild(this.desktopCoverDIV);try{"undefined"!==typeof ig.sizeHandler?"undefined"!==typeof ig.sizeHandler.coreDivsToResize&&
(ig.sizeHandler.coreDivsToResize.push("#"+this.desktopCoverDIVID),"function"===typeof ig.sizeHandler.reorient&&ig.sizeHandler.reorient()):"undefined"!==typeof coreDivsToResize&&(coreDivsToResize.push(this.desktopCoverDIVID),"function"===typeof sizeHandler&&sizeHandler())}catch(c){console.log(c)}this.desktopCoverDIV.addEventListener("click",function(){try{"undefined"!==typeof ig.soundHandler?("undefined"!==typeof ig.soundHandler.bgmPlayer?"undefined"!==typeof ig.soundHandler.bgmPlayer.webaudio&&"undefined"!==
typeof ig.soundHandler.bgmPlayer.webaudio.context&&ig.soundHandler.bgmPlayer.webaudio.context.resume():(ig.soundHandler=null,ig.soundHandler="undefined"!==typeof ig.soundList?new ig.SoundHandler(ig.soundList):new ig.SoundHandler),"undefined"!==typeof ig.soundHandler.sfxPlayer?"function"===typeof ig.soundHandler.sfxPlayer.play&&ig.soundHandler.sfxPlayer.play("staticSound"):"undefined"!==typeof ig.soundHandler.staticSound?"function"===typeof ig.soundHandler.staticSound.play&&ig.soundHandler.staticSound.play():
"function"===typeof ig.soundHandler.playSound&&ig.soundHandler.playSound("staticSound")):"undefined"!==typeof Howl?(ig.global.staticSound=new Howl({src:["media/audio/play/static.ogg","media/audio/play/static.mp3"]}),ig.global.staticSound.play()):"undefined"!==typeof createjs&&"undefined"!==typeof createjs.Sound&&"function"===typeof createjs.Sound.play&&createjs.Sound.play("opening")}catch(c){console.log(c)}this.setAttribute("style","visibility: hidden;");"function"===typeof b&&b();ig.gd.show(function(){ig.system.setGame(MyGame);
gdsdk&&"function"===typeof gdsdk.play&&gdsdk.play()}.bind(this))})}},setupCustomAnimation:function(){this.animHeight=this.customAnim.height;this.animWidth=this.customAnim.width;this.customAnim=new ig.Animation(this.customAnim,0.025,[0,1,2,3,4,5,6,7])},animate:function(){ig.Timer.step();this.customAnim.update()},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var b=ig.system.context;b.drawImage(this.loading_bg.data,0,0,ig.system.width,ig.system.height,0,0,ig.system.width,ig.system.height);
b.drawImage(this.logo.data,0,0,437,278,ig.system.width/2-225,0,437,278);b.drawImage(this.loading_0.data,0,0,404,24,ig.system.width/2-202,ig.system.height/2+100,404,24);b.drawImage(this.loading_1.data,0,0,404*this._drawStatus,24,ig.system.width/2-202,ig.system.height/2+100,404*this._drawStatus,24);var c=_STRINGS.Splash.Loading,d=ig.system.width/2,e=ig.system.height/2+80;b.textAlign="center";b.font="bold 34px Trans,Arial";b.fillStyle="#FFFFFF";b.fillText(c,d,e)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var b=[],c=0;c<this.tweens.length;c++)this.tweens[c].update(),this.tweens[c].complete||b.push(this.tweens[c]);this.tweens=
b}};ig.Entity.prototype.tween=function(b,c,d){b=new ig.Tween(this,b,c,d);this.tweens.push(b);return b};ig.Entity.prototype.pauseTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].pause()};ig.Entity.prototype.resumeTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].resume()};ig.Entity.prototype.stopTweens=function(b){for(var c=0;c<this.tweens.length;c++)this.tweens[c].stop(b)};ig.Tween=function(b,c,d,e){var f={},g={},l={},m=0,j=!1,p=!1,q=!1;this.duration=d;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,e);this.loopNum=this.loopCount;this.chain=function(b){q=b};this.initEnd=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.initEnd(subprop,c[b],d[b])};this.initStart=function(b,c,d,e){if("object"!==typeof d[b])"undefined"!==typeof c[b]&&(e[b]=d[b]);else for(subprop in d[b])e[b]||(e[b]={}),"undefined"!==typeof c[b]&&this.initStart(subprop,
c[b],d[b],e[b])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;m=0;-1==b.tweens.indexOf(this)&&b.tweens.push(this);p=!0;j=new ig.Timer;for(var d in c)this.initEnd(d,c,g);for(d in g)this.initStart(d,g,b,f),this.initDelta(d,l,b,g)};this.initDelta=function(b,c,d,e){if("object"!==typeof e[b])c[b]=e[b]-d[b];else for(subprop in e[b])c[b]||(c[b]={}),this.initDelta(subprop,c[b],d[b],e[b])};this.propUpdate=function(b,c,d,e,f){if("object"!==typeof d[b])c[b]="undefined"!=typeof d[b]?
d[b]+e[b]*f:c[b];else for(subprop in d[b])this.propUpdate(subprop,c[b],d[b],e[b],f)};this.propSet=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.propSet(subprop,c[b],d[b])};this.update=function(){if(!p)return!1;if(this.delay){if(j.delta()<this.delay)return;this.delay=0;j.reset()}if(this.paused||this.complete)return!1;var c=(j.delta()+m)/this.duration,c=1<c?1:c,d=this.easing(c);for(property in l)this.propUpdate(property,b,f,l,d);if(1<=c){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();q&&q.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in f)this.propSet(property,f,b);m=0;j.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){c={};d={};ig.merge(c,g);ig.merge(d,f);ig.merge(f,c);ig.merge(g,d);for(property in g)this.initDelta(property,l,b,g);m=0;j.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;j&&j.delta&&(m+=j.delta())};this.resume=function(){this.paused=
!1;j&&j.reset&&j.reset()};this.stop=function(b){b&&(this.loop=this.complete=this.paused=!1,m+=d,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(b){return b};ig.Tween.Easing.Quadratic.EaseIn=function(b){return b*b};ig.Tween.Easing.Quadratic.EaseOut=function(b){return-b*(b-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(b){return 1>(b*=2)?0.5*b*b:-0.5*(--b*(b-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(b){return b*b*b};ig.Tween.Easing.Cubic.EaseOut=function(b){return--b*b*b+1};ig.Tween.Easing.Cubic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b:0.5*((b-=2)*b*b+2)};ig.Tween.Easing.Quartic.EaseIn=function(b){return b*b*b*b};ig.Tween.Easing.Quartic.EaseOut=function(b){return-(--b*b*b*b-1)};ig.Tween.Easing.Quartic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)};ig.Tween.Easing.Quintic.EaseIn=
function(b){return b*b*b*b*b};ig.Tween.Easing.Quintic.EaseOut=function(b){return(b-=1)*b*b*b*b+1};ig.Tween.Easing.Quintic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(b){return-Math.cos(b*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};ig.Tween.Easing.Exponential.EaseIn=function(b){return 0==b?0:Math.pow(2,
10*(b-1))};ig.Tween.Easing.Exponential.EaseOut=function(b){return 1==b?1:-Math.pow(2,-10*b)+1};ig.Tween.Easing.Exponential.EaseInOut=function(b){return 0==b?0:1==b?1:1>(b*=2)?0.5*Math.pow(2,10*(b-1)):0.5*(-Math.pow(2,-10*(b-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(b){return-(Math.sqrt(1-b*b)-1)};ig.Tween.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};ig.Tween.Easing.Circular.EaseInOut=function(b){return 1>(b/=0.5)?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/e))};ig.Tween.Easing.Elastic.EaseOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*b)*Math.sin((b-c)*2*Math.PI/e)+1};ig.Tween.Easing.Elastic.EaseInOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;
e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return 1>(b*=2)?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/e):0.5*d*Math.pow(2,-10*(b-=1))*Math.sin((b-c)*2*Math.PI/e)+1};ig.Tween.Easing.Back.EaseIn=function(b){return b*b*(2.70158*b-1.70158)};ig.Tween.Easing.Back.EaseOut=function(b){return(b-=1)*b*(2.70158*b+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*(3.5949095*b-2.5949095):0.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(b){return 1-ig.Tween.Easing.Bounce.EaseOut(1-b)};ig.Tween.Easing.Bounce.EaseOut=function(b){return(b/=1)<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(b){return 0.5>b?0.5*ig.Tween.Easing.Bounce.EaseIn(2*b):0.5*ig.Tween.Easing.Bounce.EaseOut(2*b-1)+0.5};ig.Tween.Interpolation={Linear:function(b,c){var d=b.length-1,e=d*c,f=Math.floor(e),g=TWEEN.Interpolation.Utils.Linear;
return 0>c?g(b[0],b[1],e):1<c?g(b[d],b[d-1],d-e):g(b[f],b[f+1>d?d:f+1],e-f)}}});ig.baked=!0;
ig.module("plugins.patches.entity-patch").requires("impact.entity").defines(function(){ig.Entity.inject({handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=
this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos.x=b.pos.x;this.pos.y=b.pos.y}})});ig.baked=!0;
ig.module("plugins.tweens-handler").requires("impact.entity","plugins.tween","plugins.patches.entity-patch").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var d=0;d<this.length;++d)if(this[d]===b)return d;return-1});ig.TweensHandler=ig.Class.extend({_tweens:[],_systemPausedTweens:[],init:function(){},getAll:function(){return this._tweens},removeAll:function(){this._tweens=[]},add:function(b){this._tweens.push(b)},remove:function(b){b=this._tweens.indexOf(b);
-1!==b&&this._tweens.splice(b,1)},onSystemPause:function(){if(0===this._tweens.length)return!1;for(var b=0,d=null;b<this._tweens.length;)d=this._tweens[b],d._isPlaying&&(this._systemPausedTweens.push(d),d.pause()),b++;return!0},onSystemResume:function(){if(0===this._systemPausedTweens.length)return!1;for(var b=0;b<this._systemPausedTweens.length;)this._systemPausedTweens[b].resume(),b++;this._systemPausedTweens=[];return!0},update:function(b,d){if(0===this._tweens.length)return!1;var e=0;for(b=void 0!==
b?b:ig.game.tweens.now();e<this._tweens.length;)this._tweens[e].update(b)||d?e++:this._tweens.splice(e,1);return!0},now:function(){return Date.now()}});ig.TweenDef=ig.Class.extend({_ent:null,_valuesStart:{},_valuesEnd:{},_valuesStartRepeat:{},_duration:1E3,_repeat:0,_yoyo:!1,_isPlaying:!1,_reversed:!1,_delayTime:0,_startTime:null,_pauseTime:null,_easingFunction:ig.Tween.Easing.Linear.EaseNone,_interpolationFunction:ig.Tween.Interpolation.Linear,_chainedTweens:[],_onStartCallback:null,_onStartCallbackFired:!1,
_onUpdateCallback:null,_onCompleteCallback:null,_onStopCallback:null,_onPauseCallback:null,_onResumeCallback:null,_currentElapsed:0,init:function(b){this._object=b},to:function(b,d){this._valuesEnd=b;void 0!==d&&(this._duration=d);return this},start:function(b){if(this._isPlaying)return this;ig.game.tweens.add(this);this._isPlaying=!0;this._onStartCallbackFired=!1;this._startTime=void 0!==b?b:ig.game.tweens.now();this._startTime+=this._delayTime;for(var d in this._valuesEnd){if(this._valuesEnd[d]instanceof
Array){if(0===this._valuesEnd[d].length)continue;this._valuesEnd[d]=[this._object[d]].concat(this._valuesEnd[d])}void 0!==this._object[d]&&(this._valuesStart[d]=this._object[d],!1===this._valuesStart[d]instanceof Array&&(this._valuesStart[d]*=1),this._valuesStartRepeat[d]=this._valuesStart[d]||0)}return this},stop:function(){if(!this._isPlaying)return this;ig.game.tweens.remove(this);this._isPlaying=!1;null!==this._onStopCallback&&this._onStopCallback.call(this._object,this._object);this.stopChainedTweens();
return this},pause:function(){if(!this._isPlaying)return this;ig.game.tweens.remove(this);this._isPlaying=!1;this._pauseTime=ig.game.tweens.now();null!==this._onPauseCallback&&this._onPauseCallback.call(this._object,this._object);return this},resume:function(){if(this._isPlaying||!this._pauseTime)return this;var b=ig.game.tweens.now()-this._pauseTime;this._startTime+=b;ig.game.tweens.add(this);this._isPlaying=!0;null!==this._onResumeCallback&&this._onResumeCallback.call(this._object,this._object);
this._pauseTime=null;return this},end:function(){this.update(this._startTime+this._duration);return this},stopChainedTweens:function(){for(var b=0,d=this._chainedTweens.length;b<d;b++)this._chainedTweens[b].stop()},delay:function(b){this._delayTime=b;return this},repeat:function(b){this._repeat=b;return this},repeatDelay:function(b){this._repeatDelayTime=b;return this},yoyo:function(b){this._yoyo=b;return this},easing:function(b){this._easingFunction=b;return this},interpolation:function(b){this._interpolationFunction=
b;return this},chain:function(){this._chainedTweens=arguments;return this},onStart:function(b){this._onStartCallback=b;return this},onUpdate:function(b){this._onUpdateCallback=b;return this},onComplete:function(b){this._onCompleteCallback=b;return this},onStop:function(b){this._onStopCallback=b;return this},onPause:function(b){this._onPauseCallback=b;return this},onResume:function(b){this._onResumeCallback=b;return this},update:function(b){var d,e,f;if(b<this._startTime)return!0;!1===this._onStartCallbackFired&&
(null!==this._onStartCallback&&this._onStartCallback.call(this._object,this._object),this._onStartCallbackFired=!0);e=(b-this._startTime)/this._duration;this._currentElapsed=e=1<e?1:e;f=this._easingFunction(e);for(d in this._valuesEnd)if(void 0!==this._valuesStart[d]){var g=this._valuesStart[d]||0,l=this._valuesEnd[d];l instanceof Array?this._object[d]=this._interpolationFunction(l,f):("string"===typeof l&&(l="+"===l.charAt(0)||"-"===l.charAt(0)?g+parseFloat(l):parseFloat(l)),"number"===typeof l&&
(this._object[d]=g+(l-g)*f))}null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,this._object,f);if(1===e)if(0<this._repeat){isFinite(this._repeat)&&this._repeat--;for(d in this._valuesStartRepeat)"string"===typeof this._valuesEnd[d]&&(this._valuesStartRepeat[d]=_valuesStartRepeat[d]+parseFloat(_valuesEnd[d])),this._yoyo&&(e=this._valuesStartRepeat[d],this._valuesStartRepeat[d]=this._valuesEnd[d],this._valuesEnd[d]=e),this._valuesStart[d]=this._valuesStartRepeat[d];this._yoyo&&
(this._reversed=!this._reversed);this._startTime=void 0!==this._repeatDelayTime?b+this._repeatDelayTime:b+this._delayTime}else{null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object,this._object);b=0;for(d=this._chainedTweens.length;b<d;b++)this._chainedTweens[b].start(this._startTime+this._duration);return!1}return!0}});var b=[1];ig.Tween.Interpolation={Linear:function(b,d){var e=b.length-1,f=e*d,g=Math.floor(f),l=ig.Tween.Interpolation.Utils.Linear;return 0>d?l(b[0],b[1],f):
1<d?l(b[e],b[e-1],e-f):l(b[g],b[g+1>e?e:g+1],f-g)},Bezier:function(b,d){for(var e=0,f=b.length-1,g=Math.pow,l=ig.Tween.Interpolation.Utils.Bernstein,m=0;m<=f;m++)e+=g(1-d,f-m)*g(d,m)*b[m]*l(f,m);return e},CatmullRom:function(b,d){var e=b.length-1,f=e*d,g=Math.floor(f),l=ig.Tween.Interpolation.Utils.CatmullRom;return b[0]===b[e]?(0>d&&(g=Math.floor(f=e*(1+d))),l(b[(g-1+e)%e],b[g],b[(g+1)%e],b[(g+2)%e],f-g)):0>d?b[0]-(l(b[0],b[0],b[1],b[1],-f)-b[0]):1<d?b[e]-(l(b[e],b[e],b[e-1],b[e-1],f-e)-b[e]):l(b[g?
g-1:0],b[g],b[e<g+1?e:g+1],b[e<g+2?e:g+2],f-g)},Utils:{Linear:function(b,d,e){return(d-b)*e+b},Bernstein:function(b,d){var e=ig.Tween.Interpolation.Utils.Factorial;return e(b)/e(d)/e(b-d)},Factorial:function(c){var d=1;if(b[c])return b[c];for(var e=c;1<e;e--)d*=e;return b[c]=d},CatmullRom:function(b,d,e,f,g){b=0.5*(e-b);f=0.5*(f-d);var l=g*g;return(2*d-2*e+b+f)*g*l+(-3*d+3*e-2*b-f)*l+b*g+d}}}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var b=getQueryVariable("webview");if(b)switch(b){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(b=getQueryVariable("debug"))switch(b){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(b,c){this.game=b;this.levels=[];this.currentLevel=0;this.append(c)},loadLevel:function(b){for(var c in ig.sizeHandler.dynamicClickableEntityDivs){var d=ig.domHandler.getElementById("#"+c);ig.domHandler.hide(d)}this.currentLevel=b;this.game.loadLevel(this.levels[b]);return!0},loadLevelWithoutEntities:function(b){this.currentLevel=b;this.game.loadLevelWithoutEntities(this.levels[b]);return!0},
append:function(b){newLevels=[];return"object"===typeof b?(b.constructor===[].constructor?newLevels=b:newLevels[0]=b,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(b){var c=null;for(i=0;i<this.levels.length;i++)this.levels[i]==b&&(c=i);return 0<=c?this.loadLevel(c):!1},firstLevel:function(){return this.loadLevel(0)},
lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.fullscreen").requires("impact.entity","plugins.handlers.size-handler","plugins.director").defines(function(){ig.Fullscreen={enableFullscreenButton:!0,_isEnabled:"notChecked",isEnabled:function(){"notChecked"==this._isEnabled&&(this._isEnabled=document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled?!0:!1);return this._isEnabled},isFullscreen:function(){return ig.Fullscreen.isEnabled()&&(document.fullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)?!0:!1},toggleFullscreen:function(){ig.Fullscreen.isFullscreen()?ig.Fullscreen.exitFullscreen():ig.Fullscreen.requestFullscreen();ig.sizeHandler.orientationDelayHandler()},requestFullscreen:function(){var b=document.documentElement;b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.msRequestFullscreen?b.msRequestFullscreen():
console.log("no request fullscreen method available")},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("no exit fullscreen method available")},divs:{}};ig.Director.inject({loadLevel:function(b){var c=ig.Fullscreen.divs,d;for(d in c)c=ig.domHandler.getElementById("#"+d),ig.domHandler.hide(c);
return this.parent(b)}});ig.SizeHandler.inject({resize:function(){this.parent();var b=ig.Fullscreen.divs,c;for(c in b){var d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y),e=ig.domHandler.getElementById("#"+c),f=b[c].entity_pos_x,g=b[c].entity_pos_y,l=b[c].width,m=b[c].height,j=ig.domHandler.getElementById("#canvas"),p=ig.domHandler.getOffsets(j);ig.ua.mobile?(j=p.left,p=p.top,ig.sizeHandler.disableStretchToFitOnMobileFlag?(f=Math.floor(j+f*ig.sizeHandler.scaleRatioMultiplier.x)+
"px",g=Math.floor(p+g*ig.sizeHandler.scaleRatioMultiplier.y)+"px",l=Math.floor(l*ig.sizeHandler.scaleRatioMultiplier.x)+"px",m=Math.floor(m*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(f=Math.floor(f*ig.sizeHandler.sizeRatio.x)+"px",g=Math.floor(g*ig.sizeHandler.sizeRatio.y)+"px",l=Math.floor(l*ig.sizeHandler.sizeRatio.x)+"px",m=Math.floor(m*ig.sizeHandler.sizeRatio.y)+"px")):(j=p.left,p=p.top,f=Math.floor(j+f*d)+"px",g=Math.floor(p+g*d)+"px",l=Math.floor(l*d)+"px",m=Math.floor(m*d)+"px");ig.domHandler.css(e,
{"float":"left",position:"absolute",left:f,top:g,width:l,height:m,"z-index":3});b[c]["font-size"]&&ig.domHandler.css(e,{"font-size":b[c]["font-size"]*d+"px"})}}});ig.FullscreenButton=ig.Entity.extend({enterImage:null,exitImage:null,isReady:!1,zIndex:999999,identifier:null,prevPos:{x:0,y:0},invisImagePath:"media/graphics/misc/invisible.png",init:function(b,c,d){this.parent(b,c,d);ig.Fullscreen.isEnabled()&&ig.Fullscreen.enableFullscreenButton?this.enterImage.loaded?this.initSize():this.enterImage.loadCallback=
function(){this.initSize()}.bind(this):this.kill()},kill:function(){this.parent()},destroy:function(){this.parent();console.log("destroy")},initSize:function(){this.size.x=this.enterImage.width;this.size.y=this.enterImage.height;this.createClickableLayer();this.isReady=!0},createClickableLayer:function(){this.identifier="fullscreen-button-layer";var b=ig.domHandler.getElementById("#"+this.identifier);b?(ig.domHandler.show(b),ig.domHandler.attr(b,"onclick","ig.Fullscreen.toggleFullscreen()")):this.createClickableOutboundLayer()},
update:function(b,c){b=this.pos.x;c=this.pos.y;this.isReady&&!(this.prevPos.x===b&&this.prevPos.y===c)&&(ig.Fullscreen.divs[this.identifier]={},ig.Fullscreen.divs[this.identifier].width=this.size.x,ig.Fullscreen.divs[this.identifier].height=this.size.y,ig.Fullscreen.divs[this.identifier].entity_pos_x=this.pos.x,ig.Fullscreen.divs[this.identifier].entity_pos_y=this.pos.y,this.prevPos.x=b,this.prevPos.y=c)},draw:function(){this.isReady&&(ig.Fullscreen.isFullscreen()?this.exitImage.draw(this.pos.x,this.pos.y):
this.enterImage.draw(this.pos.x,this.pos.y))},createClickableOutboundLayer:function(){var b=this.identifier,c=this.invisImagePath,d=ig.domHandler.create("div");ig.domHandler.attr(d,"id",b);ig.domHandler.attr(d,"onclick","ig.Fullscreen.toggleFullscreen()");var e=ig.domHandler.create("a"),f=ig.domHandler.create("img");ig.domHandler.css(f,{width:"100%",height:"100%"});ig.domHandler.attr(f,"src",c);c=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){var g=
ig.domHandler.getElementById("#canvas"),g=ig.domHandler.getOffsets(g),l=g.left,m=g.top;console.log(g.left);ig.sizeHandler.disableStretchToFitOnMobileFlag?(g=Math.floor(l+this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",m=Math.floor(m+this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",c=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(g=Math.floor(this.pos.x*ig.sizeHandler.sizeRatio.x)+"px",m=Math.floor(this.pos.y*
ig.sizeHandler.sizeRatio.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",c=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px")}else g=ig.domHandler.getElementById("#canvas"),g=ig.domHandler.getOffsets(g),l=g.left,m=g.top,ig.sizeHandler.enableStretchToFitOnDesktopFlag?(g=Math.floor(l+this.pos.x*ig.sizeHandler.sizeRatio.x)+"px",m=Math.floor(m+this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",c=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+
"px"):(g=Math.floor(l+this.pos.x*c)+"px",m=Math.floor(m+this.pos.y*c)+"px",l=Math.floor(this.size.x*c)+"px",c=Math.floor(this.size.y*c)+"px");ig.domHandler.css(d,{"float":"left",position:"absolute",left:g,top:m,width:l,height:c,"z-index":3});ig.domHandler.addEvent(d,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(e,f);ig.domHandler.appendChild(d,e);ig.domHandler.appendToBody(d);ig.Fullscreen.divs[b]={};ig.Fullscreen.divs[b].width=this.size.x;ig.Fullscreen.divs[b].height=
this.size.y;ig.Fullscreen.divs[b].entity_pos_x=this.pos.x;ig.Fullscreen.divs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("plugins.math.sat").defines(function(){ig.SAT=ig.Class.extend({init:function(){},mtvForShapeIntersect:function(b,c){var d=1E4,e=null,f=[],g=[];if(b.isCircle()&&c.isCircle())f.push(b.center.subtract(c.center).normalized());else if(c.isCircle()||b.isCircle()){if(b.isCircle()){var l=c;c=b;b=l}for(var m=b.pointList[0],j=c.center.manhattanDistance(m),l=1;l<b.pointList.length;l++){var p=b.pointList[l],q=c.center.manhattanDistance(p);q<j&&(j=q,m=p)}g.push(c.center.subtract(m).normalized())}else f=
b.getNormalizedAxes(),g=c.getNormalizedAxes();for(l=0;l<f.length;l++){var m=f[l],q=b.project(m),r=c.project(m);if(q.overlap(r)){j=q.getOverlap(r);if(q.contains(r)||r.contains(q))p=Math.abs(q.min-r.min),q=Math.abs(q.max-r.max),j=p<q?j+p:j+q;j<d&&(d=j,e=m)}else return null}for(l=0;l<g.length;l++)if(m=g[l],q=b.project(m),r=c.project(m),q.overlap(r)){j=q.getOverlap(r);if(q.contains(r)||r.contains(q))p=Math.abs(q.min-r.min),q=Math.abs(q.max-r.max),j=p<q?j+p:j+q;j<d&&(d=j,e=m)}else return null;return new ig.SAT.MTV(e,
d)},simpleShapeIntersect:function(b,c){try{var d=[],e=[];if(b.isCircle()&&c.isCircle())d.push(b.center.subtract(c.center).normalized());else if(c.isCircle()||b.isCircle()){if(b.isCircle()){var f=c;c=b;b=f}for(var g=b.pointList[0],l=c.center.manhattanDistance(g),f=1;f<b.pointList.length;f++){var m=b.pointList[f],j=c.center.manhattanDistance(m);j<l&&(l=j,g=m)}e.push(c.center.subtract(g).normalized())}else d=b.getNormalizedAxes(),e=c.getNormalizedAxes();for(f=0;f<d.length;f++){var p=d[f],q=b.project(p),
r=c.project(p);if(!q.overlap(r))return!1}for(f=0;f<e.length;f++)if(p=e[f],q=b.project(p),r=c.project(p),!r.overlap(q))return!1;return!0}catch(s){}}});ig.SAT.Vector2D=ig.Class.extend({x:0,y:0,init:function(b,c){this.x=b;this.y=c},subtract:function(b){try{return new ig.SAT.Vector2D(this.x-b.x,this.y-b.y)}catch(c){}},getNormal:function(){return new ig.SAT.Vector2D(-this.y,this.x)},getNormalizedNormal:function(){return(new ig.SAT.Vector2D(-this.y,this.x)).normalized()},normalized:function(){var b=Math.sqrt(this.x*
this.x+this.y*this.y);return 0==b?new ig.SAT.Vector2D(0,0):new ig.SAT.Vector2D(this.x/b,this.y/b)},distance:function(b){var c=b.x-this.x;b=b.y-this.y;return Math.sqrt(c*c+b*b)},manhattanDistance:function(b){try{var c=b.x-this.x,d=b.y-this.y;return c*c+d*d}catch(e){return 0}},dotProduct:function(b){return this.x*b.x+this.y*b.y},crossProduct:function(b){return this.x*b.y-this.y*b.x},getAngle:function(b){return Math.atan2(this.crossProduct(b),this.dotProduct(b))}});ig.SAT.Shape=ig.Class.extend({pointList:[],
center:null,init:function(b){this.pointList=[];for(var c=0;c<b.length;c++){var d=b[c];this.pointList.push(new ig.SAT.Vector2D(d.x,d.y))}},isCircle:function(){return!1},getAxes:function(){var b=[];if(1>=this.pointList.length)return b;if(2==this.pointList.length){var c=this.pointList[0],d=this.pointList[1],c=c.subtract(d),c=c.getNormal();(0!=c.x||0!=c.y)&&b.push(c);return b}for(var e=0;e<this.pointList.length;e++)c=this.pointList[e],d=this.pointList[e+1==this.pointList.length?0:e+1],c=c.subtract(d),
c=c.getNormal(),(0!=c.x||0!=c.y)&&b.push(c);return b},getNormalizedAxes:function(){for(var b=[],c=0;c<this.pointList.length;c++){var d=this.pointList[c].subtract(this.pointList[c+1==this.pointList.length?0:c+1]).getNormalizedNormal();(0!=d.x||0!=d.y)&&b.push(d)}return b},project:function(b){return new ig.SAT.Projection(this.pointList,b)}});ig.SAT.Circle=ig.SAT.Shape.extend({center:null,radius:0,init:function(b,c){this.center=new ig.SAT.Vector2D(b.x,b.y);this.radius=c},isCircle:function(){return!0},
getAxes:function(){return[]},getNormalizedAxes:function(){return[]},project:function(b){var c=new ig.SAT.Projection([],b);b=this.center.dotProduct(b);c.min=b-this.radius;c.max=b+this.radius;return c}});ig.SAT.Projection=ig.Class.extend({min:null,max:null,init:function(b,c){if(!b||0>=b.length)return this;this.min=b[0].dotProduct(c);this.max=b[0].dotProduct(c);for(var d=1;d<b.length;d++){var e=b[d].dotProduct(c);this.min>e&&(this.min=e);e>this.max&&(this.max=e)}},overlap:function(b){return!(this.max<
b.min||b.max<this.min)},getOverlap:function(b){var c=this.max-b.min;b=b.max-this.min;b<c&&(c=b);return c},contains:function(b){var c=this.max-this.min;if(b.max-b.min<c){var d=this.max-b.min;0>=d&&(d=b.max-this.min);if(d>=c)return!0}return!1}});ig.SAT.MTV=ig.Class.extend({axis:null,overlapAmount:0,init:function(b,c){this.axis=b;this.overlapAmount=c}})});ig.baked=!0;
ig.module("plugins.scale").requires("impact.entity").defines(function(){ig.Entity.inject({scale:{x:1,y:1},_offset:{x:0,y:0},_scale:{x:1,y:1},_size:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this._offset.x=this.offset.x;this._offset.y=this.offset.y;this._size.x=this.size.x;this._size.y=this.size.y;this.setScale(this.scale.x,this.scale.y)},draw:function(){var b=ig.system.context;b.save();b.translate(ig.system.getDrawPos(this.pos.x.round()-this.offset.x-ig.game.screen.x),ig.system.getDrawPos(this.pos.y.round()-
this.offset.y-ig.game.screen.y));b.scale(this._scale.x,this._scale.y);null!=this.currentAnim&&this.currentAnim.draw(0,0);b.restore()},setScale:function(b,c){var d=this.size.x,e=this.size.y;this.scale.x=b||this.scale.x;this.scale.y=c||this.scale.y;this._scale.x=this.scale.x/ig.system.scale;this._scale.y=this.scale.y/ig.system.scale;this.offset.x=this._offset.x*this._scale.x;this.offset.y=this._offset.y*this._scale.y;this.size.x=this._size.x*this._scale.x;this.size.y=this._size.y*this._scale.y;this.pos.x+=
(d-this.size.x)/2;this.pos.y+=(e-this.size.y)/2}})});ig.baked=!0;
ig.module("plugins.gamedist").defines(function(){window.GD_OPTIONS={gameId:"c2c84d843fe94d968e7e09871cbd1a4a",advertisementSettings:{debug:!1,autoplay:!1,locale:"en"},onEvent:function(c){switch(c.name){case "SDK_READY":console.log('%cMjs-Gd: "The sdk is ready"',b);ig.gd.ready=!0;gameStart();break;case "SDK_ERROR":console.log('%cMjs-Gd: "The sdk is error"',b);gameStart();break;case "SDK_GAME_START":ig.gd.unfreez();if("function"===typeof ig.gd.onAdClose)ig.gd.onAdClose();ig.gd.onAdClose=0;break;case "SDK_GAME_PAUSE":ig.gd.freez()}}};
var b="color: blue; font-weight: bold";var c,d=document.getElementsByTagName("script")[0];document.getElementById("gamedistribution-jssdk")||(c=document.createElement("script"),c.id="gamedistribution-jssdk",c.src="/main.min.js",d.parentNode.insertBefore(c,d));ig.Gd=ig.Class.extend({pausedMidplay:0,prevMuted:{bgm:0,sfx:0},onAdClose:0,adShowing:0,isFreez:0,ready:!1,createTestButton:function(){this.createDiv("Resume",5,"green","white",function(){ig.game&&ig.gd&&
ig.gd.unfreez()});this.createDiv("Pause",70,"red","white",function(){ig.game&&ig.gd&&ig.gd.freez()});this.createDiv("Show Rewarded",124,"purple","white",function(){ig.game&&ig.gd&&ig.gd.showRewarded()})},createDiv:function(b,c,d,l,m){var j=ig.$new("button");document.body.appendChild(j);j.textContent=b;j.style.position="absolute";j.style.color=l;j.style.background=d;j.style.top="5px";j.style.left=c+"px";j.style.padding="5px";j.style.fontSize="12px";j.style.fontFamily="Arial";j.style.cursor="pointer";
j.style["z-index"]=999999;j.onclick=m},freez:function(){"undefined"!==typeof gdsdk&&(ig.soundHandler.muteAll(!0),ig.game&&ig.game.pauseGame(),ig.gd.isFreez=1)},unfreez:function(){/*"undefined"!==typeof gdsdk&&(ig.gd.adShowing=0,ig.gd.isFreez=0,ig.soundHandler.unmuteAll(!0),ig.game&&ig.game.resumeGame())*/},show:function(c){"undefined"!==typeof gdsdk&&"undefined"!==gdsdk.showAd&&"undefined"!==gdsdk.preloadAd&&ig.gd.ready?ig.gd.adShowing||(console.log('%cMjs-Gd: "Ad is avaiable - Showing ad"',b),ig.gd.adShowing=
1,ig.gd.onAdClose=c||0,gdsdk.showAd().catch(function(b){console.log("Mjs-Gd: "+b);"function"===typeof c&&c();ig.gd.unfreez()})):c()},showRewarded:function(b){"undefined"!==typeof gdsdk&&"undefined"!==gdsdk.showAd?ig.gd.adShowing||(ig.gd.adShowing=1,ig.gd.onAdClose=b||0,gdsdk.showAd("rewarded").catch(function(c){console.log("Mjs-Gd: "+c);"function"===typeof b&&b();ig.gd.unfreez()})):b()},isAvaiableRewarded:function(c){"undefined"!==gdsdk&&"undefined"!==gdsdk.preloadAd&&ig.gd.ready?gdsdk.preloadAd("rewarded").then(function(d){d;
console.log('%cMjs-Gd: "Ad reward is avaiable"',b);"function"===typeof c&&c(!0)}.bind(this)).catch(function(d){d;console.log('%cMjs-Gd: "Ad reward not available"',b);"function"===typeof c&&c(!1)}.bind(this)):"function"===typeof c&&c(!1)}});ig.gd=new ig.Gd});ig.baked=!0;
ig.module("plugins.mjs-network-client").defines(function(){ig.MjsNetworkClient=ig.Class.extend({MESSAGE_TAG:"mjs_msg",PING_TAG:"mjs_ping",PING_REPLY_TAG:"mjs_ping_reply",server_ip:null,socket:null,round_trip_time:0,time_diff:0,last_ping_time:0,latency_average:0,latency_log:[],latency_log_size:10,onServerConnectHandlers:[],onServerDisconnectHandlers:[],onServerMessageHandlers:[],onServerPingHandlers:[],onServerPingReplyHandlers:[],questionIdx:0,init:function(){this.server_ip=getQueryVariable("server_ip")},
getServerTime:function(){return Date.now()-this.time_diff},getQuestion:function(){return this.questionIdx},connect:function(b,c){var d=!1;this.latency_log=[];this.last_pong_time=this.last_ping_time=this.time_diff=this.round_trip_time=this.latency_average=0;if(this.socket)this.socket.disconnected&&(this.socket.connect(),d=!0);else{if("undefined"==typeof this.server_ip||!this.server_ip)this.server_ip="undefined"==typeof SERVER_IP||!SERVER_IP?"localhost":SERVER_IP;var e="6061",e=document.location.protocol&&
"function"==typeof document.location.protocol.includes&&document.location.protocol.includes("https")?"6061":"6060";this.server_ip+=":"+e;console.log("connecting to "+this.server_ip);(this.socket=io(this.server_ip))&&(d=!0)}if(d)return this.socket.off(),this.socket.on("connect",function(){this.onServerConnect();this.socket.off("disconnect");this.socket.on("disconnect",function(){this.onServerDisconnect()}.bind(this));this.socket.off(this.MESSAGE_TAG);this.socket.on(this.MESSAGE_TAG,function(b){this.onServerMessage(b)}.bind(this));
this.socket.off(this.PING_TAG);this.socket.on(this.PING_TAG,function(b){this.onServerPing(b)}.bind(this));this.socket.off(this.PING_REPLY_TAG);this.socket.on(this.PING_REPLY_TAG,function(b){this.onServerPingReply(b)}.bind(this))}.bind(this)),"function"==typeof b&&b(),!0;"function"==typeof c&&c();return!1},disconnect:function(b,c){if(this.socket&&!this.socket.disconnected)return this.socket.once("disconnect",function(){"function"==typeof b&&b()}.bind(this)),this.socket.disconnect(),!0;"function"==
typeof c&&c();return!1},onServerConnect:function(){for(var b=0,c=this.onServerConnectHandlers.length;b<c;b++){var d=this.onServerConnectHandlers[b];"function"===typeof d&&d()}},onServerDisconnect:function(){for(var b=0,c=this.onServerDisconnectHandlers.length;b<c;b++){var d=this.onServerDisconnectHandlers[b];"function"===typeof d&&d()}},onServerMessage:function(b){if(b)for(var c=0,d=this.onServerMessageHandlers.length;c<d;c++){var e=this.onServerMessageHandlers[c];"function"===typeof e&&e(b)}},onServerPing:function(b){b.pongTime=
Date.now();this.socket.emit(this.PING_REPLY_TAG,b);this.last_ping_time=Date.now();for(var c=0,d=this.onServerPingHandlers.length;c<d;c++){var e=this.onServerPingHandlers[c];"function"===typeof e&&e(b)}},onServerPingReply:function(b){if(b&&!isNaN(b.pingTime)&&!(null===b.pingTime||isNaN(b.pongTime)||null===b.pongTime)){this.last_ping_time=Date.now();this.round_trip_time=Date.now()-b.pingTime;this.time_diff=Date.now()-b.pongTime+this.round_trip_time/2;this.questionIdx=b.questionId;this.recalculateTimeDiff(Math.floor(this.round_trip_time/
2),b.pongTime);for(var c=0,d=this.onServerPingReplyHandlers.length;c<d;c++){var e=this.onServerPingReplyHandlers[c];"function"===typeof e&&e(b)}}},pingServer:function(){if(this.socket){var b={};b.pingTime=Date.now();this.socket.emit(this.PING_TAG,b)}},sendMessage:function(b){this.socket.emit(this.MESSAGE_TAG,b)},recalculateTimeDiff:function(b,c){if(!(null===b||isNaN(b)||null===c||isNaN(c))){this.latency_log.length>=this.latency_log_size&&this.latency_log.shift();this.latency_log.push(b);for(var d=
0,e=0,f=this.latency_log.length;e<f;e++)d+=this.latency_log[e];this.latency_average=Math.round(d/this.latency_log.length);this.time_diff=Date.now()-(c+this.latency_average)}}})});ig.baked=!0;
ig.module("game.classes.network-game").defines(function(){NetworkGame=ig.Class.extend({network_client:null,clientVersion:0.01,clientRequestGameTime:0,gameJoinedServerTime:0,gameJoinedLocalTime:0,initialGameState:null,pingReplyPending:!1,pingTimeout:5E3,roomId:null,playerId:null,userCount:0,playerConfirmedCallback:null,requestGameCallback:null,requestGameFailedCallback:null,requestGameStateCallback:null,gameStateUpdateCallback:null,pingReplyCallback:null,pendingUpdate:null,unhandledUpdateQueue:[],
botplayer:null,init:function(b){b&&(this.network_client=b,this.boundOnPingReply=this.onPingReply.bind(this),this.network_client.onServerConnectHandlers.push(this.onServerConnect.bind(this)),this.network_client.onServerDisconnectHandlers.push(this.onServerConnectFailed.bind(this)),this.network_client.onServerMessageHandlers.push(this.onServerMessage.bind(this)))},onServerMessage:function(b){if(b&&shared_game)switch(b.type){case shared_game.MessageType.ERROR:this.onError(b.data);break;case shared_game.MessageType.USER_CONFIRMED:this.onUserConfirmed(b.data);
break;case shared_game.MessageType.PLAYER_START:this.onPlayerStart(b.data);break;case shared_game.MessageType.PLAYER_LEAVE2:this.onPlayerLeave(b.data);break;case shared_game.MessageType.PLAYER_KICKED:this.onPlayerKicked(b.data);break;case shared_game.MessageType.USER_CONNECTED:this.onUserConnected(b.data);break;case shared_game.MessageType.USER_DISCONNECTED:this.onUserDisconnected(b.data);break;case shared_game.MessageType.PLAYER_CONFIRMED:this.onPlayerConfirmed(b.data);break;case shared_game.MessageType.REQUEST_ROOM_CONFIRMED:this.onRequestRoomConfirmed(b.data);
break;case shared_game.MessageType.REQUEST_ROOM_REJECTED:this.onRequestRoomRejected(b.data);break;case shared_game.MessageType.GAMESTATE:this.onGameStateReply(b.data);break;case shared_game.MessageType.GAMESTATE_UPDATE:this.onGameStateUpdate(b.data);break;case shared_game.MessageType.ROOM_NOTIFICATION:this.onRoomNotification(b.data);break;case shared_game.MessageType.SPAWN_FISH:this.onSpawnFish(b.data);break;case shared_game.MessageType.SET_CANNON_ANGLE:this.onSetCannonAngle(b.data);break;case shared_game.MessageType.SET_CANNON_ANGLE_BOT:this.onSetCannonAngleBot(b.data);
break;case shared_game.MessageType.SPAWN_BULLET:this.onSpawnBullet(b.data);break;case shared_game.MessageType.SPAWN_BULLET_BOT:this.onSpawnBulletBot(b.data);break;case shared_game.MessageType.ROOM_COUNTDOWN:this.onRoomCountDown(b.data);break;case shared_game.MessageType.ADD_SCORE:this.onAddScore(b.data);break;case shared_game.MessageType.ROOM_TIMER:this.onRoomTimer(b.data);break;case shared_game.MessageType.GAME_END:this.onGameEnd(b.data);break;case shared_game.MessageType.SWITCH_TO_BOT:this.onSwitchBot(b.data);
break;case shared_game.MessageType.COIN_CLICKED:this.onCoinClicked(b.data)}},getServerTime:function(){if(!this.network_client||!this.network_client.socket)return 0;this.getQuestion();return this.network_client.getServerTime()},pingServer:function(b,c){if(!this.network_client||!this.network_client.socket)return!1;if(this.pingReplyPending)return"function"==typeof c&&c(),this.pingReplyPending=!1;this.pingReplyCallback=b;0>this.network_client.onServerPingReplyHandlers.indexOf(this.boundOnPingReply)&&
this.network_client.onServerPingReplyHandlers.push(this.boundOnPingReply);this.network_client.pingServer();return!0},requestGame:function(b,c,d){if(!this.network_client||!this.network_client.socket)return"function"==typeof d&&d(),!1;if(!b||"object"!=typeof b)b={};this.clientRequestGameTime=Date.now();b.clientVersion=this.clientVersion;this.unhandledUpdateQueue=[];this.playerConfirmedCallback=c;this.requestGameCallback=null;this.requestGameFailedCallback=d;this.network_client.sendMessage({type:shared_game.MessageType.REQUEST_ROOM,
data:b});return!0},cancelRequestGame:function(){if(!this.network_client||!this.network_client.socket)return!1;this.network_client.sendMessage({type:shared_game.MessageType.LEAVE_ROOM});return!0},requestGameState:function(b,c,d){if(!this.network_client||!this.network_client.socket)return"function"==typeof d&&d(),!1;this.requestGameStateCallback=c;this.network_client.sendMessage({type:shared_game.MessageType.REQUEST_GAMESTATE,data:b});return!0},leaveGame:function(b,c){if(!this.network_client||!this.network_client.socket)return"function"==
typeof c&&c(),!1;this.network_client.sendMessage({type:shared_game.MessageType.LEAVE_ROOM,data:{playerId:this.playerId,status:ig.game.endGameStatus}});this.unhandledUpdateQueue=[];this.playerId=this.roomId=null;this.pingReplyPending=!1;this.gameStateUpdateCallback=null;"function"==typeof b&&b();return!0},addEventToClientUpdate:function(b){null==this.pendingUpdate&&(this.pendingUpdate=new shared_game.Update);b&&"function"==typeof b.packData&&this.pendingUpdate.eventList.push(b)},sendClientUpdate:function(){if(this.network_client&&
this.network_client.socket){if(isNaN(this.roomId)||null===this.roomId||isNaN(this.playerId)||null===this.playerId)return!1;null==this.pendingUpdate&&(this.pendingUpdate=new shared_game.Update);var b=this.pendingUpdate;0<b.eventList.length&&(b=b.packData(),this.network_client.sendMessage({type:shared_game.MessageType.CLIENT_UPDATE,data:b}),this.pendingUpdate=new shared_game.Update);return!0}},getPlayerCount:function(){if(this.network_client&&this.network_client.socket){if(isNaN(this.roomId)||null===
this.roomId||isNaN(this.playerId)||null===this.playerId)return!1;var b={};b.playerId=this.playerId;b.id=this.roomId;b.count=1;this.network_client.sendMessage({type:shared_game.MessageType.PLAYER_COUNT,data:b})}},onServerConnect:function(){var b=ig.game.entities[0];b&&b.isHome&&b.showConnecting()},onServerConnectFailed:function(){ig.game.network_game.userCount=0;ig.game.popupShow=!1;ig.game.saveLocalStorage();ig.game.endGameStatus=!1;ig.game.network_game.leaveGame();ig.game.director.loadLevel(0)},
onUserConfirmed:function(b){this.userCount=b;if((b=ig.game.entities[0])&&b.isHome)b.hideConnecting(),b.hideConnectionFailed()},onUserConnected:function(b){this.userCount=b},onUserDisconnected:function(b){this.userCount=b},onRequestRoomRejected:function(b){this.playerId=this.roomId=null;"function"==typeof this.requestGameFailedCallback&&this.requestGameFailedCallback(b);this.requestGameFailedCallback=null},onPlayerConfirmed:function(b){this.roomId=b.roomId;this.playerId=b.playerId;this.gameJoinedServerTime=
b.joinedTime;this.gameJoinedLocalTime=Date.now();var c=Math.floor((Date.now()-this.clientRequestGameTime)/2);this.network_client.recalculateTimeDiff(c,b.joinedTime);"function"==typeof this.playerConfirmedCallback&&this.playerConfirmedCallback(b);this.playerConfirmedCallback=null},onPlayerStart:function(b){ig.game.endGameStatus||(setTimeout(function(){try{ig.game.getEntitiesByType(EntityHitArea)[0].setPlayerAttr(b)}catch(c){}}.bind(self),100),ig.game.playerIndex=this.playerId,ig.game.director.jumpTo(LevelGameboard))},
onPlayerLeave:function(b){ig.game.endGameStatus||(setTimeout(function(){try{var c=ig.game.getEntitiesByType(EntityHitArea)[0];c.setPlayerAttr(b);c.leaveMessage(b[0].leaved)}catch(d){}}.bind(self),500),ig.game.playerIndex=this.playerId)},onPlayerKicked:function(b){b.origin==this.playerId&&1<b.human&&(this.leaveGame(),ig.game.director.jumpTo(LevelMainmenu))},kickme:function(){/*this.network_client.sendMessage({type:shared_game.MessageType.KICKME,data:{roomId:this.roomId,origin:this.playerId}})*/},onSpawnFish:function(b){if(!ig.game.endGameStatus)try{ig.game.getEntitiesByType(EntityFishController)[0].spawnFish(b)}catch(c){}},
sendCannonAngle:function(b){b.roomId=this.roomId;b.origin=this.playerId;this.network_client.sendMessage({type:shared_game.MessageType.SEND_CANNON_ANGLE,data:b})},onSetCannonAngle:function(b){if(this.playerId!=b.origin)try{ig.game.getEntitiesByType(EntityHitArea)[0].setCannonAngle(b)}catch(c){}},onSetCannonAngleBot:function(b){if(this.playerId!=b.origin)try{ig.game.getEntitiesByType(EntityHitArea)[0].setCannonAngleBot(b)}catch(c){}},sendBullet:function(b){b.roomId=this.roomId;b.origin=this.playerId;
this.network_client.sendMessage({type:shared_game.MessageType.SEND_BULLET,data:b})},addScore:function(b){b.roomId=this.roomId;b.origin=this.playerId;this.network_client.sendMessage({type:shared_game.MessageType.ADD_SCORE,data:b})},coinClicked:function(b){b.roomId=this.roomId;b.origin=this.playerId;this.network_client.sendMessage({type:shared_game.MessageType.COIN_CLICKED,data:b})},onCoinClicked:function(b){var c=ig.game.getEntityByName(b.name);c.targetPos=b.targetPos;c.cannonTarget=b.cannonId;c.moveToTarget()},
onRoomTimer:function(b){b=b.timeleft;var c=Math.floor(b/60),d=b%60;10>=b?(ig.game.gameTimerVal=b,ig.game.gameTimerRed=!0,(1>ig.game.getEntitiesByType(EntityCountDown).length?ig.game.spawnEntity(EntityCountDown,0,0,{zIndex:1500}):ig.game.getEntitiesByType(EntityCountDown)[0]).count(b)):(ig.game.gameTimerVal=0,ig.game.gameTimerRed=!1);ig.game.gameTimer=(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)},onSwitchBot:function(b){console.log(b);ig.game.getEntitiesByType(EntityCannon)[b.playerId].botFlag=!0},onGameEnd:function(b){ig.game.endGameStatus=
!0;if(!ig.game.popupShow){ig.game.gameTimer="00:00";for(var c=ig.game.getEntitiesByType(EntityCannon),d=[],e=0;e<c.length;e++)b={score:c[e].score,name:c[e].playerName,id:e,avaIdx:c[e].avaIdx},d.push(b);d.sort(function(b,c){return c.score-b.score});setTimeout(function(){ig.game.spawnEntity(EntityPopupResult,ig.system.width/2-255,-500,{zIndex:1E4,result:d})},1500)}},onAddScore:function(b){try{ig.game.getEntitiesByType(EntityHitArea)[0].setScore(b),b.coin&&!ig.game.showVortex&&0==ig.game.getEntitiesByType(EntityCoin).length&&
ig.game.spawnEntity(EntityCoin,b.coinpos.x,b.coinpos.y,{zIndex:1500,parrent:this,name:b.coinname,bottarget:b.bottarget,killstatus:b.killstatus})}catch(c){}},onSpawnBullet:function(b){this.playerId!=b.origin&&ig.game.spawnEntity(EntityBullet,b.posx,b.posy,{zIndex:b.zIndex,targetpos:b.targetpos,posx:b.posx,posy:b.posy,bulletColor:"#000000",playerStatus:!0,cannonId:b.origin,bulletStatus:b.bulletStatus})},onSpawnBulletBot:function(b){if(this.playerId!=b.origin){if(0==b.origin)var c="#FFF000";else 1==
b.origin?c="#0000FF":2==b.origin?c="#00FF00":3==b.origin&&(c="#FF00FF");b.bulletColor=c;try{ig.game.getEntitiesByType(EntityHitArea)[0].shootBot(b)}catch(d){}}},onRoomCountDown:function(b){ig.game.roomCountDown=b.countDown},onRequestRoomConfirmed:function(b){this.roomId=b.roomId;this.playerId=b.playerId;this.initialGameState=b.gameState;this.network_client.recalculateTimeDiff(Math.floor(b.latency/2),b.serverTime);ig.global.initialGameState=b.gameState},onRequestGameState:function(b){"function"==typeof this.requestGameStateCallback&&
this.requestGameStateCallback(b);this.requestGameStateCallback=null},onRoomNotification:function(b){"leaveroom"==b.gameState&&ig.game.director.loadLevel(0)},onGameStateUpdate:function(b){var c=!1;"function"==typeof this.gameStateUpdateCallback&&(c=this.gameStateUpdateCallback(b));c||this.unhandledUpdateQueue.push(b)},onError:function(){ig.game.resetApp()},onPingReply:function(){var b=this.network_client.onServerPingReplyHandlers.indexOf(this.boundOnPingReply);0<=b&&this.network_client.onServerPingReplyHandlers.splice(b,
1);this.pingReplyPending=!1;"function"==typeof this.pingReplyCallback&&this.pingReplyCallback(this.clientLatencyAverage);this.pingReplyCallback=null}})});ig.baked=!0;
ig.module("plugins.data.color-rgb").defines(function(){ColorRGB=function(b,c,d,e){this.r=b||0;this.g=c||0;this.b=d||0;this.a=e||0};ColorRGB.prototype={setRandomColor:function(){this.r=Math.round(255*Math.random());this.g=Math.round(255*Math.random());this.b=Math.round(255*Math.random())},getStyle:function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},getHex:function(){for(var b=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);2>b.length;)b="0"+b;for(;2>c.length;)c="0"+
c;for(;2>d.length;)d="0"+d;return"#"+b+c+d},getInvertedColor:function(){return new ColorRGB(255-this.r,255-this.g,255-this.b,255-this.a)},clone:function(){return new ColorRGB(this.r,this.g,this.b,this.a)}}});this.START_BRANDING_SPLASH;ig.baked=!0;
ig.module("plugins.branding.splash").requires("impact.impact","impact.entity").defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);console.log("spawn branding")}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image("branding/splash1.png"),init:function(b,c,d){this.parent(b,c,d);320>=ig.system.width?(this.size.x=320,this.size.y=200):(this.size.x=480,this.size.y=240);this.pos.x=(ig.system.width-this.size.x)/
2;this.pos.y=-this.size.y-200;this.endPosY=(ig.system.height-this.size.y)/2;b=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});c=this.tween({},2.5,{onComplete:function(){ig.game.director.loadLevel(ig.game.director.currentLevel)}});b.chain(c);b.start();this.currentAnim=this.anims.idle},createClickableLayer:function(){console.log("Build clickable layer");this.checkClickableLayer("branding-splash",_SETTINGS.Branding.Logo.Link,_SETTINGS.Branding.Logo.NewWindow)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==
b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var f=ig.$new("div");f.id=b;document.body.appendChild(f);f=$("#"+f.id);f.css("float","left");f.css("position","absolute");if(ig.ua.mobile){var g=window.innerHeight/mobileHeight,l=window.innerWidth/
mobileWidth;f.css("left",this.pos.x*l);f.css("top",this.pos.y*g);f.css("width",this.size.x*l);f.css("height",this.size.y*g)}else g=w/2-destW/2,l=h/2-destH/2,console.log(g,l),f.css("left",g+this.pos.x*multiplier),f.css("top",l+this.pos.y*multiplier),f.css("width",this.size.x*multiplier),f.css("height",this.size.y*multiplier);e?f.html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):f.html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");
dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},draw:function(){ig.system.context.fillStyle="#ffffff";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);ig.system.context.fillStyle="#000";ig.system.context.font="12px Arial";ig.system.context.textAlign="left";320>=ig.system.width?
ig.system.context.fillText("powered by MarketJS.com",ig.system.width-150,ig.system.height-15):ig.system.context.fillText("powered by MarketJS.com",ig.system.width-160,ig.system.height-15);this.parent();this.splash&&ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});this.END_BRANDING_SPLASH;ig.baked=!0;
ig.module("game.entities.buttons.button").requires("impact.entity","plugins.data.vector").defines(function(){EntityButton=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,size:new Vector2(48,48),fillColor:null,zIndex:95E3,init:function(b,c,d){this.parent(b,c,d);!ig.global.wm&&!isNaN(d.zIndex)&&(this.zIndex=d.zIndex);b=Math.floor(256*Math.random());c=Math.floor(256*Math.random());d=Math.floor(256*Math.random());this.fillColor="rgba("+b+","+d+","+c+",1)"},clicked:function(){throw"no implementation on clicked()";
},clicking:function(){throw"no implementation on clicking()";},released:function(){throw"no implementation on released()";}})});ig.baked=!0;
ig.module("plugins.clickable-div-layer").requires("plugins.data.vector").defines(function(){ClickableDivLayer=ig.Class.extend({pos:new Vector2(0,0),size:new Vector2(0,0),identifier:null,invisImagePath:"media/graphics/misc/invisible.png",init:function(b){this.pos=new Vector2(b.pos.x,b.pos.y);this.size=new Vector2(b.size.x,b.size.y);var c="more-games",d="www.google.com",e=!1;b.div_layer_name&&(c=b.div_layer_name);b.link&&(d=b.link);b.newWindow&&(e=b.newWindow);this.createClickableLayer(c,d,e)},createClickableLayer:function(b,
c,d){this.identifier=b;var e=ig.domHandler.getElementById("#"+b);e?(ig.domHandler.show(e),ig.domHandler.attr(e,"href",c)):this.createClickableOutboundLayer(b,c,this.invisImagePath,d)},update:function(b,c){this.pos.x===b&&this.pos.y===c||(ig.sizeHandler.dynamicClickableEntityDivs[this.identifier]={},ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].width=this.size.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].height=this.size.y,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_x=
this.pos.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_y=this.pos.y)},createClickableOutboundLayer:function(b,c,d,e){var f=ig.domHandler.create("div");ig.domHandler.attr(f,"id",b);var g=ig.domHandler.create("a");e?(ig.domHandler.attr(g,"href",c),ig.domHandler.attr(g,"target","_blank")):ig.domHandler.attr(g,"href",c);c=ig.domHandler.create("img");ig.domHandler.css(c,{width:"100%",height:"100%"});ig.domHandler.attr(c,"src",d);d=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,
ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){e=ig.domHandler.getElementById("#canvas");e=ig.domHandler.getOffsets(e);var l=e.left,m=e.top;console.log(e.left);ig.sizeHandler.disableStretchToFitOnMobileFlag?(e=Math.floor(l+this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",m=Math.floor(m+this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px",d=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"):(e=Math.floor(this.pos.x*
ig.sizeHandler.sizeRatio.x)+"px",m=Math.floor(this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+"px",d=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px")}else e=ig.domHandler.getElementById("#canvas"),e=ig.domHandler.getOffsets(e),l=e.left,m=e.top,ig.sizeHandler.enableStretchToFitOnDesktopFlag?(e=Math.floor(l+this.pos.x*ig.sizeHandler.sizeRatio.x)+"px",m=Math.floor(m+this.pos.y*ig.sizeHandler.sizeRatio.y)+"px",l=Math.floor(this.size.x*ig.sizeHandler.sizeRatio.x)+
"px",d=Math.floor(this.size.y*ig.sizeHandler.sizeRatio.y)+"px"):(e=Math.floor(l+this.pos.x*d)+"px",m=Math.floor(m+this.pos.y*d)+"px",l=Math.floor(this.size.x*d)+"px",d=Math.floor(this.size.y*d)+"px");ig.domHandler.css(f,{"float":"left",position:"absolute",left:e,top:m,width:l,height:d,"z-index":3});ig.domHandler.addEvent(f,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(g,c);ig.domHandler.appendChild(f,g);ig.domHandler.appendToBody(f);ig.sizeHandler.dynamicClickableEntityDivs[b]=
{};ig.sizeHandler.dynamicClickableEntityDivs[b].width=this.size.x;ig.sizeHandler.dynamicClickableEntityDivs[b].height=this.size.y;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("game.entities.buttons.button-branding-logo").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonBrandingLogo=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),zIndex:10001,size:{x:64,y:66},clickableLayer:null,link:null,newWindow:!1,div_layer_name:"branding-logo",name:"brandinglogo",init:function(b,c,d){this.parent(b,c,d);
if(!ig.global.wm){if("undefined"==typeof wm)if(_SETTINGS.Branding.Logo.Enabled)this.size.x=_SETTINGS.Branding.Logo.Width,this.size.y=_SETTINGS.Branding.Logo.Height,this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,d&&d.centralize&&(this.pos.x=ig.system.width/2-this.size.x/2,console.log("centralize true ... centering branded logo ...")),_SETTINGS.Branding.Logo.LinkEnabled&&(this.link=_SETTINGS.Branding.Logo.Link,this.newWindow=_SETTINGS.Branding.Logo.NewWindow,this.clickableLayer=
new ClickableDivLayer(this));else{this.kill();return}this.div_layer_name=d.div_layer_name?d.div_layer_name:"branding-logo"}},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity","game.entities.buttons.button-branding-logo").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(b,c,d){this.parent(b,c,d);if(d)switch(console.log("settings found ... using that div layer name"),b=d.div_layer_name,console.log("settings.centralize:",d.centralize),d.centralize){case "true":console.log("centralize true");
centralize=!0;break;case "false":console.log("centralize false");centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else b="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityButtonBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:b,centralize:centralize})}catch(e){console.log(e)}this.kill()}}})});ig.baked=!0;
ig.module("game.entities.buttons.button-more-games").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonMoreGames=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("media/graphics/sprites/ui/button_more_games.png",60,60),size:{x:60,y:60},zIndex:750,clickableLayer:null,link:null,newWindow:!1,div_layer_name:"more-games",name:"moregames",init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.div_layer_name=d.div_layer_name?
d.div_layer_name:"more-games",_SETTINGS.MoreGames.Enabled?(this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,_SETTINGS.MoreGames.Link&&(this.link=_SETTINGS.MoreGames.Link),_SETTINGS.MoreGames.NewWindow&&(this.newWindow=_SETTINGS.MoreGames.NewWindow),this.clickableLayer=new ClickableDivLayer(this)):this.kill())},show:function(){var b=ig.domHandler.getElementById("#"+this.div_layer_name);b&&ig.domHandler.show(b)},hide:function(){var b=ig.domHandler.getElementById("#"+
this.div_layer_name);b&&ig.domHandler.hide(b)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.opening-shield").requires("impact.entity").defines(function(){EntityOpeningShield=ig.Entity.extend({size:{x:48,y:48},move:0,mIconAnim:0,shieldAnim:0,titleAnim:0,shieldImage:new ig.Image("media/graphics/opening/shield.png"),mIconImage:new ig.Image("media/graphics/opening/m_icon.png"),titleImage:new ig.Image("media/graphics/opening/title.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);
try{ig.soundHandler.playSound(ig.soundHandler.SOUNDID.openingSound)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateOriginalShieldOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawOriginalShieldOpening())},updateOriginalShieldOpening:function(){this.initTimer&&0<this.initTimer.delta()&&
(this.initTimer=null,this.sheildTimer=new ig.Timer(0.05));this.sheildTimer&&0<this.sheildTimer.delta()&&(3>this.shieldAnim?(this.shieldAnim++,this.sheildTimer.reset()):(this.sheildTimer=null,this.moveTimer=new ig.Timer(0.001),this.mIconTimer=new ig.Timer(0.05),this.titleTimer=new ig.Timer(0.15)));this.moveTimer&&0<this.moveTimer.delta()&&(this.move+=0.3,this.moveTimer.reset());this.mIconTimer&&0<this.mIconTimer.delta()&&(12>this.mIconAnim?(this.mIconAnim++,this.moveTimer.reset()):this.mIconTimer=
null);this.titleTimer&&0<this.titleTimer.delta()&&(11>this.titleAnim?(this.titleAnim++,this.titleTimer.reset()):(this.titleTimer=null,this.nextLevelTimer=new ig.Timer(1)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawOriginalShieldOpening:function(){if(this.moveTimer){var b=ig.system.context;b.save();var c=ig.system.width/2,d=ig.system.height/2;b.translate(c,d);b.rotate(this.move*Math.PI/180);b.beginPath();
b.moveTo(0,0);for(var e=0,f=1;48>=f;f+=1)b.lineTo(0+800*Math.cos(2*f*Math.PI/48),0+800*Math.sin(2*f*Math.PI/48)),e++,2==e&&(e=0,b.lineTo(0,0));b.translate(-c,-d);c=b.createRadialGradient(c,d,100,c,d,250);c.addColorStop(0,"rgba(255,255,255,0.1)");c.addColorStop(1,"rgba(0,0,0,0)");b.fillStyle=c;b.fill();b.restore()}this.shieldImage.drawTile(ig.system.width/2-91,0-(768-ig.system.height)/2,this.shieldAnim,182,768);this.moveTimer&&(this.mIconImage.drawTile(ig.system.width/2-96,ig.system.height/2-70,this.mIconAnim,
166,160),this.titleImage.drawTile(ig.system.width/2-204,ig.system.height/2+100,this.titleAnim,409,76));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.opening-kitty").requires("impact.entity").defines(function(){EntityOpeningKitty=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("media/graphics/opening/kittytitle.png"),soundKey:"kittyopeningSound",init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.soundHandler.sfxPlayer.play(this.soundKey)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?(this.kittyAnim++,this.kittyTimer.reset()):
(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawKittyOpening:function(){var b=ig.system.context.createLinearGradient(0,0,0,ig.system.height);b.addColorStop(0,"#ffed94");b.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=b;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);0<=this.kittyAnim&&(this.kittyImage.drawTile(ig.system.width/
2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325),this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({checkAgainst:ig.Entity.TYPE.BOTH,size:new Vector2(1,1),isFirstPressed:!1,isPressed:!1,isReleased:!1,isHovering:!1,hoveringItem:null,objectArray:[],clickedObjectList:[],ignorePause:!0,zIndex:5500,check:function(b){this.objectArray.push(b)},clickObject:function(b){this.isFirstPressed&&"function"==typeof b.clicked&&(b.clicked(),this.addToClickedObjectList(b));this.isPressed&&!this.isReleased&&
"function"==typeof b.clicking&&b.clicking();this.isReleased&&"function"==typeof b.released&&(b.released(),this.removeFromClickedObjectList(b))},refreshPos:function(){this.pos=ig.game.io.getClickPos()},update:function(){this.parent();this.refreshPos();var b=null,c=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>c&&(c=this.objectArray[a].zIndex,b=this.objectArray[a]);if(null!=b)null!=this.hoveringItem?this.hoveringItem!=b&&("function"==typeof this.hoveringItem.leave&&this.hoveringItem.leave(),
"function"==typeof b.over&&b.over()):"function"==typeof b.over&&b.over(),this.hoveringItem=b,this.clickObject(b),this.objectArray=[];else if(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.leave&&(this.hoveringItem.leave(),this.hoveringItem=null),this.isReleased){for(b=0;b<this.clickedObjectList.length;b++)c=this.clickedObjectList[b],"function"==typeof c.releasedOutside&&c.releasedOutside();this.clickedObjectList=[]}this.isFirstPressed=ig.input.pressed("click");this.isReleased=ig.input.released("click");
this.isPressed=ig.input.state("click")},addToClickedObjectList:function(b){this.clickedObjectList.push(b)},removeFromClickedObjectList:function(b){for(var c=[],d=0;d<this.clickedObjectList.length;d++){var e=this.clickedObjectList[d];e!=b&&c.push(e)}this.clickedObjectList=c}})});ig.baked=!0;
ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(b,c,d){this.parent(b,c,d)}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(b,c,d){this.parent(b,c,d);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,
c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var f=ig.$new("div");f.id=b;document.body.appendChild(f);$("#"+f.id).css("float","left");$("#"+f.id).css("width",this.size.x*multiplier);$("#"+f.id).css("height",this.size.y*multiplier);$("#"+f.id).css("position","absolute");var g=w/2-destW/2,l=h/
2-destH/2;w==mobileWidth?($("#"+f.id).css("left",this.pos.x),$("#"+f.id).css("top",this.pos.y)):($("#"+f.id).css("left",g+this.pos.x*multiplier),$("#"+f.id).css("top",l+this.pos.y*multiplier));e?$("#"+f.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+f.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=$("#"+f.id).width();dynamicClickableEntityDivs[b].height=
$("#"+f.id).height();dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isHovering=!1)},deselectOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;
ig.module("game.entities.text").requires("impact.entity").defines(function(){EntityText=ig.Entity.extend({text:"",textTmp:0,size:{x:5,y:5},_wmDrawBox:!0,_wmBoxColor:"rgba(255, 255, 255, 0.5)",newText:[],idxText:0,textStatus:!0,type:ig.Entity.TYPE.B,init:function(b,c,d){this.parent(b,c,d);this.textTmp=this.text;this.timer=new ig.Timer;"undefined"==typeof wm&&d&&(this.name=d.name,this.useLanguageFile=d.useLanguageFile,this.languageFileSectionName=d.languageFileSectionName,this.text=eval(this.useLanguageFile)?
ig.game.language.selected[this.languageFileSectionName][d.text]:d.text,this.fontSize=d.fontSize,this.fontSize||(this.fontSize="24"),this.fontStyle=d.fontStyle,this.fontStyle||(this.fontStyle="Arial"),this.fontWeight=d.fontWeight,this.fontWeight||(this.fontWeight=""),this.fontColor=d.fontColor,this.fontColor||(this.fontColor="#fff"),this.textAlign=d.textAlign,this.textAlign||(this.textAlign="left"),this.textSpace=d.textSpace,this.textSpace||(this.textSpace=22),this.textBorder=d.textBorder,this.textStroke=
d.textStroke,this.textStroke||(this.textStroke=""),this.textStrokeSize=d.textStrokeSize,this.textStrokeSize||(this.textStrokeSize=8),this.alpha=d.alpha,this.alpha||(this.alpha=1),this.backgroundBorderColor=d.backgroundBorderColor,this.backgroundColor=d.backgroundColor,this.backgroundHeight=d.backgroundHeight)},update:function(){this.parent();if(this.textStatus){this.newText=this.text.split("<br>");this.idxText=this.newText.length-1;for(x=0;x<=this.idxText;x++){var b=this.newText[x];"undefined"!=typeof b&&
(b=b.replace("<br>"," "),b=b.replace(">"," "),b=b.replace("r>"," "),b=b.replace("br>"," "),b=b.replace("<"," "),b=b.replace("<b"," "),b=b.replace("<br"," "),"br"==b.substr(b.length-2,2)&&(b=b.substr(0,b.length-2),this.newText[x]=b,"b"==b.substr(b.length-2,1)&&(b=b.substr(0,b.length-2),this.newText[x]=b)))}this.textStatus=!1}this.textTmp!=this.text&&(this.textStatus=!0,this.textTmp=this.text)},draw:function(){this.parent();if("undefined"==typeof wm)for(i=0;i<=this.idxText;i++){var b=this.newText[i];
if("undefined"!=typeof b){this.timer.tick();b=b.replace("<br>"," ");b=b.replace("<"," ");b=b.replace("<b"," ");b=b.replace("<br"," ");b=b.replace(">"," ");b=b.replace("r>"," ");b=b.replace("br>"," ");"b"==b.substr(b.length-1,1)&&(b=b.substr(0,b.length-1));ig.system.context.globalAlpha=this.alpha;this.textBorder&&(ig.system.context.fillStyle=this.textBorder,ig.system.context.textAlign=this.textAlign,ig.system.context.font=this.fontWeight+" "+this.fontSize+"px "+this.fontStyle,ig.system.context.fillText(b,
this.pos.x+1,this.pos.y+1+i*this.textSpace),ig.system.context.fillText(b,this.pos.x-1,this.pos.y+1+i*this.textSpace),ig.system.context.fillText(b,this.pos.x+1,this.pos.y-1+i*this.textSpace),ig.system.context.fillText(b,this.pos.x-1,this.pos.y-1+i*this.textSpace));ig.system.context.fillStyle=this.fontColor;ig.system.context.textAlign=this.textAlign;ig.system.context.font=this.fontWeight+" "+this.fontSize+"px "+this.fontStyle;""!=this.textStroke&&(ig.system.context.strokeStyle=this.textStroke,ig.system.context.lineWidth=
this.textStrokeSize,ig.system.context.strokeText(b,this.pos.x,this.pos.y+i*this.textSpace));var c=this.pos.y+i*this.textSpace;ig.system.context.fillText(b,this.pos.x,c);this.underLine&&(ig.system.context.strokeStyle=this.fontColor,ig.system.context.beginPath(),ig.system.context.moveTo(this.pos.x-80,c+5),ig.system.context.lineTo(this.pos.x+this.underLineX,c+5),ig.system.context.stroke());ig.system.context.globalAlpha=1;this.timer.tick()}}}})});ig.baked=!0;
ig.module("game.entities.buttons.button-play").requires("game.entities.buttons.button").defines(function(){EntityButtonPlay=ig.Entity.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:84,y:84},imgplay:new ig.Image("media/graphics/sprites/ui/button_play_big.png"),offsetY:0,clickStatus:!1,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.posx=this.pos.x,this.posy=this.pos.y)},clicked:function(){!(0>=ig.game.network_game.userCount)&&(!ig.game.popupShow&&!this.clickStatus)&&(this.offsetY=
2)},leave:function(){this.offsetY=0},released:function(){this.offsetY=0;!(0>=ig.game.network_game.userCount)&&(!ig.game.popupShow&&!this.clickStatus)&&(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1),this.clickStatus=!0,ig.game.popupShow=!0,this.parrent.playGame())},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},draw:function(){this.parent();ig.system.context.drawImage(this.imgplay.data,0,0,this.size.x,this.size.y,this.pos.x,this.pos.y,
this.size.x,this.size.y)}})});ig.baked=!0;
ig.module("plugins.textinput-container").defines(function(){ig.TextinputContainer=ig.Class.extend({containerName:"text_input_container",textInputName:"text_input",containerElement:null,textInputElement:null,textFontSize:18,textFont:"DroidSans, Impact, Charcoal, sans-serif",maxTextLength:100,defaultValue:"",pos:{x:0,y:0},rect:{x:0,y:0,w:0,h:0},init:function(b,c,d,e,f,g,l){b&&(this.textInputName=b,this.containerName=b+"_container");c&&(this.textFontSize=c);d&&(this.textFont=d);null!=e&&(this.maxTextLength=
e);null!=f?this.defaultValue=f:""!=ig.game.sessionData.playerName?this.defaultValue=ig.game.sessionData.playerName:(b=Math.floor(Math.random()*ig.game.names.length),this.defaultValue=ig.game.names[b]);!isNaN(g)&&!isNaN(l)&&this.setRect(-g/2,-l/2,g,l);this.spawnTextInput()},setRect:function(b,c,d,e){!isNaN(b)&&(!isNaN(c)&&!isNaN(d)&&!isNaN(e))&&(this.rect.x=b,this.rect.y=c,this.rect.w=d,this.rect.h=e,this.updateElementPosition())},setPos:function(b,c){!isNaN(b)&&!isNaN(c)&&(this.pos.x=b,this.pos.y=
c,this.updateElementPosition())},updateElementPosition:function(){var b=this.containerName,c=ig.domHandler.getElementById("#"+b),d=ig.sizeHandler.sizeRatio.x,e=ig.sizeHandler.sizeRatio.y;if(c){var f,c=this.pos.x+this.rect.x;f=this.pos.y+this.rect.y;var g=this.rect,l=Math.min(d,e),m=this.containerElement;if(ig.ua.mobile)var j=Math.floor(c*d)+"px",p=Math.floor(f*e)+"px",d=Math.floor(g.w*d)+"px",l=Math.floor(g.h*e)+"px";else j=ig.domHandler.getElementById("#canvas"),j=ig.domHandler.getOffsets(j),e=j.top,
j=Math.floor(j.left+c*l)+"px",p=Math.floor(e+f*l)+"px",d=Math.floor(g.w*l)+"px",l=Math.floor(g.h*l)+"px";ig.domHandler.css(m,{"float":"left",position:"absolute",left:j,top:p,width:d,height:l,"z-index":3});ig.sizeHandler.dynamicClickableEntityDivs[b]={};ig.sizeHandler.dynamicClickableEntityDivs[b].width=g.w;ig.sizeHandler.dynamicClickableEntityDivs[b].height=g.h;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_x=c;ig.sizeHandler.dynamicClickableEntityDivs[b].entity_pos_y=f}},show:function(){this.containerElement&&
(ig.domHandler.show(this.containerElement),ig.domHandler.show(this.textInputElement))},hide:function(){this.containerElement&&(ig.domHandler.hide(this.containerElement),ig.domHandler.hide(this.textInputElement))},val:function(b){return!this.textInputElement?"":null==b?this.textInputElement.val():this.textInputElement.val(b)},spawnTextInput:function(){var b=ig.sizeHandler.sizeRatio.x,c=ig.sizeHandler.sizeRatio.y,d,e;d=this.pos.x+this.rect.x;e=this.pos.y+this.rect.y;var f=this.rect,g=this.containerName,
l=this.textInputName,m=ig.domHandler.getElementById("#"+g),j=ig.domHandler.getElementById("#"+l);if(m&&j)this.containerElement=$("#"+g),this.textInputElement=$("#"+l),ig.domHandler.show(this.containerElement),ig.domHandler.show(this.textInputElement);else{m=ig.domHandler.create("div");ig.domHandler.attr(m,"id",g);m.blur(function(b){b.stopPropagation()});this.containerElement=m;j=ig.domHandler.create("input");ig.domHandler.attr(j,"id",l);j.blur(function(b){b.stopPropagation()});this.textInputElement=
j;var p=Math.min(b,c),q=this.textFontSize*p;if(ig.ua.mobile)var r=Math.floor(d*b)+"px",s=Math.floor(e*c)+"px",b=Math.floor(f.w*b)+"px",p=Math.floor(f.h*c)+"px";else c=ig.domHandler.getElementById("#canvas"),r=ig.domHandler.getOffsets(c),c=r.top,r=Math.floor(r.left+d*p)+"px",s=Math.floor(c+e*p)+"px",b=Math.floor(f.w*p)+"px",p=Math.floor(f.h*p)+"px";ig.domHandler.css(m,{"float":"left",position:"absolute",left:r,top:s,width:b,height:p,"z-index":3});ig.domHandler.css(j,{width:"100%",height:"100%","font-family":this.textFont,
"font-size":q+"px","z-index":3});ig.domHandler.css(j,{});j.attr("maxlength",this.maxTextLength);j.attr("size",this.maxTextLength);j.attr("autocomplete","off");j.attr("autocapitalize","off");j.attr("autocorrect","off");j.val(this.defaultValue);j.keyup(function(b){13==b.keyCode&&this.textInputElement.blur()}.bind(this));ig.domHandler.addEvent(m,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(m,j);ig.domHandler.appendToBody(m);ig.sizeHandler.dynamicClickableEntityDivs[g]=
{};ig.sizeHandler.dynamicClickableEntityDivs[g].width=f.w;ig.sizeHandler.dynamicClickableEntityDivs[g].height=f.h;ig.sizeHandler.dynamicClickableEntityDivs[g].entity_pos_x=d;ig.sizeHandler.dynamicClickableEntityDivs[g].entity_pos_y=e;ig.sizeHandler.dynamicClickableEntityDivs[l]={};ig.sizeHandler.dynamicClickableEntityDivs[l]["font-size"]=this.textFontSize}}})});ig.baked=!0;
ig.module("game.entities.ui.avatar").requires("impact.entity").defines(function(){EntityAvatar=ig.Entity.extend({size:{x:85,y:85},type:ig.Entity.TYPE.B,avaImg:[new ig.Image("media/graphics/sprites/avatar/avatar_1.png"),new ig.Image("media/graphics/sprites/avatar/avatar_2.png"),new ig.Image("media/graphics/sprites/avatar/avatar_3.png"),new ig.Image("media/graphics/sprites/avatar/avatar_4.png"),new ig.Image("media/graphics/sprites/avatar/avatar_5.png")],avaIdx:0,init:function(b,c,d){this.parent(b,c,
d);this.next=ig.game.spawnEntity(EntityNext,this.pos.x+this.size.x,this.pos.y+10,{parrent:this,zIndex:this.zIndex+2});this.prev=ig.game.spawnEntity(EntityPrev,this.pos.x-52,this.pos.y+10,{parrent:this,zIndex:this.zIndex+2});ig.game.sortEntitiesDeferred()},update:function(){this.parent()},nextAva:function(){6!=ig.game.roomCountDown&&0<ig.game.roomCountDown||(this.avaIdx=this.avaIdx+1>this.avaImg.length-1?0:this.avaIdx+1,ig.game.avaIndex=this.avaIdx)},prevAva:function(){6!=ig.game.roomCountDown&&0<
ig.game.roomCountDown||(this.avaIdx=0>this.avaIdx-1?this.avaImg.length-1:this.avaIdx-1,ig.game.avaIndex=this.avaIdx)},draw:function(){this.parent();ig.system.context.drawImage(this.avaImg[this.avaIdx].data,0,0,128,128,this.pos.x,this.pos.y,85,85)}});EntityNext=ig.Entity.extend({size:{x:52,y:60},type:ig.Entity.TYPE.B,btnext:new ig.Image("media/graphics/sprites/avatar/button_next_avatar.png"),avaIdx:0,offsetY:0,init:function(b,c,d){this.parent(b,c,d);this.posx=this.pos.x;this.posy=this.pos.y},update:function(){this.parent();
this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},clicked:function(){!(6!=ig.game.roomCountDown&&0<ig.game.roomCountDown)&&!ig.game.popupShow&&(this.offsetY=2)},leave:function(){this.offsetY=0},released:function(){this.offsetY=0;ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1);this.parrent.nextAva()},draw:function(){this.parent();ig.system.context.drawImage(this.btnext.data,0,0,78,90,this.pos.x,this.pos.y,52,60)}});EntityPrev=ig.Entity.extend({size:{x:52,y:60},type:ig.Entity.TYPE.B,
btnext:new ig.Image("media/graphics/sprites/avatar/button_next_avatar.png"),avaIdx:0,offsetY:0,init:function(b,c,d){this.parent(b,c,d);this.posx=this.pos.x;this.posy=this.pos.y},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},clicked:function(){!(6!=ig.game.roomCountDown&&0<ig.game.roomCountDown)&&!ig.game.popupShow&&(this.offsetY=2)},leave:function(){this.offsetY=0},released:function(){this.offsetY=0;ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1);
this.parrent.prevAva()},draw:function(){this.parent();var b=ig.system.context;b.translate(this.pos.x+52,this.pos.y+60);b.rotate(3.14159);b.drawImage(this.btnext.data,0,0,52,60);b.rotate(-3.14159);b.translate(-this.pos.x-52,-this.pos.y-60)}})});ig.baked=!0;
ig.module("game.entities.buttons.button-setting").requires("game.entities.buttons.button").defines(function(){EntityButtonSetting=ig.Entity.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:60,y:60},imgplay:new ig.Image("media/graphics/sprites/ui/button_settings.png"),offsetY:0,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.posx=this.pos.x,this.posy=this.pos.y)},clicked:function(){ig.game.popupShow||(this.offsetY=2)},leave:function(){this.offsetY=0},released:function(){this.offsetY=
0;ig.game.popupShow||(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1),ig.game.spawnEntity(EntityPopupSetting,ig.system.width/2-255,-600,{parrent:this.parrent,zIndex:9999}))},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},draw:function(){this.parent();ig.system.context.drawImage(this.imgplay.data,0,0,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});ig.baked=!0;
ig.module("game.entities.controller-mainmenu").requires("impact.entity","game.entities.buttons.button-play","game.entities.buttons.button-more-games","plugins.textinput-container","game.entities.ui.avatar","game.entities.buttons.button-setting").defines(function(){EntityMenuController=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,zIndex:1,menubg:new ig.Image("media/graphics/sprites/bg-menu.png"),logo:new ig.Image("media/graphics/sprites/logo.png"),wait:!1,waitStatus:!1,countblink:0,init:function(b,
c,d){this.parent(b,c,d);ig.game.gameState="menu";ig.game.popupShow=!1;_SETTINGS.MoreGames.Enabled?(this.btplay=ig.game.spawnEntity(EntityButtonPlay,ig.system.width/2-42,ig.system.height/2+150,{parrent:this,zIndex:this.zIndex+2}),this.btmoregames=ig.game.spawnEntity(EntityButtonMoreGames,ig.system.width/2-120,ig.system.height/2+160,{parrent:this,zIndex:this.zIndex+2}),this.btsetting=ig.game.spawnEntity(EntityButtonSetting,ig.system.width/2+58,ig.system.height/2+160,{parrent:this,zIndex:this.zIndex+
2})):(this.btplay=ig.game.spawnEntity(EntityButtonPlay,ig.system.width/2-80,ig.system.height/2+150,{parrent:this,zIndex:this.zIndex+2}),this.btsetting=ig.game.spawnEntity(EntityButtonSetting,ig.system.width/2+20,ig.system.height/2+160,{parrent:this,zIndex:this.zIndex+2}));this.btfullscreen=ig.game.spawnEntity(ig.FullscreenButton,10,470,{enterImage:new ig.Image("media/graphics/sprites/ui/button_fullscreen_enter.png"),exitImage:new ig.Image("media/graphics/sprites/ui/button_fullscreen_exit.png"),zIndex:this.zIndex+
3});this.counter=ig.game.spawnEntity(EntityCounter,0,0,{parrent:this,zIndex:this.zIndex+200});this.initNameBox();ig.sizeHandler.reorient();ig.game.sortEntitiesDeferred();this.playTitleAnim()},initNameBox:function(){this.textInputPos={};this.textInputPos.x=480;this.textInputPos.y=380;this.textInputRect={};this.textInputRect.w=220;this.textInputRect.h=38;this.textInputRect.x=-this.textInputRect.w/2;this.textInputRect.y=-this.textInputRect.h/2-1;this.textinput=new ig.TextinputContainer("player_name",
22,"Trans",6);var b,c;b=this.textInputPos.x;c=this.textInputPos.y;var d=this.textInputRect;this.textinput.setRect(d.x,d.y,d.w,d.h);this.textinput.setPos(b,c);ig.domHandler.css(this.textinput.textInputElement,{margin:"0px",border:"0px",padding:"3px 3px 3px 3px",background:"rgba(0,0,0,0)",color:"rgba(255,255,255,1)","text-align":"center",outline:"none"});this.avatar=ig.game.spawnEntity(EntityAvatar,ig.system.width/2-43,this.textInputPos.y-110,{parrent:this,zIndex:this.zIndex+2})},update:function(){this.parent();
this.countblink+=1;10<this.countblink&&(this.countblink=0,this.wait=this.wait?!1:!0);this.countblink2+=1;30<this.countblink2&&0==ig.game.network_game.userCount&&(this.countblink2=0,this.ready())},countblink2:0,scaleX:1,scaleY:1,playTitleAnim:function(){this.scaleY=this.scaleX=1;this.tween({scaleX:0.9,scaleY:0.8},3,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.tween({scaleX:1,scaleY:1},0.6,{easing:ig.Tween.Easing.Bounce.EaseOut,onComplete:function(){setTimeout(function(){this.playTitleAnim()}.bind(this),
1E3)}.bind(this)}).start()}.bind(this)}).start()},draw:function(){this.parent();var b=ig.system.context;this.menubg.draw(0,0);b.drawImage(this.logo.data,0,0,437,278,ig.system.width/2-218.5+(437-437*this.scaleX)/2,ig.system.height/2-139-140+(278-278*this.scaleY)/2,437*this.scaleX,278*this.scaleY);b.lineWidth=5;b.fillStyle="rgba(63,141,186,1)";b.strokeStyle="rgba(2,218,255,1)";ig.game.roundRect(b,this.textInputPos.x-this.textInputRect.w/2,this.textInputPos.y-this.textInputRect.h/2,this.textInputRect.w,
this.textInputRect.h+5,15,!0,!0);b.fillStyle=0==ig.game.network_game.userCount?"rgba(255,0,0,1)":"rgba(153,211,54,1)";b.strokeStyle="rgba(255,255,255,1)";b.lineWidth=2;ig.game.roundRect(b,10,8,120,25,13,!0,!0);b.font="14px Trans";b.textAlign="center";b.fillStyle="rgba(255,255,255,1)";0==ig.game.network_game.userCount?b.fillText(_STRINGS.Game.Offline,70,25):1<ig.game.network_game.userCount?b.fillText(ig.game.network_game.userCount+"  "+_STRINGS.Game.UsersOnline,70,25):b.fillText(ig.game.network_game.userCount+
"  "+_STRINGS.Game.UserOnline,70,25)},ready:function(){(!ig.game.network_client.socket||ig.game.network_client.socket.disconnected)&&setTimeout(function(){this.connectToServer()}.bind(this),500)},connectToServer:function(){ig.game.network_client&&ig.game.network_client.connect(function(){},function(){}.bind(this))},playGame:function(){if(ig.game.network_client.socket&&!(ig.game.network_client.socket.disconnected||0==ig.game.network_game.userCount)){var b={};b.avatarId=ig.game.avaIndex;var c=document.getElementById("player_name").value;
b.playerName=c;ig.game.sessionData.playerName=c;ig.game.saveLocalStorage();this.waitStatus=!0;ig.game.network_game.requestGame(b,function(){}.bind(this),function(){}.bind(this))}}});EntityCounter=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,playOnce:!1,temp:null,init:function(b,c,d){this.parent(b,c,d);ig.game.roomCountDown=0},update:function(){this.parent();this.temp!=ig.game.roomCountDown&&0<ig.game.roomCountDown&&ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.beep);
this.temp=ig.game.roomCountDown},draw:function(){this.parent();var b=ig.system.context;6!=ig.game.roomCountDown&&0<ig.game.roomCountDown&&(b.textAlign="center",b.fillStyle="rgba(0,0,0,0.4)",b.fillRect(0,0,ig.system.width,ig.system.height),b.fillStyle="rgba(252,137,29,1)",b.strokeStyle="rgba(251,216,54,1)",b.beginPath(),b.arc(ig.system.width-100,ig.system.height/2-23,40,0,2*Math.PI),b.fill(),b.stroke(),b.font="72px Trans",b.fillStyle="rgba(255,255,255,1)",b.fillText(6-ig.game.roomCountDown,ig.system.width-
100,ig.system.height/2),6<ig.game.roomCountDown&&(ig.game.roomCountDown=6))}})});ig.baked=!0;ig.module("game.levels.mainmenu").requires("impact.image","game.entities.controller-mainmenu","game.entities.pointer").defines(function(){LevelMainmenu={entities:[{type:"EntityMenuController",x:0,y:0},{type:"EntityPointer",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.entities.buttons.button-home").requires("game.entities.buttons.button").defines(function(){EntityButtonHome=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:60,y:60},offsetY:0,homebg:new ig.Image("media/graphics/sprites/ui/button_home.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.posx=this.pos.x,this.posy=this.pos.y)},draw:function(){this.parent();ig.system.context.drawImage(this.homebg.data,0,0,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,
this.size.y)},clicked:function(){this.offsetY=2},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},leave:function(){this.offsetY=0},released:function(){this.offsetY=0;ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1);ig.gd.show(this.goUp.bind(this))},goUp:function(){this.tween({parrent:{posy:-600}},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,onComplete:function(){ig.game.popupShow=!1;ig.game.saveLocalStorage();ig.game.endGameStatus=
!1;ig.game.network_game.leaveGame();ig.game.director.loadLevel(0)}.bind(this)}).start()},clicking:function(){}});EntityContinue=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:60,y:60},offsetY:0,homebg:new ig.Image("media/graphics/sprites/ui/button_play_big.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.posx=this.pos.x,this.posy=this.pos.y)},draw:function(){this.parent();ig.system.context.drawImage(this.homebg.data,0,0,84,84,this.pos.x,this.pos.y,this.size.x,
this.size.y)},clicked:function(){this.offsetY=2},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy+this.offsetY},leave:function(){this.offsetY=0},released:function(){ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1);this.goUp()},goUp:function(){this.tween({parrent:{posy:-600}},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,onComplete:function(){this.offsetY=0;ig.game.popupShow=!1;ig.game.saveLocalStorage();this.parrent.close()}.bind(this)}).start()},
clicking:function(){}})});ig.baked=!0;
ig.module("game.entities.next-text").requires("impact.entity").defines(function(){EntityNextText=ig.Entity.extend({size:{x:218,y:113},type:ig.Entity.TYPE.B,imgSize:0,showStatus:!0,init:function(b,c,d){this.parent(b,c,d);this.show()},update:function(){this.parent()},show:function(){this.imgSize=0;this.tween({imgSize:1.2},0.3,{easing:ig.Tween.Easing.Back.EaseOut,onComplete:function(){this.goSmall()}.bind(this)}).start()},goBig:function(){this.showStatus&&this.tween({imgSize:1.2},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.goSmall()}.bind(this)}).start()},goSmall:function(){this.showStatus&&this.tween({imgSize:0.8},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goBig()}.bind(this)}).start()},draw:function(){this.parent();var b=ig.system.context;0==this.cannonId||1==this.cannonId?ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.Exploding,this.pos.x,this.pos.y+70):this.drawTextAlongArc(b,this.reverseText(_STRINGS.Game.Exploding),this.pos.x,this.pos.y,100,0.8*Math.PI,this.imgSize,
1):ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.Exploding,this.pos.x,this.pos.y-60):this.drawTextAlongArc(b,_STRINGS.Game.Exploding,this.pos.x,this.pos.y,100,0.8*Math.PI,this.imgSize,-1)},reverseText:function(b){for(var c="",d=b.length-1;0<=d;d--)c+=b[d];return c},drawFlat:function(b,c,d,e){b=ig.system.context;b.textAlign="center";b.lineWidth=3;b.font=22*this.imgSize+"px Trans";b.strokeStyle="rgba(255,255,255,1)";b.fillStyle="rgba(255,203,0,1)";b.strokeText(c,d,e);b.fillText(c,d,e)},drawTextAlongArc:function(b,
c,d,e,f,g,l,m){var j=ig.system.context.createLinearGradient(0,-10*this.imgSize,0,2*this.imgSize);j.addColorStop(0,"rgba(255,203,0,1)");j.addColorStop(1,"rgba(255,150,0,1)");b.save();b.translate(d,e);b.rotate(-1*g/2);b.rotate(-1*(g/c.length)/2);for(d=0;d<c.length;d++)b.rotate(g/c.length),b.save(),b.translate(0,m*f*l),e=c[d],b.font=22*this.imgSize+"px Trans",b.lineWidth=5,b.textAlign="center",b.strokeStyle="rgba(255,255,255,1)",b.strokeText(e,0,0),b.lineWidth=2,b.font=22*this.imgSize+"px Trans",b.strokeStyle=
"rgba(100,100,100,1)",b.fillStyle=j,b.strokeText(e,0,0),b.fillText(e,0,0),b.restore();b.restore()}});EntityRapidText=ig.Entity.extend({size:{x:188,y:87},type:ig.Entity.TYPE.B,imgSize:0,showStatus:!0,init:function(b,c,d){this.parent(b,c,d);this.show()},update:function(){this.parent()},show:function(){this.imgSize=0;this.tween({imgSize:1.2},0.3,{easing:ig.Tween.Easing.Back.EaseOut,onComplete:function(){this.goSmall()}.bind(this)}).start()},goBig:function(){this.showStatus&&this.tween({imgSize:1.2},
0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goSmall()}.bind(this)}).start()},goSmall:function(){this.showStatus&&this.tween({imgSize:0.8},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goBig()}.bind(this)}).start()},draw:function(){this.parent();var b=ig.system.context;0==this.cannonId||1==this.cannonId?ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.RapidFire,this.pos.x,this.pos.y+70):this.drawTextAlongArc(b,this.reverseText(_STRINGS.Game.RapidFire),
this.pos.x,this.pos.y,80,0.7*Math.PI,this.imgSize,1):ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.RapidFire,this.pos.x,this.pos.y-60):this.drawTextAlongArc(b,_STRINGS.Game.RapidFire,this.pos.x,this.pos.y,80,0.7*Math.PI,this.imgSize,-1)},reverseText:function(b){for(var c="",d=b.length-1;0<=d;d--)c+=b[d];return c},drawFlat:function(b,c,d,e){b=ig.system.context;b.textAlign="center";b.lineWidth=3;b.font=22*this.imgSize+"px Trans";b.strokeStyle="rgba(255,255,255,1)";b.fillStyle="rgba(214,255,0,1)";b.strokeText(c,
d,e);b.fillText(c,d,e)},drawTextAlongArc:function(b,c,d,e,f,g,l,m){var j=ig.system.context.createLinearGradient(0,-10*this.imgSize,0,2*this.imgSize);j.addColorStop(0,"rgba(214,255,0,1)");j.addColorStop(1,"rgba(132,255,0,1)");b.save();b.translate(d,e);b.rotate(-1*g/2);b.rotate(-1*(g/c.length)/2);for(d=0;d<c.length;d++)b.rotate(g/c.length),b.save(),b.translate(0,m*f*l),e=c[d],b.font=22*this.imgSize+"px Trans",b.lineWidth=5,b.textAlign="center",b.strokeStyle="rgba(255,255,255,1)",b.strokeText(e,0,0),
b.lineWidth=2,b.font=22*this.imgSize+"px Trans",b.strokeStyle="rgba(100,100,100,1)",b.fillStyle=j,b.strokeText(e,0,0),b.fillText(e,0,0),b.restore();b.restore()}});EntityVortexText=ig.Entity.extend({size:{x:203,y:99},type:ig.Entity.TYPE.B,imgSize:0,showStatus:!0,init:function(b,c,d){this.parent(b,c,d);this.show()},update:function(){this.parent()},show:function(){this.imgSize=0;this.tween({imgSize:1.2},0.3,{easing:ig.Tween.Easing.Back.EaseOut,onComplete:function(){this.goSmall()}.bind(this)}).start()},
goBig:function(){this.showStatus&&this.tween({imgSize:1.2},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goSmall()}.bind(this)}).start()},goSmall:function(){this.showStatus&&this.tween({imgSize:0.8},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goBig()}.bind(this)}).start()},draw:function(){this.parent();var b=ig.system.context;0==this.cannonId||1==this.cannonId?ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.Vortex,this.pos.x,this.pos.y+70):this.drawTextAlongArc(b,
this.reverseText(_STRINGS.Game.Vortex),this.pos.x,this.pos.y,90,0.8*Math.PI,this.imgSize,1):ig.ua.mobile?this.drawFlat(b,_STRINGS.Game.Vortex,this.pos.x,this.pos.y-60):this.drawTextAlongArc(b,_STRINGS.Game.Vortex,this.pos.x,this.pos.y,90,0.8*Math.PI,this.imgSize,-1)},reverseText:function(b){for(var c="",d=b.length-1;0<=d;d--)c+=b[d];return c},drawFlat:function(b,c,d,e){b=ig.system.context;b.textAlign="center";b.lineWidth=3;b.font=22*this.imgSize+"px Trans";b.strokeStyle="rgba(255,255,255,1)";b.fillStyle=
"rgba(11,200,246,1)";b.strokeText(c,d,e);b.fillText(c,d,e)},drawTextAlongArc:function(b,c,d,e,f,g,l,m){var j=ig.system.context.createLinearGradient(0,-10*this.imgSize,0,2*this.imgSize);j.addColorStop(0,"rgba(11,255,246,1)");j.addColorStop(1,"rgba(11,200,246,1)");b.save();b.translate(d,e);b.rotate(-1*g/2);b.rotate(-1*(g/c.length)/2);for(d=0;d<c.length;d++)b.rotate(g/c.length),b.save(),b.translate(0,m*f*l),e=c[d],b.font=22*this.imgSize+"px Trans",b.lineWidth=5,b.textAlign="center",b.strokeStyle="rgba(255,255,255,1)",
b.strokeText(e,0,0),b.lineWidth=2,b.font=22*this.imgSize+"px Trans",b.strokeStyle="rgba(100,100,100,1)",b.fillStyle=j,b.strokeText(e,0,0),b.fillText(e,0,0),b.restore();b.restore()}})});ig.baked=!0;
ig.module("game.entities.ui.coin").requires("impact.entity").defines(function(){EntityCoin=ig.Entity.extend({size:{x:47,y:48},type:ig.Entity.TYPE.B,coin:new ig.Image("media/graphics/sprites/ui/coinblue.png"),coinrev:new ig.Image("media/graphics/sprites/ui/coinblue_rev.png"),imgSize:1,imgStatus:!0,xysize:1,cannonTarget:null,disableClick:!1,highlightStatus:!0,highlightScale:1,highlightAlpha:1,showText:!1,textOffsetY:0,init:function(b,c,d){this.parent(b,c,d);ig.game.sortEntitiesDeferred();this.posx=
this.pos.x;this.posy=this.pos.y;960<this.posx&&(this.posx=860);0>this.posx&&(this.posx=100);540<this.posy&&(this.posy=440);0>this.posy&&(this.posy=100);0<ig.game.getEntitiesByType(EntityCoin).length&&this.kill();this.goSmall();ig.game.blueCoinCount+=1;1==ig.game.blueCoinCount?(b=[3E3,4E3,5E3,6E3],c=Math.floor(4*Math.random()),b=b[c],this.showText=!0):(b=[1E3,2E3,3E3,4E3,5E3],c=Math.floor(5*Math.random()),b=b[c],this.showText=!1);this.goBigHigtlight();this.goUpText();setTimeout(function(){this.disableClick||
(this.killstatus?this.kill():this.goToBotTarget())}.bind(this),b);ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.coin)},goBigHigtlight:function(){this.highlightStatus&&(this.highlightAlpha=this.highlightScale=1,this.tween({highlightScale:4,highlightAlpha:0},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){setTimeout(function(){this.goBigHigtlight()}.bind(this),250)}.bind(this)}).start())},goUpText:function(){this.highlightStatus&&this.tween({textOffsetY:10},0.4,
{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goDownText()}.bind(this)}).start()},goDownText:function(){this.highlightStatus&&this.tween({textOffsetY:-10},0.4,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goUpText()}.bind(this)}).start()},goToBotTarget:function(){if(-1!=this.bottarget){this.disableClick=!0;var b=ig.game.getEntitiesByType(EntityCannon)[this.bottarget];this.targetPos=0==this.bottarget||1==this.bottarget?{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/
2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2-50}:{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2+60};this.cannonTarget=this.bottarget;this.moveToTarget()}},moveToTarget:function(){this.highlightStatus=!1;try{this.tween({posx:this.targetPos.x,posy:this.targetPos.y,xysize:0.8},1,{easing:ig.Tween.Easing.Quartic.EaseIn,onComplete:function(){setTimeout(function(){ig.game.getEntitiesByType(EntityCannon)[this.cannonTarget].showVortexText();this.kill()}.bind(this),
800)}.bind(this)}).start(),this.tween({posx:this.targetPos.x},1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,onComplete:function(){}.bind(this)}).start()}catch(b){this.kill()}},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy},goBig:function(){this.imgStatus=this.imgStatus?!1:!0;this.tween({imgSize:1},0.2,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goSmall()}.bind(this)}).start()},goSmall:function(){this.tween({imgSize:0},0.2,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.goBig()}.bind(this)}).start()},clicked:function(){},released:function(){if(!this.disableClick){this.disableClick=!0;var b=ig.game.getEntitiesByType(EntityCannon)[ig.game.playerIndex];this.target=0==ig.game.playerIndex||1==ig.game.playerIndex?{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2-50}:{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2+60};ig.game.network_game.coinClicked({cannonId:ig.game.playerIndex,
targetPos:this.target,name:this.name})}},draw:function(){this.parent();var b=ig.system.context;if(this.highlightStatus&&(b.globalAlpha=this.highlightAlpha,b.drawImage(this.coin.data,0,0,this.size.x,this.size.y,this.pos.x-this.size.x*this.highlightScale/2+this.size.x/2,this.pos.y-this.size.y*this.highlightScale/2+this.size.y/2,this.size.x*this.highlightScale,this.size.y*this.highlightScale),b.globalAlpha=1,this.showText)){var c=this.pos.x-75+this.size.x/2,d=this.pos.y-43-20+this.textOffsetY;880<c&&
(c=800);0>c&&(c=10);50>d&&(d=this.pos.y+43+20+this.textOffsetY);var e=c+75,f=d+20;b.font="18px Trans";b.fillStyle="rgba(100,200,255,0.8)";b.strokeStyle="rgba(255,255,255,0.8)";ig.game.roundRect(b,c,d,150,43,10,!0,!0);b.fillStyle="rgba(255,255,255,1)";b.fillText(_STRINGS.Game.BlueCoinText[0],e,f);b.fillText(_STRINGS.Game.BlueCoinText[1],e,f+15)}this.imgStatus?b.drawImage(this.coin.data,0,0,this.size.x,this.size.y,this.pos.x-this.size.x*this.imgSize/2+this.size.x/2,this.pos.y,this.size.x*this.imgSize*
this.xysize,this.size.y*this.xysize):b.drawImage(this.coinrev.data,0,0,this.size.x,this.size.y,this.pos.x-this.size.x*this.imgSize/2+this.size.x/2,this.pos.y,this.size.x*this.imgSize*this.xysize,this.size.y*this.xysize)}});EntityCoinScore=ig.Entity.extend({size:{x:47,y:48},type:ig.Entity.TYPE.B,coin:new ig.Image("media/graphics/sprites/ui/coin.png"),coinrev:new ig.Image("media/graphics/sprites/ui/coin_rev.png"),imgSize:1,imgStatus:!0,xysize:1,cannonTarget:null,disableClick:!1,init:function(b,c,d){this.parent(b,
c,d);ig.game.sortEntitiesDeferred();this.posx=this.pos.x;this.posy=this.pos.y;this.goSmall();this.goToBotTarget()},goToBotTarget:function(){if(-1!=this.bottarget){this.disableClick=!0;var b=ig.game.getEntitiesByType(EntityCannon)[this.bottarget];this.targetPos=0==this.bottarget||1==this.bottarget?{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2-50}:{x:b.pos.x+b.currentAnim.pivot.x-this.size.x/2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2+60};this.cannonTarget=
this.bottarget;this.moveToTarget()}},moveToTarget:function(){try{this.tween({posx:this.targetPos.x,posy:this.targetPos.y,xysize:0.8},1,{easing:ig.Tween.Easing.Quartic.EaseIn,onComplete:function(){setTimeout(function(){this.kill()}.bind(this),800)}.bind(this)}).start(),this.tween({posx:this.targetPos.x},1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,onComplete:function(){}.bind(this)}).start()}catch(b){this.kill()}},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy},goBig:function(){this.imgStatus=
this.imgStatus?!1:!0;this.tween({imgSize:1},0.2,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goSmall()}.bind(this)}).start()},goSmall:function(){this.tween({imgSize:0},0.2,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.goBig()}.bind(this)}).start()},clicked:function(){},released:function(){if(!this.disableClick){this.disableClick=!0;var b=ig.game.getEntitiesByType(EntityCannon)[ig.game.playerIndex];this.target={x:b.pos.x+b.currentAnim.pivot.x-this.size.x/
2+5,y:b.pos.y+b.currentAnim.pivot.y-this.size.y/2+5}}},draw:function(){this.parent();var b=ig.system.context;this.imgStatus?b.drawImage(this.coin.data,0,0,this.size.x,this.size.y,this.pos.x-this.size.x*this.imgSize/2+this.size.x/2,this.pos.y,this.size.x*this.imgSize*this.xysize,this.size.y*this.xysize):b.drawImage(this.coinrev.data,0,0,this.size.x,this.size.y,this.pos.x-this.size.x*this.imgSize/2+this.size.x/2,this.pos.y,this.size.x*this.imgSize*this.xysize,this.size.y*this.xysize)}})});
ig.baked=!0;
ig.module("game.entities.ui.cannon").requires("impact.entity","game.entities.next-text","game.entities.ui.coin").defines(function(){EntityCannon=ig.Entity.extend({size:{x:80,y:69},type:ig.Entity.TYPE.B,cannon:[new ig.AnimationSheet("media/graphics/sprites/ui/gun_1.png",80,69),new ig.AnimationSheet("media/graphics/sprites/ui/gun_2.png",80,69),new ig.AnimationSheet("media/graphics/sprites/ui/gun_3.png",80,69),new ig.AnimationSheet("media/graphics/sprites/ui/gun_4.png",80,69)],platform:new ig.Image("media/graphics/sprites/ui/gun_platform.png"),avaImg:[new ig.Image("media/graphics/sprites/avatar/avatar_1.png"),
new ig.Image("media/graphics/sprites/avatar/avatar_2.png"),new ig.Image("media/graphics/sprites/avatar/avatar_3.png"),new ig.Image("media/graphics/sprites/avatar/avatar_4.png"),new ig.Image("media/graphics/sprites/avatar/avatar_5.png")],finger:new ig.Image("media/graphics/sprites/finger.png"),finger2:new ig.Image("media/graphics/sprites/finger2.png"),startAngle:[1.5708,1.5708,-1.5708,-1.5708],aimPos:null,newAngle:null,botFlag:!1,playerName:"",score:0,bulletStatus:0,avaIdx:0,netTextAlpha:1,rapidTextAlpha:1,
vortexTextAlpha:1,vortexShoot:!1,rapidClick:!1,lineLength:0,nameSize:1,fingerStatus:!1,fingerOffsetY:0,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.cannon[this.cannonId];this.addAnim("idle",1,[0],!0);this.currentAnim.pivot.x=35;this.currentAnim.pivot.y=0.5*this.size.y;this.currentAnim.angle=this.startAngle[d.cannonId];this.newAngle=this.currentAnim.angle;this.location=[{x:210,y:0},{x:ig.system.width-290,y:0},{x:210,y:ig.system.height-70},{x:ig.system.width-290,y:ig.system.height-70}];
this.pos=this.location[d.cannonId];this.offsetY=0==this.cannonId||1==this.cannonId?40:30;this.offsetX=this.size.x/2;ig.game.sortEntitiesDeferred()},showFinger:function(){this.cannonId==ig.game.playerIndex&&setTimeout(function(){this.fingerStatus=!1}.bind(this),5E3)},update:function(){this.parent();this.netText&&(this.netText.alpha=this.netTextAlpha);this.rapidText&&(this.rapidText.alpha=this.rapidTextAlpha);this.vortexText&&(this.vortexText.alpha=this.vortexTextAlpha);this.vortexShoot&&(this.bulletStatus=
3);this.updatePosAngle();this.botFlag&&(this.currentAnim.angle=this.newAngle)},setNewAngle:function(b){ig.game.pageHide||(this.botFlag=!0,this.tween({newAngle:b.angle},1.2,{easing:ig.Tween.Easing.Quadratic.EaseOut,onComplete:function(){}.bind(this)}).start())},updatePosAngle:function(){if(!ig.game.popupShow&&(!ig.game.endGameStatus&&this.parrent.pointer&&this.cannonId==ig.game.playerIndex)&&(ig.ua.mobile||(this.aimPos={x:this.parrent.pointer.pos.x,y:this.parrent.pointer.pos.y}),this.aimPos)){var b=
this.pos.x+this.currentAnim.pivot.x-this.aimPos.x,c=this.pos.y+this.currentAnim.pivot.y-this.aimPos.y;this.lineLength=Math.sqrt(b*b+c*c)+50;b=Math.atan2(-c,-b);this.currentAnim.angle=b;ig.game.network_game.sendCannonAngle({angle:b})}},playerAtt:function(b){this.avaIdx=b.avaIndex;this.playerName=b.botFlag?b.playerName2:b.playerName},drawName:function(){var b=ig.system.context;if(0==this.cannonId||1==this.cannonId){b.translate(this.pos.x+190,this.pos.y+45);b.rotate(3.14159);b.drawImage(this.platform.data,
0,0,300,49);b.rotate(-3.14159);b.translate(-this.pos.x-190,-this.pos.y-45);var c=this.pos.y+25}else b.drawImage(this.platform.data,0,0,300,49,this.pos.x-110,this.pos.y+25,300,49),c=this.pos.y+60;this.cannonId==ig.game.playerIndex?(b.font=22*this.nameSize+"px Trans",b.textAlign="center",b.lineWidth=1,b.fillStyle="rgba(252,137,29,1)",b.strokeStyle="rgba(251,216,54,1)",b.strokeText(this.playerName,this.pos.x-45,c),b.fillText(this.playerName,this.pos.x-45,c),0==this.cannonId||1==this.cannonId?this.fingerStatus&&
b.drawImage(this.finger.data,0,0,this.finger.width,this.finger.height,this.pos.x-80,this.pos.y+60+this.fingerOffsetY,0.9*this.finger.width,0.7*this.finger.height):this.fingerStatus&&b.drawImage(this.finger2.data,0,0,this.finger2.width,this.finger2.height,this.pos.x-80,this.pos.y-100+this.fingerOffsetY,0.9*this.finger2.width,0.7*this.finger2.height)):(b.font="22px Trans",b.textAlign="center",b.fillStyle="rgba(255,255,255,1)",b.fillText(this.playerName,this.pos.x-45,c));this.cannonId==ig.game.playerIndex?
(b.font="22px Trans",b.textAlign="center",b.lineWidth=1,b.fillStyle="rgba(252,137,29,1)",b.strokeStyle="rgba(251,216,54,1)",b.strokeText(this.score,this.pos.x+this.size.x+45,c)):(b.font="22px Trans",b.textAlign="center",b.fillStyle="rgba(255,255,255,1)");b.fillText(this.score,this.pos.x+this.size.x+45,c)},drawAva:function(){ig.system.context.drawImage(this.avaImg[this.avaIdx].data,0,0,128,128,this.pos.x+this.currentAnim.pivot.x-23,this.pos.y+this.currentAnim.pivot.y-23,46,46)},draw:function(){this.drawName();
this.drawShootBar();this.aimPos&&0<this.lineLength&&this.drawAim();this.parent();this.drawAva()},drawAim:function(){var b=ig.system.context,c=this.pos.x+this.currentAnim.pivot.x,d=this.pos.y+this.currentAnim.pivot.y,e=this.lineLength*Math.cos(this.currentAnim.angle),f=-this.lineLength*Math.sin(this.currentAnim.angle),e=c+e,f=d-f;b.strokeStyle="rgba(255,255,255,1)";b.lineWidth=1;b.beginPath();b.moveTo(c,d);b.lineTo(e,f);b.stroke()},drawShootBar:function(){var b=ig.system.context;this.cannonId==ig.game.playerIndex&&
(0==this.cannonId||1==this.cannonId?(b.fillStyle="rgba(100,100,100,1)",b.fillRect(this.pos.x-60,this.pos.y+34,80,6),b.fillRect(this.pos.x+55,this.pos.y+34,80,6),b.fillStyle="rgba(153,255,54,1)",b.fillRect(this.pos.x-60+(80-80*this.hitArea.pauseClickTimeLeft),this.pos.y+34,80*this.hitArea.pauseClickTimeLeft,6),b.fillRect(this.pos.x+55,this.pos.y+34,80*this.hitArea.pauseClickTimeLeft,6)):(b.fillStyle="rgba(100,100,100,1)",b.fillRect(this.pos.x-60,this.pos.y+30,80,6),b.fillRect(this.pos.x+55,this.pos.y+
30,80,6),b.fillStyle="rgba(153,255,54,1)",b.fillRect(this.pos.x-60+(80-80*this.hitArea.pauseClickTimeLeft),this.pos.y+30,80*this.hitArea.pauseClickTimeLeft,6),b.fillRect(this.pos.x+55,this.pos.y+30,80*this.hitArea.pauseClickTimeLeft,6)))},shoot:function(){if(!(ig.game.showVortex&&3==this.bulletStatus))if(4==this.bulletStatus){if(!this.rapidClick){this.rapidClick=!0;for(var b=1;5>=b;b++)setTimeout(function(){var b=this.pos.x+this.currentAnim.pivot.x-21,c=this.pos.y+this.currentAnim.pivot.y-17,d={x:this.parrent.pointer.pos.x-
21,y:this.parrent.pointer.pos.y-17};ig.game.spawnEntity(EntityBullet,b,c,{parrent:this,zIndex:this.zIndex+1,targetpos:d,posx:b,posy:c,bulletColor:this.bulletColor,playerStatus:!0,cannonId:this.cannonId,bulletStatus:4});ig.game.network_game.sendBullet({posx:b,posy:c,zIndex:this.zIndex+1,targetpos:d,bulletStatus:this.bulletStatus});ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.shoot)}.bind(this),150*b);setTimeout(function(){this.rapidClick=!1}.bind(this),1600)}}else{var b=this.pos.x+
this.currentAnim.pivot.x-21,c=this.pos.y+this.currentAnim.pivot.y-17,d={x:this.parrent.pointer.pos.x-21,y:this.parrent.pointer.pos.y-17};ig.game.spawnEntity(EntityBullet,b,c,{parrent:this,zIndex:this.zIndex+1,targetpos:d,posx:b,posy:c,bulletColor:this.bulletColor,playerStatus:!0,cannonId:this.cannonId,bulletStatus:this.bulletStatus});ig.game.network_game.sendBullet({posx:b,posy:c,zIndex:this.zIndex+1,targetpos:d,bulletStatus:this.bulletStatus});ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.shoot)}},
shootBot:function(b){if(!(ig.game.showVortex&&3==this.bulletStatus)&&!this.pausShoot)if(4==this.bulletStatus){if(!this.rapidClick){this.rapidClick=!0;for(var c=1;5>=c;c++)setTimeout(function(){var c=this.pos.x+this.currentAnim.pivot.x-21,d=this.pos.y+this.currentAnim.pivot.y-17;ig.game.spawnEntity(EntityBullet,c,d,{parrent:this,zIndex:this.zIndex+1,angle:this.currentAnim.angle,diffx:1,posx:c,posy:d,bulletColor:b.bulletColor,playerStatus:!1,cannonId:this.cannonId,bulletStatus:4})}.bind(this),150*c);
setTimeout(function(){this.rapidClick=!1}.bind(this),1600)}}else{var c=this.pos.x+this.currentAnim.pivot.x-21,d=this.pos.y+this.currentAnim.pivot.y-17;ig.game.spawnEntity(EntityBullet,c,d,{parrent:this,zIndex:this.zIndex+1,angle:this.currentAnim.angle,diffx:1,posx:c,posy:d,bulletColor:b.bulletColor,playerStatus:!1,cannonId:this.cannonId,bulletStatus:this.bulletStatus})}},checkRapidText:function(){for(var b=!1,c=ig.game.getEntitiesByType(EntityRapidText),d=0;d<=c.length-1;d++)this.cannonId==c[d].cannonId&&
(b=!0);return b},killRapidText:function(){for(var b=ig.game.getEntitiesByType(EntityRapidText),c=0;c<=b.length-1;c++)this.cannonId==b[c].cannonId&&b[c].kill();this.rapidText=null},checkNetText:function(){for(var b=!1,c=ig.game.getEntitiesByType(EntityNextText),d=0;d<=c.length-1;d++)this.cannonId==c[d].cannonId&&(b=!0);return b},killNetText:function(){for(var b=ig.game.getEntitiesByType(EntityNextText),c=0;c<=b.length-1;c++)this.cannonId==b[c].cannonId&&b[c].kill();this.netText=null},checkVortexText:function(){for(var b=
!1,c=ig.game.getEntitiesByType(EntityVortexText),d=0;d<=c.length-1;d++)this.cannonId==c[d].cannonId&&(b=!0);return b},killVortexText:function(){for(var b=ig.game.getEntitiesByType(EntityVortexText),c=0;c<=b.length-1;c++)this.cannonId==b[c].cannonId&&b[c].kill();this.vortexText=null},showRapidText:function(){!this.vortexText&&!this.checkRapidText()&&(this.killNetText(),this.rapidText=ig.game.spawnEntity(EntityRapidText,this.pos.x+this.offsetX,this.pos.y+this.offsetY,{zIndex:this.zIndex+10,cannonId:this.cannonId,
parrent:this}),this.bulletStatus=4,ig.game.showVortex||ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.nettext),this.tween({rapidTextAlpha:0.4},10,{easing:ig.Tween.Easing.Quadratic.EaseOut,onComplete:function(){this.rapidText&&this.rapidText.kill();this.killRapidText();this.netText=null;this.rapidTextAlpha=1;this.bulletStatus=0;ig.game.sortEntitiesDeferred()}.bind(this)}).start())},showNetText:function(){!this.vortexText&&!this.checkNetText()&&(this.killRapidText(),this.netText=
ig.game.spawnEntity(EntityNextText,this.pos.x+this.offsetX,this.pos.y+this.offsetY,{zIndex:this.zIndex+10,cannonId:this.cannonId,parrent:this}),this.bulletStatus=1,ig.game.showVortex||ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.nettext),this.tween({netTextAlpha:0.4},10,{easing:ig.Tween.Easing.Quadratic.EaseOut,onComplete:function(){this.netText&&this.netText.kill();this.killNetText();this.netText=null;this.netTextAlpha=1;this.bulletStatus=0;ig.game.sortEntitiesDeferred()}.bind(this)}).start())},
pausShoot:!1,delay:0,showVortexText:function(){this.killRapidText();this.killNetText();this.checkVortexText()||(this.vortexText=ig.game.spawnEntity(EntityVortexText,this.pos.x+this.offsetX,this.pos.y+this.offsetY,{zIndex:this.zIndex+10,cannonId:this.cannonId,parrent:this}),ig.game.showVortex||ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.nettext),this.bulletStatus=3,this.vortexShoot=!0,ig.game.sortEntitiesDeferred(),this.tween({vortexTextAlpha:0.4},5,{easing:ig.Tween.Easing.Quadratic.EaseOut,
onComplete:function(){this.vortexText&&this.vortexText.kill();this.vortexText=null;this.netTextAlpha=1;this.bulletStatus=0;this.vortexShoot=!1;ig.game.sortEntitiesDeferred()}.bind(this)}).start())}});EntityBullet=ig.Entity.extend({size:{x:42,y:34},type:ig.Entity.TYPE.B,consX:1,consY:1,collitionStatus:!1,explodeSize:0,bulletImg:[new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_1.png",42,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_2.png",42,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_3.png",
42,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_4.png",42,34)],bulletShiny:[new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_1_shiny.png",50,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_2_shiny.png",50,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_3_shiny.png",50,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_4_shiny.png",50,34)],bulletExplosion:[new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_1_explosion.png",
44,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_2_explosion.png",44,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_3_explosion.png",44,34),new ig.AnimationSheet("media/graphics/sprites/bullet/bullet_4_explosion.png",44,34)],explodeImg:[new ig.Image("media/graphics/sprites/explosion/explosion_1.png"),new ig.Image("media/graphics/sprites/explosion/explosion_2.png"),new ig.Image("media/graphics/sprites/explosion/explosion_3.png"),new ig.Image("media/graphics/sprites/explosion/explosion_4.png"),
new ig.Image("media/graphics/sprites/explosion/explosion_5.png"),new ig.Image("media/graphics/sprites/explosion/explosion_6.png"),new ig.Image("media/graphics/sprites/explosion/explosion_7.png"),new ig.Image("media/graphics/sprites/explosion/explosion_8.png"),new ig.Image("media/graphics/sprites/explosion/explosion_9.png"),new ig.Image("media/graphics/sprites/explosion/explosion_10.png")],netImg:[[new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_1.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_2.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_3.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_4.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_1_expanding/net_1_expanding_5.png")],[new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_1.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_2.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_3.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_4.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_2_expanding/net_2_expanding_5.png")],[new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_1.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_2.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_3.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_4.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_3_expanding/net_3_expanding_5.png")],[new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_1.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_2.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_3.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_4.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),
new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png"),new ig.Image("media/graphics/sprites/net_expanding/net_4_expanding/net_4_expanding_5.png")]],turret:[new ig.Image("media/graphics/sprites/turret/turret_flash_1.png"),new ig.Image("media/graphics/sprites/turret/turret_flash_2.png"),
new ig.Image("media/graphics/sprites/turret/turret_flash_3.png"),new ig.Image("media/graphics/sprites/turret/turret_flash_4.png"),new ig.Image("media/graphics/sprites/turret/turret_flash_5.png")],vortex:new ig.Image("media/graphics/sprites/vortex.png"),explodeStatus:!0,goExplode:!1,goExplotion:!1,goNetExplode:!1,explodePos:null,explodeIndex:0,countCheck:0,bulletColor:"#000000",transitionTime:0.05,transitionTime2:0.08,fishTarget:null,vortexShow:!1,vortexAngle:0,init:function(b,c,d){this.parent(b,c,
d);b=900;c=4;d=ig.Tween.Easing.Quadratic.EaseOut;1==this.bulletStatus?this.animSheet=this.bulletImg[this.cannonId]:2==this.bulletStatus?this.animSheet=this.bulletExplosion[this.cannonId]:3==this.bulletStatus?(ig.game.showVortex=!0,this.animSheet=this.bulletImg[this.cannonId],b=300,c=1,d=ig.Tween.Easing.Linear.EaseNone):this.animSheet=this.bulletImg[this.cannonId];this.addAnim("idle",1,[0],!0);this.addAnim("none",1,[1],!0);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=this.size.x/2;this.currentAnim.pivot.y=
this.size.y/2;this.attackTimer2=new ig.Timer;if(this.playerStatus){this.diffx=this.targetpos.x-this.pos.x;this.diffy=this.targetpos.y-this.pos.y;var e=Math.sqrt(this.diffx*this.diffx+this.diffy*this.diffy);this.angle=Math.asin(this.diffy/e);this.currentAnim.angle=0>this.diffx?-this.angle+3.14159:this.angle;this.radius=60}else this.currentAnim.angle=this.angle,this.radius=45;this.tween({radius:b},c,{easing:d,onComplete:function(){3==this.bulletStatus?this.startVortex():this.kill()}.bind(this)}).start();
ig.game.sortEntitiesDeferred()},startVortex:function(){this.delay=0;this.vortex=ig.game.spawnEntity(EntityVortex,this.pos.x,this.pos.y,{parrent:this,zIndex:this.zIndex-100,cannonId:this.cannonId});this.currentAnim=this.anims.none;this.tween({delay:1},3,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){ig.game.showVortex=!1;this.vortex.kill();this.kill()}.bind(this)}).start()},satChecking:function(){var b=new ig.SAT.Circle({x:this.pos.x+this.size.x/2,y:this.pos.y+this.size.y/2},this.size.x/
2),c=ig.game.getEntitiesByType(EntityClownFish),d=!1;this.collitionStatus=!1;for(var e=0;e<=c.length-1;e++){var f=c[e];if(f.cornerpos&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityLobster);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++)if(f=c[e],f.cornerpos&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos)))if((d=ig.game.sat.simpleShapeIntersect(d,
b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);c=ig.game.getEntitiesByType(EntityFugu);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++)if(f=c[e],f.cornerpos&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);c=ig.game.getEntitiesByType(EntityLionfish);this.collitionStatus=!1;for(e=0;e<=
c.length-1;e++)if(f=c[e],f.cornerpos&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);c=ig.game.getEntitiesByType(EntityTurtle);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=
!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityTuna);
this.collitionStatus=!1;for(e=0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&
!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityManta);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);
if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityShark);this.collitionStatus=!1;for(e=
0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=
ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityOrca);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=
ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos4&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos4)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=
10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f)}c=ig.game.getEntitiesByType(EntityWhale);this.collitionStatus=!1;for(e=0;e<=c.length-1;e++){f=c[e];if(f.cornerpos1&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos1)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos2&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos2)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&
0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos3&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos3)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,this.goexplode(f);if(f.cornerpos4&&!f.killed&&(d=new ig.SAT.Shape(f.cornerpos4)))if((d=ig.game.sat.simpleShapeIntersect(d,b))&&this.explodeStatus&&0<f.health)f.health-=10,this.explodeStatus=!1,this.collitionStatus=d,
this.goexplode(f)}},goexplode:function(b){this.explodeIndex3=this.explodeIndex=0;this.attackTimer=new ig.Timer;this.currentAnim=this.anims.none;1==this.bulletStatus?(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.bomb),b.pauseTweens(),this.explodePos={x:b.newCenter.x-60,y:b.newCenter.y-60},this.goNetExplode=!0,this.fishTarget=b,this.addScore(this.fishTarget.health),this.fishTarget.health=0,this.explodePos3={x:b.newCenter.x-100,y:b.newCenter.y-100},this.goExplotion3=!0):(2==this.bulletStatus?
(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.bomb),this.explodePos={x:this.pos.x,y:this.pos.y},this.goExplotion=!0,b.setHit(this.cannonId)):0==this.bulletStatus||4==this.bulletStatus?(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.net),0>=b.health&&b.pauseTweens(),this.explodePos={x:b.newCenter.x-60,y:b.newCenter.y-60},this.goNetExplode=!0,this.fishTarget=b):(this.explodePos={x:this.pos.x,y:this.pos.y},this.goExplode=!0,ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.hit1),
b.setHit(this.cannonId)),this.addScore(10))},addScore:function(b){ig.game.endGameStatus||(ig.game.spawnEntity(EntityCoinScore,this.explodePos.x+40,this.explodePos.y+40,{zIndex:1005,parrent:this,name:"",bottarget:this.cannonId,killstatus:""}),ig.game.network_game.addScore({cannonId:this.cannonId,score:b,coinpos:this.pos}))},startBullet:!0,explodeIndex2:0,explodeIndex3:0,update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffx&&(b=-b);this.pos.x=
this.posx+b;this.pos.y=this.posy-c;b=50*Math.cos(this.angle);c=-50*Math.sin(this.angle);0>this.diffx&&(b=-b);this.firstposx=this.posx+b+20;this.firstposy=this.posy-c+20;this.countCheck+=1;10==this.countCheck&&3!=this.bulletStatus&&(this.countCheck=0,this.satChecking());this.goExplode&&this.explodeSequence();this.goExplotion&&this.explotionSequence();this.goNetExplode&&this.explodeNetSequence();this.startBullet&&this.startBulletSequence();this.size=1==this.bulletStatus?{x:50,y:34}:2==this.bulletStatus?
{x:44,y:34}:{x:42,y:34}},explotionSequence:function(){this.attackTimer&&this.attackTimer.delta()>this.transitionTime&&(this.explodeIndex+=1,this.attackTimer.reset(),9==this.explodeIndex&&this.kill())},explodeSequence:function(){this.attackTimer&&this.attackTimer.delta()>this.transitionTime&&(this.explodeIndex+=1,this.attackTimer.reset(),4==this.explodeIndex&&this.kill())},explodeNetSequence:function(){this.attackTimer&&this.attackTimer.delta()>this.transitionTime2&&(this.explodeIndex+=1,this.explodeIndex3+=
1,this.attackTimer.reset(),14==this.explodeIndex&&(this.fishTarget.setHit(),this.kill()),8<=this.explodeIndex3&&(this.explodeIndex3=0,this.goExplotion3=!1))},startBulletSequence:function(){this.attackTimer2&&this.attackTimer2.delta()>this.transitionTime&&(this.explodeIndex2+=1,this.attackTimer2.reset(),4==this.explodeIndex2&&(this.startBullet=!1))},draw:function(){this.parent();var b=ig.system.context;this.goExplotion&&b.drawImage(this.explodeImg[this.explodeIndex].data,0,0,210,209,this.explodePos.x-
95,this.explodePos.y-95,210,209);this.goExplode&&b.drawImage(this.explodeImg[this.explodeIndex].data,0,0,210,209,this.explodePos.x-95,this.explodePos.y-95,210,209);this.goNetExplode&&b.drawImage(this.netImg[this.cannonId][this.explodeIndex].data,0,0,210,209,this.explodePos.x,this.explodePos.y,150,150);this.goExplotion3&&b.drawImage(this.explodeImg[this.explodeIndex3].data,0,0,210,209,this.explodePos3.x-20,this.explodePos3.y-20,210,209);this.startBullet&&b.drawImage(this.turret[this.explodeIndex2].data,
0,0,145,143,this.firstposx-75,this.firstposy-100,150,200)}});EntityVortex=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.A,vortex:new ig.Image("media/graphics/sprites/vortex.png"),vortexAngle:0,sizeScale:0.2,timeleft:3,init:function(b,c,d){this.parent(b,c,d);ig.game.sortEntitiesDeferred();ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.vortex);this.rotateVortex();this.tween({sizeScale:1},1,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){}.bind(this)}).start();
this.tween({timeleft:0},3,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){}.bind(this)}).start();this.pullFish();this.pullAgain()},pullAgain:function(){setTimeout(function(){this.pullFish();this.pullAgain()}.bind(this),300)},pullFish:function(){for(var b=ig.game.getEntitiesByType(EntityClownFish),c=0;c<=b.length-1;c++){var d=b[c];d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft)}b=ig.game.getEntitiesByType(EntityFugu);for(c=0;c<=b.length-1;c++)d=
b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityLionfish);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityLobster);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityManta);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||
d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityOrca);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityShark);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityTuna);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,
y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityTurtle);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft);b=ig.game.getEntitiesByType(EntityWhale);for(c=0;c<=b.length-1;c++)d=b[c],d.vortex||d.pulledVortex({x:this.pos.x,y:this.pos.y},this.cannonId,this,this.timeleft)},update:function(){this.parent()},rotateVortex:function(){this.vortexAngle=0;this.tween({vortexAngle:6.28318},1,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.rotateVortex()}.bind(this)}).start()},draw:function(){this.parent();var b=ig.system.context,c=450*this.sizeScale,d=450*this.sizeScale,e=this.pos.x,f=this.pos.y;b.translate(e,f);b.rotate(this.vortexAngle);b.drawImage(this.vortex.data,-c/2,-d/2,c,d);b.rotate(-this.vortexAngle);b.translate(-e,-f)}})});ig.baked=!0;
ig.module("game.entities.fish.clownfish").requires("impact.entity").defines(function(){EntityClownFish=ig.Entity.extend({size:{x:57,y:41},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/clownfish.png",57,41)],aimPos:null,radius:10,diffx:1,diffy:-1,cornerpos:[],fishcorner:[[{x:32.0415224913495,y:4.636678200692046},{x:51.972318339100354,y:13.771626297577853},{x:52.802768166089976,y:28.71972318339101},{x:32.0415224913495,y:36.193771626297575},{x:8.788927335640139,y:25.397923875432525},
{x:8.788927335640139,y:14.602076124567475},{x:32.0415224913495,y:4.636678200692046}]],health:10,value:10,vortexX:0,vortexY:0,cannonId:null,vortex:null,killed:!1,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.09,[0,1,2,3],!1);this.addAnim("blink",0.1,[0,4],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y};this.posx=this.pos.x;
this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.5*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter=
{x:0.5*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;
this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.vortex?(this.pos.x=this.vortexX,this.pos.y=
this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos=[];for(b=0;b<this.fishcorner[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y);
this.cornerpos.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};
if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(this.vortex.parrent.cannonId),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.lobster").requires("impact.entity").defines(function(){EntityLobster=ig.Entity.extend({size:{x:100,y:74},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/lobster.png",100,74)],aimPos:null,radius:10,diffx:1,diffy:-1,cornerpos:[],fishcorner:[[{x:14.602076124567475,y:33.70242214532874},{x:27.058823529411768,y:7.9584775086505175},{x:97.64705882352942,y:9.61937716262976},{x:95.15570934256056,y:68.58131487889275},{x:19.58477508650519,y:66.92041522491351},
{x:17.09342560553634,y:45.32871972318341},{x:14.602076124567475,y:33.70242214532874}]],health:20,value:20,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.08,[0,1,2,3,4,5,6,7],!1);this.addAnim("blink",0.1,[0,8],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y};this.posx=this.pos.x;
this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.5*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter=
{x:0.5*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;
this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.vortex?(this.pos.x=this.vortexX,this.pos.y=
this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos=[];for(b=0;b<this.fishcorner[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y);
this.cornerpos.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};
if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.fugu").requires("impact.entity").defines(function(){EntityFugu=ig.Entity.extend({size:{x:103,y:107},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/fugu.png",103,107)],aimPos:null,radius:10,diffx:1,diffy:-1,cornerpos:[],fishcorner:[[{x:22.076124567474054,y:46.989619377162626},{x:73.56401384083046,y:9.61937716262976},{x:100.9688581314879,y:37.0242214532872},{x:100.9688581314879,y:74.39446366782008},{x:76.88581314878894,y:98.47750865051904},
{x:22.076124567474054,y:62.768166089965405},{x:22.076124567474054,y:46.989619377162626}]],health:30,value:30,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.08,[0,1,2,3,4,5,6,7],!1);this.addAnim("blink",0.1,[0,8],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y};this.posx=this.pos.x;
this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.5*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter=
{x:0.5*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;
this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.vortex?(this.pos.x=this.vortexX,this.pos.y=
this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos=[];for(b=0;b<this.fishcorner[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y);
this.cornerpos.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};
if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.lionfish").requires("impact.entity").defines(function(){EntityLionfish=ig.Entity.extend({size:{x:106,y:94},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/lionfish.png",106,94)],aimPos:null,radius:10,diffx:1,diffy:-1,cornerpos:[],fishcorner:[[{x:18.549222797927456,y:35.129533678756474},{x:74.92227979274611,y:6.113989637305693},{x:104.76683937823833,y:11.088082901554401},{x:103.10880829015542,y:87.35751295336786},{x:74.09326424870466,
y:89.84455958549222},{x:20.207253886010363,y:66.6321243523316},{x:18.549222797927456,y:35.129533678756474}]],health:30,value:30,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.08,[0,1,2,3,4,5,6,7,8],!1);this.addAnim("blink",0.1,[0,9],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y};
this.posx=this.pos.x;this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.5*this.size.x,this.currentAnim.pivot.y=0.5*
this.size.y,this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=
this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.vortex?
(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos=[];for(b=0;b<this.fishcorner[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner[this.animidx][b].y-
this.currentAnim.pivot.y);this.cornerpos.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,
y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.turtle").requires("impact.entity").defines(function(){EntityTurtle=ig.Entity.extend({size:{x:145,y:180},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/turtle.png",145,180)],aimPos:null,radius:10,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],fishcorner1:[[{x:112.71828665568367,y:69.22570016474464},{x:143.55848434925863,y:77.92421746293243},{x:142.76771004942339,
y:100.85667215815485},{x:114.2998352553542,y:109.55518945634265},{x:112.71828665568367,y:69.22570016474464}]],fishcorner2:[[{x:81.08731466227346,y:6.754530477759474},{x:99.27512355848435,y:8.336079077429972},{x:109.55518945634265,y:70.01647446457989},{x:104.01976935749587,y:156.2108731466227},{x:89.78583196046128,y:173.60790774299835},{x:74.76112026359144,y:173.60790774299835},{x:81.08731466227346,y:6.754530477759474}]],fishcorner3:[[{x:72.38879736408566,y:55.78253706754529},{x:23.36079077429983,
y:47.084019769357496},{x:24.15156507413508,y:139.60461285008236},{x:73.17957166392091,y:122.20757825370674},{x:72.38879736408566,y:55.78253706754529}]],health:50,value:50,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.08,[0,1,2,3,4,5,6,7],!1);this.addAnim("blink",0.1,[0,8],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=
this.pos.x;this.posy=this.pos.y;this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y};this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.currentAnim.pivot.x=0.5*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=
0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.7,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.5*this.size.x,this.currentAnim.pivot.y=
0.5*this.size.y,this.fishCenter={x:0.5*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=
this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=
0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+
Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*
(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-
this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*
(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},
this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.tuna").requires("impact.entity").defines(function(){EntityTuna=ig.Entity.extend({size:{x:151,y:94},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/tuna.png",151,94)],aimPos:null,radius:10,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],fishcorner1:[[{x:112.71828665568367,y:29.686985172981878},{x:148.30313014827016,y:39.9670510708402},{x:149.09390444810543,y:54.99176276771004},
{x:115.8813838550247,y:63.69028006589784},{x:112.71828665568367,y:29.686985172981878}]],fishcorner2:[[{x:112.71828665568367,y:32.8500823723229},{x:85.83196046128501,y:2.8006589785831864},{x:87.4135090609555,y:89.78583196046128},{x:111.92751235584842,y:61.31795716639209},{x:112.71828665568367,y:32.8500823723229}]],fishcorner3:[[{x:85.04118616144976,y:32.8500823723229},{x:10.708401976935747,y:36.013179571663926},{x:23.36079077429983,y:56.57331136738054},{x:89.78583196046128,y:61.31795716639209},{x:85.04118616144976,
y:32.8500823723229}]],health:40,value:40,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.06,[0,1,2,3,4,5,6,7],!1);this.addAnim("blink",0.1,[0,8],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y};this.currentAnim.angle=0>this.diffy?
-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.75*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,
setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+
c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=
this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);
this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*
(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-
this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-
this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.manta").requires("impact.entity").defines(function(){EntityManta=ig.Entity.extend({size:{x:153,y:140},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/manta.png",153,140)],aimPos:null,radius:10,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],fishcorner1:[[{x:135.05358615004124,y:6.051112943116252},{x:150.09068425391592,y:59.86809563066777},{x:150.09068425391592,
y:81.23660346248971},{x:135.05358615004124,y:134.26215993404784},{x:125.55647155812039,y:134.26215993404784},{x:125.55647155812039,y:5.2596867271228405},{x:135.05358615004124,y:6.051112943116252}]],fishcorner2:[[{x:122.39076669414675,y:19.505358615004127},{x:63.82522671063481,y:65.4080791426216},{x:65.4080791426216,y:76.48804616652927},{x:123.18219291014017,y:120.80791426215995},{x:122.39076669414675,y:19.505358615004127}]],fishcorner3:[[{x:73.32234130255566,y:58.28524319868097},{x:10.008244023083279,
y:66.19950535861503},{x:10.008244023083279,y:71.73948887056886},{x:71.73948887056886,y:79.65375103050289},{x:73.32234130255566,y:58.28524319868097}]],health:40,value:40,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.07,[0,1,2,3,4,5],!1);this.addAnim("blink",0.1,[0,6],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=
this.pos.x;this.posy=this.pos.y;this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y};this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=
0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.75*this.size.x,this.currentAnim.pivot.y=
0.5*this.size.y,this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=
this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=
0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+
Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*
(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-
this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*
(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},
this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.shark").requires("impact.entity").defines(function(){EntityShark=ig.Entity.extend({size:{x:173,y:110},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/shark.png",173,110)],aimPos:null,radius:10,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],fishcorner1:[[{x:138.21929101401486,y:36.91673536685903},{x:172.25061830173127,y:51.95383347073374},{x:172.25061830173127,
y:62.242374278647986},{x:137.42786479802146,y:78.0708985985161},{x:138.21929101401486,y:36.91673536685903}]],fishcorner2:[[{x:137.42786479802146,y:35.333882934872236},{x:119.22506183017313,y:2.8854080791426355},{x:117.64220939818634,y:108.14509480626546},{x:137.42786479802146,y:77.2794723825227},{x:137.42786479802146,y:35.333882934872236}]],fishcorner3:[[{x:115.26793075020612,y:38.49958779884585},{x:10.799670239076676,y:55.11953833470736},{x:113.6850783182193,y:75.69661995053588},{x:115.26793075020612,
y:38.49958779884585}]],health:50,value:50,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.06,[0,1,2,3,4,5,6,7],!1);this.addAnim("blink",0.1,[0,8],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y};this.currentAnim.angle=0>this.diffy?
-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.75*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,
setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+
c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=
this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);
this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*
(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-
this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-
this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.orca").requires("impact.entity").defines(function(){EntityOrca=ig.Entity.extend({size:{x:250,y:186},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/orca.png",250,186)],aimPos:null,radius:-100,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],cornerpos4:[],fishcorner1:[[{x:192.03627370156642,y:61.45094806265459},{x:248.2275350370981,y:84.40230832646333},{x:248.2275350370981,
y:105.77081615828527},{x:191.24484748557296,y:129.5136026380874},{x:192.03627370156642,y:61.45094806265459}]],fishcorner2:[[{x:160.3792250618302,y:6.051112943116252},{x:187.28771640560598,y:35.333882934872236},{x:184.91343775762573,y:158.00494641385},{x:158.00494641385,y:183.33058532563894},{x:160.3792250618302,y:6.051112943116252}]],fishcorner3:[[{x:155.63066776586976,y:63.03380049464141},{x:58.28524319868097,y:87.56801319043694},{x:59.07666941467437,y:102.60511129431163},{x:157.21352019785655,y:125.55647155812039},
{x:155.63066776586976,y:63.03380049464141}]],fishcorner4:[[{x:55.11953833470736,y:88.35943940643034},{x:26.62819455894477,y:37.708161582852455},{x:12.382522671063484,y:36.12530915086563},{x:14.756801319043703,y:153.25638911788954},{x:33.75103050288541,y:146.1335531739489},{x:55.910964550700754,y:101.81368507831823},{x:55.11953833470736,y:88.35943940643034}]],health:70,value:70,vortexX:0,vortexY:0,cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];
this.addAnim("idle",0.06,[0,1,2,3,4,5],!1);this.addAnim("blink",0.1,[0,6],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y};this.posx=this.pos.x;this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.7,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.tween({radius:this.lengthPath},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},
setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.75*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=
b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=
0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+
-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*
(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=
Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos4=
[];for(b=0;b<this.fishcorner4[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos4.push({x:this.pos.x+c+this.currentAnim.pivot.x,
y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>
this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.fish.whale").requires("impact.entity").defines(function(){EntityWhale=ig.Entity.extend({size:{x:320,y:225},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/whale.png",320,225)],aimPos:null,radius:-100,diffx:1,diffy:-1,turnAngle:[1.39626,-1.39626,1.18328,-1.18328,0.34563,-0.34563],cornerpos1:[],cornerpos2:[],cornerpos3:[],cornerpos4:[],fishcorner1:[[{x:231.608832807571,y:74.13249211356467},{x:317.1608832807571,y:104.41640378548897},{x:317.1608832807571,
y:125.61514195583598},{x:231.608832807571,y:153.62776025236593},{x:231.608832807571,y:74.13249211356467}]],fishcorner2:[[{x:230.85173501577287,y:74.88958990536278},{x:205.11041009463725,y:8.264984227129347},{x:186.94006309148267,y:6.750788643533127},{x:186.94006309148267,y:219.4952681388013},{x:213.43848580441642,y:208.13880126182966},{x:230.09463722397476,y:152.87066246056784},{x:230.85173501577287,y:74.88958990536278}]],fishcorner3:[[{x:186.94006309148267,y:80.18927444794954},{x:82.46056782334387,
y:108.95899053627761},{x:83.97476340694007,y:121.07255520504734},{x:188.45425867507885,y:148.3280757097792},{x:186.94006309148267,y:80.18927444794954}]],fishcorner4:[[{x:76.40378548895899,y:106.68769716088329},{x:37.79179810725552,y:55.205047318612},{x:15.835962145110415,y:54.447949526813886},{x:15.078864353312312,y:170.28391167192427},{x:37.79179810725552,y:168.01261829652998},{x:74.13249211356467,y:122.58675078864354},{x:76.40378548895899,y:106.68769716088329}]],health:100,value:100,vortexX:0,vortexY:0,
cannonId:null,vortex:null,init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[this.animidx];this.addAnim("idle",0.08,[0,1,2,3],!1);this.addAnim("blink",0.1,[0,4],!1);this.currentAnim=this.anims.idle;this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y};this.posx=this.pos.x;this.posy=this.pos.y;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.startMove();ig.game.sortEntitiesDeferred()},
startMove:function(){0>=this.health||this.tween({radius:this.lengthPath/2},this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.currentAnim.pivot.x=0.75*this.size.x;this.currentAnim.pivot.y=0.5*this.size.y;this.posx=this.pos.x;this.posy=this.pos.y;this.radius=10;this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.tween({angle:this.angle+this.turnAngle[this.turnIdx]},0.7,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.tween({radius:this.lengthPath},
this.time,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.kill()}.bind(this)}).start()}.bind(this)}).start()}.bind(this)}).start()},setHit:function(){0>=this.health&&(this.stopTweens(),this.killed=!0,this.currentAnim=this.anims.blink,this.currentAnim.pivot.x=0.75*this.size.x,this.currentAnim.pivot.y=0.5*this.size.y,this.fishCenter={x:0.75*this.size.x,y:0.5*this.size.y},this.currentAnim.angle=0>this.diffy?-this.angle:this.angle,setTimeout(function(){this.kill()}.bind(this),1E3))},
pulledVortex:function(b,c,d,e){if(this.newCenter&&!(300<Math.abs(this.newCenter.x-b.x)||300<Math.abs(this.newCenter.y-b.y))){var f=e/3;c=this.pos.x>=b.x?this.pos.x-b.x-(this.pos.x-b.x)*f:-(b.x-this.pos.x-(b.x-this.pos.x)*f);f=this.pos.y>=b.y?this.pos.y-b.y-(this.pos.y-b.y)*f:-(b.y-this.pos.y-(b.y-this.pos.y)*f);this.vortexX=this.pos.x;this.vortexY=this.pos.y;this.vortex=d;this.killBox={x:b.x-100,w:b.x+100,y:b.y-100,h:b.y+100};this.tween({vortexX:b.x+c,vortexY:b.y+f},e,{easing:ig.Tween.Easing.Linear.EaseNone,
onComplete:function(){this.stopTweens();this.radius=0;this.posx=this.pos.x;this.posy=this.pos.y;this.vortex=null;this.vortexY=this.vortexX=0;this.startMove()}.bind(this)}).start()}},update:function(){this.parent();var b=this.radius*Math.cos(this.angle),c=-this.radius*Math.sin(this.angle);0>this.diffy&&(c=-c);this.currentAnim.angle=0>this.diffy?-this.angle:this.angle;this.vortex?(this.pos.x=this.vortexX,this.pos.y=this.vortexY):(this.pos.x=this.posx+b,this.pos.y=this.posy-c);this.cornerpos1=[];for(b=
0;b<this.fishcorner1[this.animidx].length;b++){var c=Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner1[this.animidx][b].y-this.currentAnim.pivot.y);this.cornerpos1.push({x:this.pos.x+c+this.currentAnim.pivot.x,
y:this.pos.y+d+this.currentAnim.pivot.y})}this.cornerpos2=[];for(b=0;b<this.fishcorner2[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner2[this.animidx][b].y-this.currentAnim.pivot.y),
this.cornerpos2.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos3=[];for(b=0;b<this.fishcorner3[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner3[this.animidx][b].x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*
(this.fishcorner3[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos3.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});this.cornerpos4=[];for(b=0;b<this.fishcorner4[this.animidx].length;b++)c=Math.cos(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].y-this.currentAnim.pivot.y),d=Math.sin(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].x-
this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishcorner4[this.animidx][b].y-this.currentAnim.pivot.y),this.cornerpos4.push({x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y});c=Math.cos(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+-Math.sin(this.currentAnim.angle)*(this.fishCenter.y-this.currentAnim.pivot.y);d=Math.sin(this.currentAnim.angle)*(this.fishCenter.x-this.currentAnim.pivot.x)+Math.cos(this.currentAnim.angle)*(this.fishCenter.y-
this.currentAnim.pivot.y);this.newCenter={x:this.pos.x+c+this.currentAnim.pivot.x,y:this.pos.y+d+this.currentAnim.pivot.y};if((0!=this.vortexX||0!=this.vortexY)&&this.newCenter.x>this.killBox.x&&this.newCenter.x<this.killBox.w&&this.newCenter.y>this.killBox.y&&this.newCenter.y<this.killBox.h&&0<this.health)this.health-=10,this.setHit(),this.vortex.parrent.explodePos={x:this.newCenter.x,y:this.newCenter.y},this.vortex.parrent.addScore(10)},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.controller-fish").requires("impact.entity","game.entities.fish.clownfish","game.entities.fish.lobster","game.entities.fish.fugu","game.entities.fish.lionfish","game.entities.fish.turtle","game.entities.fish.tuna","game.entities.fish.manta","game.entities.fish.shark","game.entities.fish.orca","game.entities.fish.whale").defines(function(){EntityFishController=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,init:function(b,c,d){this.parent(b,c,d)},spawnFish:function(b){!(ig.game.pageHide&&
1==ig.game.network_game.userCount)&&!ig.game.endGameStatus&&(ig.game.spawnEntity(b.entity,b.posx,b.posy,{parrent:this,zIndex:this.zIndex+2,angle:b.angle,lengthPath:b.lengthPath,time:b.time,animidx:b.animidx,roomid:b.roomid,turnIdx:b.turnIdx,formation:b.formation}),ig.game.sortEntitiesDeferred())},update:function(){this.parent()},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.popup-result").requires("impact.entity").defines(function(){EntityPopupResult=ig.Entity.extend({size:{x:509,y:416},type:ig.Entity.TYPE.B,popupbg:new ig.Image("media/graphics/sprites/popup.png"),namebg0:new ig.Image("media/graphics/sprites/ui/player_display_0.png"),namebg1:new ig.Image("media/graphics/sprites/ui/player_display_1.png"),avaImg:[new ig.Image("media/graphics/sprites/avatar/avatar_1.png"),new ig.Image("media/graphics/sprites/avatar/avatar_2.png"),new ig.Image("media/graphics/sprites/avatar/avatar_3.png"),
new ig.Image("media/graphics/sprites/avatar/avatar_4.png"),new ig.Image("media/graphics/sprites/avatar/avatar_5.png")],rankPos:0,init:function(b,c,d){this.parent(b,c,d);this.posx=this.pos.x;this.posy=this.pos.y;ig.game.popupShow=!0;ig.game.endGameStatus=!0;ig.game.sortEntitiesDeferred();for(b=0;b<d.result.length;b++)ig.game.playerIndex==d.result[b].id&&(this.rankPos=b);this.home=ig.game.spawnEntity(EntityButtonHome,this.pos.x+225,this.pos.y+this.size.y-30,{parrent:this,zIndex:this.zIndex+150});ig.game.sortEntitiesDeferred();
this.tween({posy:ig.system.height/2-208},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,onComplete:function(){}.bind(this)}).start();ig.soundHandler.bgmPlayer.volume(0);ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.result);setTimeout(function(){ig.soundHandler.bgmPlayer.volume(ig.game.sessionData.music)}.bind(this),4E3)},ready:function(){},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy;this.home.posx=this.pos.x+225;this.home.posy=this.pos.y+this.size.y-
30},draw:function(){this.parent();var b=ig.system.context,c=ig.system.context;c.fillStyle="rgba(0,0,0,0.6)";ig.game.roundRect(c,0,0,ig.system.width,ig.system.height,0,!0,!1);this.popupbg.draw(this.pos.x,this.pos.y);if(this.result){c=ig.system.context.createLinearGradient(this.pos.x+this.size.x/2,this.pos.y+55,this.pos.x+this.size.x/2,this.pos.y+80);c.addColorStop(0,"rgba(172,255,40,1)");c.addColorStop(1,"rgba(253,255,45,1)");b.font="40px Trans";b.textAlign="center";b.strokeStyle="rgba(119,125,180,1)";
b.fillStyle=c;b.strokeText(_STRINGS.Game.ResultPlace[this.rankPos],this.pos.x+this.size.x/2,this.pos.y+75);b.fillText(_STRINGS.Game.ResultPlace[this.rankPos],this.pos.x+this.size.x/2,this.pos.y+75);for(c=0;3>=c;c++)c==this.rankPos?b.drawImage(this.namebg1.data,0,0,378,78,this.pos.x+66,this.pos.y+90+70*c,378,78):b.drawImage(this.namebg0.data,0,0,378,78,this.pos.x+66,this.pos.y+90+70*c,378,78),b.drawImage(this.avaImg[this.result[c].avaIdx].data,0,0,128,128,this.pos.x+90,this.pos.y+97+70*c,70,70),b.font=
"28px Trans",b.textAlign="left",b.fillStyle="rgba(255,255,255,1)",b.fillText(this.result[c].name,this.pos.x+160,this.pos.y+140+70*c),b.font="28px Trans",b.textAlign="right",b.fillStyle="rgba(255,255,255,1)",b.fillText(this.result[c].score,this.pos.x+400,this.pos.y+140+70*c)}}})});ig.baked=!0;
ig.module("game.entities.ready-go").requires("impact.entity").defines(function(){EntityReadyGo=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,readyPosX:-100,goPosX:-100,readyStatus:!1,goStatus:!1,init:function(b,c,d){this.parent(b,c,d);this.ready();ig.game.sortEntitiesDeferred()},ready:function(){ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.ready);this.readyStatus=!0;this.tween({readyPosX:480},0.75,{easing:ig.Tween.Easing.Exponential.EaseOut,onComplete:function(){this.tween({readyPosX:1060},
0.75,{easing:ig.Tween.Easing.Exponential.EaseIn,onComplete:function(){this.readyStatus=!1;this.go()}.bind(this)}).start()}.bind(this)}).start()},go:function(){ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.go);this.goStatus=!0;this.tween({goPosX:480},0.75,{easing:ig.Tween.Easing.Exponential.EaseOut,onComplete:function(){this.tween({goPosX:1060},0.75,{easing:ig.Tween.Easing.Exponential.EaseIn,onComplete:function(){this.goStatus=!1;ig.game.playState="play";for(var b=ig.game.getEntitiesByType(EntityCannon),
c=0;c<=b.length-1;c++)b[c].showFinger();this.kill()}.bind(this)}).start()}.bind(this)}).start()},update:function(){this.parent()},draw:function(){this.parent();var b=ig.system.context;b.lineWidth=4;var c=ig.system.context.createLinearGradient(this.readyPosX,ig.system.height/2-20,this.readyPosX,ig.system.height/2+10);c.addColorStop(0,"rgba(60,161,247,1)");c.addColorStop(1,"rgba(3,240,255,1)");this.readyStatus&&(b.font="76px Trans",b.textAlign="center",b.strokeStyle="rgba(255,255,255,1)",b.fillStyle=
c,b.strokeText(_STRINGS.Game.Ready,this.readyPosX,ig.system.height/2),b.fillText(_STRINGS.Game.Ready,this.readyPosX,ig.system.height/2));this.goStatus&&(b.font="76px Trans",b.textAlign="center",b.strokeStyle="rgba(255,255,255,1)",b.fillStyle=c,b.strokeText(_STRINGS.Game.Go,this.goPosX,ig.system.height/2),b.fillText(_STRINGS.Game.Go,this.goPosX,ig.system.height/2))}});EntityCountDown=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,readyStatus:!1,goStatus:!1,countScale:0,value:0,init:function(b,
c,d){this.parent(b,c,d);this.ready();this.countdown=[ig.soundHandler.sfxPlayer.soundList.c00,ig.soundHandler.sfxPlayer.soundList.c01,ig.soundHandler.sfxPlayer.soundList.c02,ig.soundHandler.sfxPlayer.soundList.c03,ig.soundHandler.sfxPlayer.soundList.c04,ig.soundHandler.sfxPlayer.soundList.c05,ig.soundHandler.sfxPlayer.soundList.c06,ig.soundHandler.sfxPlayer.soundList.c07,ig.soundHandler.sfxPlayer.soundList.c08,ig.soundHandler.sfxPlayer.soundList.c09,ig.soundHandler.sfxPlayer.soundList.c10];ig.game.sortEntitiesDeferred()},
count:function(b){this.value=b;this.readyStatus=!0;this.countScale=0;0!=b?ig.soundHandler.sfxPlayer.play(this.countdown[b]):(ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.timesup),this.value=_STRINGS.Game.TimesUp);this.tween({countScale:1},0.75,{easing:ig.Tween.Easing.Exponential.EaseOut,onComplete:function(){this.value===_STRINGS.Game.TimesUp?setTimeout(function(){this.countScale=0}.bind(this),750):this.countScale=0}.bind(this)}).start()},update:function(){this.parent()},draw:function(){this.parent();
var b=ig.system.context;b.lineWidth=4;if(this.readyStatus){var c=ig.system.context.createLinearGradient(ig.system.width/2,ig.system.height/2-30*this.countScale,ig.system.width/2,ig.system.height/2+10*this.countScale);c.addColorStop(0,"rgba(60,161,247,1)");c.addColorStop(1,"rgba(3,240,255,1)");b.font=120*this.countScale+"px Trans";b.textAlign="center";b.strokeStyle="rgba(255,255,255,1)";b.fillStyle=c;b.strokeText(this.value,ig.system.width/2,ig.system.height/2);b.fillText(this.value,ig.system.width/
2,ig.system.height/2)}}})});ig.baked=!0;
ig.module("game.entities.popup-setting").requires("impact.entity").defines(function(){EntityPopupSetting=ig.Entity.extend({size:{x:509,y:416},type:ig.Entity.TYPE.B,popupbg:new ig.Image("media/graphics/sprites/popup.png"),soundIcon:new ig.Image("media/graphics/sprites/ui/sound_icon.png"),musicIcon:new ig.Image("media/graphics/sprites/ui/music_icon.png"),slide0:new ig.Image("media/graphics/sprites/ui/slider_bar_0.png"),slide1:new ig.Image("media/graphics/sprites/ui/slider_bar_1.png"),key:"MJS-Game-Fishing-With-Friends-v1.0",
init:function(b,c,d){this.parent(b,c,d);ig.game.sortEntitiesDeferred();this.posx=this.pos.x;this.posy=this.pos.y;"ingame"==ig.game.gameState?(this.home=ig.game.spawnEntity(EntityButtonHome,this.pos.x+180,this.pos.y+this.size.y-90,{parrent:this,zIndex:this.zIndex+150}),this.continue=ig.game.spawnEntity(EntityContinue,this.pos.x+270,this.pos.y+this.size.y-90,{parrent:this,zIndex:this.zIndex+150})):this.home=ig.game.spawnEntity(EntityButtonHome,this.pos.x+220,this.pos.y+this.size.y-90,{parrent:this,
zIndex:this.zIndex+150});this.localStorage=ig.game.io.storage.get(ig.game.name+"-v"+ig.game.version);this.slider1=ig.game.spawnEntity(EntitySlider,this.pos.x+175,this.pos.y+145,{parrent:this,zIndex:this.zIndex+5,value:this.localStorage.sound});this.slider2=ig.game.spawnEntity(EntitySlider,this.pos.x+175,this.pos.y+222,{parrent:this,zIndex:this.zIndex+5,value:this.localStorage.music});this.tween({posy:ig.system.height/2-208},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,onComplete:function(){}.bind(this)}).start();
ig.game.popupShow=!0;this.parrent.textinput&&this.parrent.textinput.hide();this.parrent.btmoregames&&this.parrent.btmoregames.hide()},ready:function(){},update:function(){this.parent();this.pos.x=this.posx;this.pos.y=this.posy;"ingame"==ig.game.gameState?(this.home.posy=this.pos.y+this.size.y-100,this.continue.posy=this.pos.y+this.size.y-100):this.home.posy=this.pos.y+this.size.y-100;this.slider1.pos.y=this.pos.y+145;this.slider2.pos.y=this.pos.y+222;ig.soundHandler.bgmPlayer.volume(this.slider2.value);
ig.soundHandler.sfxPlayer.volume(this.slider1.value);ig.game.sessionData.sound=this.slider1.value;ig.game.sessionData.music=this.slider2.value},close:function(){this.home.kill();this.continue.kill();this.slider1.kill();this.slider2.kill();ig.game.endGameStatus&&this.showResult();this.parrent.textinput&&this.parrent.textinput.show();this.parrent.btmoregames&&this.parrent.btmoregames.show();this.kill()},showResult:function(){ig.game.gameTimer="00:00";for(var b=ig.game.getEntitiesByType(EntityCannon),
c=[],d=0;d<b.length;d++)c.push({score:b[d].score,name:b[d].playerName,id:d,avaIdx:b[d].avaIdx});c.sort(function(b,c){return c.score-b.score});ig.game.spawnEntity(EntityPopupResult,ig.system.width/2-255,ig.system.height/2-208,{zIndex:1E4,result:c})},draw:function(){this.parent();var b=ig.system.context,c=ig.system.context;c.fillStyle="rgba(0,0,0,0.6)";ig.game.roundRect(c,0,0,ig.system.width,ig.system.height,0,!0,!1);this.popupbg.draw(this.pos.x,this.pos.y);b.font="40px Trans";b.textAlign="center";
b.fillStyle="rgba(255,255,255,1)";b.fillText("SETTINGS",this.pos.x+this.size.x/2,this.pos.y+70);b.drawImage(this.soundIcon.data,0,0,52,43,this.pos.x+100,this.pos.y+140,52,43);b.drawImage(this.musicIcon.data,0,0,41,44,this.pos.x+100,this.pos.y+220,41,44);b.drawImage(this.slide0.data,0,0,200,15,this.pos.x+175,this.pos.y+153,200,15);b.drawImage(this.slide1.data,0,0,200*this.slider1.value,15,this.pos.x+175,this.pos.y+153,200*this.slider1.value,15);b.drawImage(this.slide0.data,0,0,200,15,this.pos.x+175,
this.pos.y+230,200,15);b.drawImage(this.slide1.data,0,0,200*this.slider2.value,15,this.pos.x+175,this.pos.y+230,200*this.slider2.value,15)}});EntitySlider=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:30,y:33},btimg:new ig.Image("media/graphics/sprites/ui/slider_knot.png"),min:415,max:590,cons:0,length:0,init:function(b,c,d){this.parent(b,c,d);this.posx=this.pos.x;this.posy=this.pos.y;this.length=this.max-this.min;this.cons=this.length/100;0<this.value&&(this.pos.x=this.value*
this.length+this.posx)},update:function(){this.parent();this.value=(this.pos.x-this.posx)/this.length;0>this.value&&(this.value=0)},draw:function(){this.parent();ig.system.context.drawImage(this.btimg.data,0,0,30,33,this.pos.x,this.pos.y,30,33)},clicked:function(){},clicking:function(){var b=ig.game.getEntitiesByType(EntityPointer)[0];b.pos.x>=this.min&&b.pos.x<=this.max&&(this.pos.x=b.pos.x-17)},released:function(){ig.soundHandler.sfxPlayer.play(ig.soundHandler.sfxPlayer.soundList.button1)}})});
ig.baked=!0;
ig.module("game.entities.controller-gameboard").requires("impact.entity","game.entities.buttons.button-home","game.entities.ui.cannon","game.entities.controller-fish","game.entities.popup-result","game.entities.ready-go","game.entities.popup-setting").defines(function(){EntityGameboardController=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,zIndex:1,playbg:new ig.Image("media/graphics/sprites/bg-gameplay.png"),timebg:new ig.Image("media/graphics/sprites/time_display.png"),cannon:[],showTimer:!0,
showCount:0,init:function(b,c,d){this.parent(b,c,d);this.pointer=ig.game.spawnEntity(EntityPointer,0,0,{parrent:this});ig.game.popupShow=!1;ig.game.gameState="ingame";this.spawnUI();ig.game.sortEntitiesDeferred()},spawnUI:function(){this.hitarea=ig.game.spawnEntity(EntityHitArea,0,0,{parrent:this,zIndex:this.zIndex+1E3});this.fishcontroller=ig.game.spawnEntity(EntityFishController,0,0,{parrent:this,zIndex:this.zIndex+1});this.btsetting=ig.game.spawnEntity(EntityButtonSetting,ig.system.width-65,5,
{parrent:this,zIndex:this.zIndex+1001});this.btfullscreen=ig.game.spawnEntity(ig.FullscreenButton,10,470,{enterImage:new ig.Image("media/graphics/sprites/ui/button_fullscreen_enter.png"),exitImage:new ig.Image("media/graphics/sprites/ui/button_fullscreen_exit.png")});ig.game.playState="ready";ig.game.spawnEntity(EntityReadyGo,10,10,{zIndex:this.zIndex+1500})},update:function(){this.parent();this.showCount+=1;20<=this.showCount&&(this.showCount=0,this.showTimer=this.showTimer?!1:!0)},draw:function(){this.parent();
var b=ig.system.context;this.playbg.draw(0,0);b.drawImage(this.timebg.data,0,0,96,46,5,5,96,46);b.font="20px Trans";b.textAlign="center";ig.game.gameTimerRed&&"00:00"!=ig.game.gameTimer?(b.fillStyle="rgba(255, 255, 43,1)",this.showTimer&&b.fillText(ig.game.gameTimer,70,33)):(b.fillStyle="rgba(255,255,255,1)",b.fillText(ig.game.gameTimer,70,33))}});EntityHitArea=ig.Entity.extend({size:{x:960,y:540},type:ig.Entity.TYPE.B,cannon:[],clickCount:0,vortexCount:0,pauseClick:!1,pauseClickTimeLeft:1,pauseDelay:0.7,
delay:0,leaveName:null,init:function(b,c,d){this.parent(b,c,d);for(b=ig.game.blueCoinCount=0;3>=b;b++)this.cannon.push(ig.game.spawnEntity(EntityCannon,0,0,{hitArea:this,parrent:this.parrent,cannonId:b,zIndex:this.zIndex+1,bulletColor:"#FFFFFF"}))},setCannonAngle:function(b){!ig.game.endGameStatus&&"ready"!=ig.game.playState&&(this.cannon[b.origin].currentAnim.angle=b.angle)},setCannonAngleBot:function(b){ig.game.endGameStatus||"ready"!=ig.game.playState&&this.cannon[b.origin].setNewAngle(b)},shootBot:function(b){if("ready"!=
ig.game.playState&&!ig.game.endGameStatus)try{this.cannon[b.origin].shootBot(b)}catch(c){}},setPlayerAttr:function(b){if(!ig.game.endGameStatus)for(var c=0;c<b.length;c++)this.cannon[c].playerAtt(b[c])},setScore:function(b){if("ready"!=ig.game.playState)for(var c=0;c<b.score.length;c++){this.cannon[c].score=b.score[c];if(ig.game.showVortex)break;0==this.cannon[c].score%130&&0<this.cannon[c].score?this.cannon[c].showNetText():0==this.cannon[c].score%270&&0<this.cannon[c].score?3!=this.cannon[c].bulletStatus&&
this.cannon[c].showRapidText():0==this.cannon[c].bulletStatus&&(this.cannon[c].killRapidText(),this.cannon[c].killNetText())}},clicked:function(){if(!this.pauseClick&&"ready"!=ig.game.playState&&(this.clickCount+=1,ig.ua.mobile&&!ig.game.endGameStatus)){this.aimPos={x:this.parrent.pointer.pos.x,y:this.parrent.pointer.pos.y};var b=Math.atan2(-(this.cannon[ig.game.playerIndex].pos.y+this.cannon[ig.game.playerIndex].currentAnim.pivot.y-this.aimPos.y),-(this.cannon[ig.game.playerIndex].pos.x+this.cannon[ig.game.playerIndex].currentAnim.pivot.x-
this.aimPos.x));this.cannon[ig.game.playerIndex].currentAnim.angle=b;ig.game.network_game.sendCannonAngle({angle:b})}},clicking:function(){if(!this.pauseClick&&"ready"!=ig.game.playState&&ig.ua.mobile&&!ig.game.endGameStatus){this.aimPos={x:this.parrent.pointer.pos.x,y:this.parrent.pointer.pos.y};var b=Math.atan2(-(this.cannon[ig.game.playerIndex].pos.y+this.cannon[ig.game.playerIndex].currentAnim.pivot.y-this.aimPos.y),-(this.cannon[ig.game.playerIndex].pos.x+this.cannon[ig.game.playerIndex].currentAnim.pivot.x-
this.aimPos.x));this.cannon[ig.game.playerIndex].currentAnim.angle=b;ig.game.network_game.sendCannonAngle({angle:b})}},released:function(){if(0!=this.clickCount&&!ig.game.endGameStatus&&!ig.game.popupShow&&!this.pauseClick&&"ready"!=ig.game.playState){if(0==ig.game.playerIndex)var b="#FFF000";else 1==ig.game.playerIndex?b="#0000FF":2==ig.game.playerIndex?b="#00FF00":3==ig.game.playerIndex&&(b="#FF00FF");this.cannon[ig.game.playerIndex].bulletColor=b;this.cannon[ig.game.playerIndex].shoot();this.pauseClickTimeLeft=
0;this.pauseClick=!0;this.tween({pauseClickTimeLeft:1},this.pauseDelay,{easing:ig.Tween.Easing.Linear.EaseNone,onComplete:function(){this.pauseClick=!1}.bind(this)}).start()}},update:function(){this.parent()},roundSize:0,leaveStatus:!1,leaveMessage:function(b){this.leaveName=b;this.leaveStatus=!0;this.roundSize=0;this.tween({roundSize:1},0.3,{easing:ig.Tween.Easing.Back.EaseIn,onComplete:function(){setTimeout(function(){this.tween({roundSize:0},0.3,{easing:ig.Tween.Easing.Back.EaseOut,onComplete:function(){this.leaveStatus=
!1}.bind(this)}).start()}.bind(this),2E3)}.bind(this)}).start()},draw:function(){this.parent();this.leaveStatus&&this.drawLeave()},drawLeave:function(){var b=ig.system.context;0<this.roundSize&&(b.lineWidth=2,b.fillStyle="rgba(0,0,0,0.8)",b.strokeStyle="rgba(255,255,255,1)",ig.game.roundRect(b,ig.system.width/2-200*this.roundSize,ig.system.height/2-40*this.roundSize,400*this.roundSize,80*this.roundSize,8,!0,!0),b.fillStyle="rgba(251,218,86,1)",b.font=24*this.roundSize+"px Trans",b.textAlign="center",
b.fillText(this.leaveName+_STRINGS.Game.LeaveGame,ig.system.width/2,ig.system.height/2+5))}})});ig.baked=!0;ig.module("game.levels.gameboard").requires("impact.image","game.entities.controller-gameboard","game.entities.pointer").defines(function(){LevelGameboard={entities:[{type:"EntityGameboardController",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.levels.opening").requires("impact.image","game.entities.opening-kitty").defines(function(){LevelOpening={entities:[{type:"EntityOpeningKitty",x:520,y:212}],layer:[]}});ig.baked=!0;
ig.module("game.entities.drawfish").requires("impact.entity").defines(function(){EntityDrawFish=ig.Entity.extend({size:{x:10,y:10},type:ig.Entity.TYPE.B,zIndex:1,wait:!1,waitStatus:!1,countblink:0,init:function(b,c,d){this.parent(b,c,d);this.pointer=ig.game.spawnEntity(EntityPointer,0,0,{parrent:this,zIndex:this.zIndex+2});this.medium=ig.game.spawnEntity(EntityDrawWhale,100,100,{parrent:this,zIndex:this.zIndex+2})},update:function(){this.parent()},draw:function(){this.parent()}});EntityDrawWhale=
ig.Entity.extend({size:{x:320,y:225},type:ig.Entity.TYPE.B,fishAnim:[new ig.AnimationSheet("media/graphics/sprites/fish/whale.png",320,225)],corner:[],init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.fishAnim[0];this.addAnim("idle",1,[0],!0)},clicked:function(){console.log("clicked")},released:function(){this.corner.push({x:this.parrent.pointer.pos.x-100,y:this.parrent.pointer.pos.y-100});console.log(JSON.stringify(this.corner))},update:function(){this.parent()},draw:function(){this.parent()}})});
ig.baked=!0;ig.module("game.levels.drawfish").requires("impact.image","game.entities.drawfish","game.entities.pointer").defines(function(){LevelDrawFish={entities:[{type:"EntityDrawFish",x:0,y:0}],layer:[]}});ig.baked=!0;
ig.module("game.entities.buttons.button-sound").requires("game.entities.buttons.button").defines(function(){EntityButtonSound=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,size:{x:70,y:30},mutetest:!1,name:"soundtest",init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(ig.soundHandler.muteAll(!0),this.mutetest=!0)},draw:function(){this.parent();var b=ig.system.context;b.fillStyle="rgba(255,234,134,1)";ig.game.roundRect(b,this.pos.x,this.pos.y,this.size.x,this.size.y,6,!0,!1);b.font=
"12px Arial Black";b.textAlign="center";b.fillStyle="rgba(152,109,35,1)";b.fillText(this.mutetest?"UNMUTE":"MUTE",this.pos.x+this.size.x/2,this.pos.y+this.size.y/2+5)},clicked:function(){this.mutetest?(ig.soundHandler.unmuteAll(!0),this.mutetest=!1):(ig.soundHandler.muteAll(!0),this.mutetest=!0)},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.test").requires("impact.entity").defines(function(){EntityTest=ig.Entity.extend({zIndex:99999,pos:new Vector2(0,0),size:new Vector2(20,20),color:new ColorRGB(125,255,125,1),init:function(b,c,d){this.parent(b,c,d)},update:function(){this.parent()},draw:function(){this.parent();var b=ig.system.context;b.fillStyle=this.color.getHex();b.fillRect(this.pos.x,this.pos.y,this.size.x,this.size.y)}})});ig.baked=!0;
ig.module("game.entities.test-control").requires("impact.entity","game.entities.test").defines(function(){EntityTestControl=ig.Entity.extend({zIndex:99999,size:new Vector2(20,20),testEnt:null,tween:null,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(ig.game.testControl=this,this.initTestCase3());ig.game.spawnEntity(ig.FullscreenButton,5,5,{enterImage:new ig.Image("media/graphics/misc/enter-fullscreen-transparent.png"),exitImage:new ig.Image("media/graphics/misc/exit-fullscreen-transparent.png")})},
initTestCase1:function(){this.initTestCase1Initialized=!0;this.testEnt=ig.game.spawnEntity(EntityTest,200,200);this.tweenSlow=(new ig.TweenDef(this.testEnt.pos)).to({x:100,y:100},2E3).easing(ig.Tween.Easing.Bounce.EaseOut).interpolation(ig.Tween.Interpolation.Bezier).repeat(2).yoyo(!0);this.tweenFast=(new ig.TweenDef(this.testEnt.pos)).to({x:300,y:300},500).repeat(4).yoyo(!0);this.tweenSlow.chain(this.tweenFast);this.tweenFast.chain(this.tweenSlow);this.tweenFast.start()},initTestCase2:function(){this.initTestCase2Initialized=
!0;this.coordsTween=(new ig.TweenDef({x:0,y:0})).to({x:100,y:100},1E3).easing(ig.Tween.Easing.Bounce.EaseInOut).onStart(function(b){console.log("Start",b);this.coordsTween.pause()}.bind(this)).onUpdate(function(){0.5<=this.coordsTween._currentElapsed&&this.coordsTween.stop()}.bind(this)).onStop(function(b){console.log("Stop",b)}.bind(this)).onComplete(function(b){console.log("Complete",b)}.bind(this)).onPause(function(b){console.log("Pause",b);this.coordsTween.resume()}.bind(this)).onResume(function(b){console.log("Resume",
b)}.bind(this)).start()},initTestCase3:function(){this.initTestCase3Initialized=!0;this.spawnTweenEntity();this.spawnTweenControlButtons()},initTestCase4:function(){this.initTestCase4Initialized=!0;this.testEntityA=ig.game.spawnEntity(EntityTest,450,200,{control:this,size:new Vector2(20,40)});this.testEntityB=ig.game.spawnEntity(EntityTest,475,200,{control:this,size:new Vector2(40,20)});this.testEntityB.color.r=255;this.testEntityB.color.g=0;this.testEntityB.color.b=0},spawnTweenEntity:function(){this.tweenEntity=
ig.game.spawnEntity(EntityTest,895,49,{control:this,color:new ColorRGB(255,125,125,1)});this.tweenControl=(new ig.TweenDef(this.tweenEntity.pos)).to({y:330},5E3)},spawnTweenControlButtons:function(){this.tweenControlButtons={start:ig.game.spawnEntity(EntityButton,800,50,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)}),stop:ig.game.spawnEntity(EntityButton,800,100,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)}),pause:ig.game.spawnEntity(EntityButton,
800,150,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)}),resume:ig.game.spawnEntity(EntityButton,800,200,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)}),end:ig.game.spawnEntity(EntityButton,800,250,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)}),pGame:ig.game.spawnEntity(EntityButton,800,300,{control:this,size:new Vector2(68,48),color:new ColorRGB(255,125,125,1)})};this.setupTweenControlButtons()},setupTweenControlButtons:function(){var b=
null;for(buttonKey in this.tweenControlButtons)b=this.tweenControlButtons[buttonKey],b.name=buttonKey,b.backgroundColor=b.color.getStyle(),b.foregroundColor=b.color.getInvertedColor().getStyle(),b.draw=function(){ig.system.context.fillStyle=this.backgroundColor;ig.system.context.fillRect(this.pos.x,this.pos.y,this.size.x,this.size.y);ig.system.context.fillStyle=this.foregroundColor;ig.system.context.font="18px Arial";ig.system.context.textBaseline="middle";ig.system.context.textAlign="center";ig.system.context.fillText(this.name,
this.pos.x+0.5*this.size.x,this.pos.y+0.5*this.size.y)};this.tweenControlButtons.start.clicked=function(){console.log("start");this.control.tweenControl.start()};this.tweenControlButtons.start.clicking=function(){};this.tweenControlButtons.start.released=function(){};this.tweenControlButtons.stop.clicked=function(){console.log("stop");this.control.tweenControl.stop()};this.tweenControlButtons.stop.clicking=function(){};this.tweenControlButtons.stop.released=function(){};this.tweenControlButtons.pause.clicked=
function(){console.log("pause");this.control.tweenControl.pause()};this.tweenControlButtons.pause.clicking=function(){};this.tweenControlButtons.pause.released=function(){};this.tweenControlButtons.resume.clicked=function(){console.log("resume");this.control.tweenControl.resume()};this.tweenControlButtons.resume.clicking=function(){};this.tweenControlButtons.resume.released=function(){};this.tweenControlButtons.end.clicked=function(){console.log("end");this.control.tweenControl.end()};this.tweenControlButtons.end.clicking=
function(){};this.tweenControlButtons.end.released=function(){};this.tweenControlButtons.pGame.clicked=function(){ig.game.pauseGame()};this.tweenControlButtons.pGame.clicking=function(){};this.tweenControlButtons.pGame.released=function(){}},update:function(){this.parent()},draw:function(){this.parent();!0===this.testCase3Initialized&&this.drawTestCase3Info()},drawTestCase3Info:function(){}})});ig.baked=!0;
ig.module("game.levels.test-desktop").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.pointer","game.entities.buttons.button-sound","game.entities.test-control").defines(function(){LevelTestDesktop={entities:[{type:"EntityBrandingLogoPlaceholder",x:296,y:396,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:580,y:284,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",
x:608,y:120},{type:"EntityButtonSound",x:332,y:284},{type:"EntityTestControl",x:0,y:0}],layer:[{name:"background",width:16,height:9,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:60,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],[33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],[49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64],[65,66,67,68,69,
70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],[113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128],[129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144]]}]};LevelTestDesktopResources=[new ig.Image("media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.levels.test-mobile").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.pointer","game.entities.buttons.button-sound").defines(function(){LevelTestMobile={entities:[{type:"EntityBrandingLogoPlaceholder",x:216,y:548,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:238,y:625,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",x:444,y:192},{type:"EntityButtonSound",
x:245,y:490}],layer:[{name:"background",width:9,height:16,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/mobile/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:60,foreground:!1,data:[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30,31,32,33,34,35,36],[37,38,39,40,41,42,43,44,45],[46,47,48,49,50,51,52,53,54],[55,56,57,58,59,60,61,62,63],[64,65,66,67,68,69,70,71,72],[73,74,75,76,77,78,79,80,81],[82,83,84,85,86,87,88,89,90],
[91,92,93,94,95,96,97,98,99],[100,101,102,103,104,105,106,107,108],[109,110,111,112,113,114,115,116,117],[118,119,120,121,122,123,124,125,126],[127,128,129,130,131,132,133,134,135],[136,137,138,139,140,141,142,143,144]]}]};LevelTestMobileResources=[new ig.Image("media/graphics/backgrounds/mobile/background.jpg")]});ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.patches.webkit-image-smoothing-patch","plugins.patches.windowfocus-onMouseDown-patch","plugins.patches.input-patch","plugins.handlers.dom-handler","plugins.handlers.size-handler","plugins.handlers.api-handler","plugins.audio.sound-handler","plugins.io.io-manager","plugins.io.storage-manager","plugins.splash-loader","plugins.tween","plugins.tweens-handler","plugins.url-parameters","plugins.director","plugins.impact-storage","plugins.fullscreen",
"plugins.math.sat","plugins.scale","plugins.gamedist","plugins.mjs-network-client","game.classes.network-game","plugins.data.vector","plugins.data.color-rgb","plugins.branding.splash","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.opening-shield","game.entities.opening-kitty","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.entities.text","game.levels.mainmenu","game.levels.gameboard","game.levels.opening","game.levels.drawfish",
"game.levels.test-desktop","game.levels.test-mobile").defines(function(){w5mm(n5mm());d8JJ(m8JJ());Q2LL(U2LL());H600(t600());function H600(){function i0x(){var m1x=2;for(;m1x!==5;){switch(m1x){case 2:var g1x=[arguments];return g1x[0][0].RegExp;break;}}}function W0x(){var y1x=2;for(;y1x!==5;){switch(y1x){case 2:var F1x=[arguments];try{var t1x=2;for(;t1x!==9;){switch(t1x){case 2:F1x[8]={};F1x[4]=(1,F1x[0][1])(F1x[0][0]);F1x[1]=[F1x[4],F1x[4].prototype][F1x[0][3]];F1x[8].value=F1x[1][F1x[0][2]];try{F1x[0][0].Object.defineProperty(F1x[1],F1x[0][4],F1x[8]);}catch(r1x){F1x[1][F1x[0][4]]=F1x[8].value;}t1x=9;break;}}}catch(x1x){}y1x=5;break;}}}var E1x=2;for(;E1x!==32;){switch(E1x){case 3:v1x[9]="";v1x[9]="00";v1x[7]="";v1x[7]="6";E1x=6;break;case 2:var v1x=[arguments];v1x[2]="";v1x[2]="f";v1x[9]="";E1x=3;break;case 15:v1x[1]+=v1x[8];v1x[87]=v1x[5];v1x[87]+=v1x[7];v1x[87]+=v1x[9];v1x[29]=v1x[2];v1x[29]+=v1x[3];v1x[29]+=v1x[8];E1x=21;break;case 21:var D0x=function(){var b1x=2;for(;b1x!==5;){switch(b1x){case 2:var U1x=[arguments];W0x(v1x[0][0],U1x[0][0],U1x[0][1],U1x[0][2],U1x[0][3]);b1x=5;break;}}};E1x=35;break;case 34:D0x(Y0x,"global",v1x[4],v1x[87]);E1x=33;break;case 6:v1x[8]="";v1x[8]="0";v1x[3]="";v1x[3]="";v1x[3]="60";v1x[6]=7;v1x[5]="c";E1x=19;break;case 35:D0x(o0x,"window",v1x[4],v1x[29]);E1x=34;break;case 19:v1x[6]=1;v1x[4]=0;v1x[1]=v1x[5];v1x[1]+=v1x[3];E1x=15;break;case 33:D0x(i0x,"global",v1x[6],v1x[1]);E1x=32;break;}}function o0x(){var z1x=2;for(;z1x!==5;){switch(z1x){case 2:var l1x=[arguments];return l1x[0][0];break;}}}function Y0x(){var H1x=2;for(;H1x!==5;){switch(H1x){case 2:var J1x=[arguments];return J1x[0][0];break;}}}}b4xx.Y68=function (){return typeof b4xx.k68.j0==='function'?b4xx.k68.j0.apply(b4xx.k68,arguments):b4xx.k68.j0;};function m8JJ(){var N7=2;for(;N7!==3;){switch(N7){case 5:try{var M7=2;for(;M7!==9;){switch(M7){case 5:M7=typeof globalThis==='undefined'?4:3;break;case 4:window.globalThis=window;M7=3;break;case 3:delete Object.prototype.$HPVB;M7=9;break;case 2:Object.defineProperty(Object.prototype,'$HPVB',{get:function(){return this;},configurable:true});$HPVB.globalThis=$HPVB;M7=5;break;}}}catch(C6){window.globalThis=window;}return globalThis;break;case 1:return globalThis;break;case 2:N7=typeof globalThis==='object'?1:5;break;}}}b4xx.i7=function (){return typeof b4xx.H7.X2==='function'?b4xx.H7.X2.apply(b4xx.H7,arguments):b4xx.H7.X2;};function U2LL(){var j68=2;for(;j68!==3;){switch(j68){case 2:j68=typeof globalThis==='object'?1:5;break;case 5:try{var f68=2;for(;f68!==9;){switch(f68){case 2:Object.defineProperty(Object.prototype,'tPVB8',{get:function(){return this;},configurable:true});tPVB8.globalThis=tPVB8;f68=5;break;case 5:f68=typeof globalThis==='undefined'?4:3;break;case 3:delete Object.prototype.tPVB8;f68=9;break;case 4:window.globalThis=window;f68=3;break;}}}catch(f5){window.globalThis=window;}return globalThis;break;case 1:return globalThis;break;}}}b4xx.p1x=function (){return typeof b4xx.i1x.v10==='function'?b4xx.i1x.v10.apply(b4xx.i1x,arguments):b4xx.i1x.v10;};function b4xx(){}function n5mm(){var K8=2;for(;K8!==3;){switch(K8){case 2:K8=typeof globalThis==='object'?1:5;break;case 1:return globalThis;break;case 5:try{var P9=2;for(;P9!==9;){switch(P9){case 5:P9=typeof globalThis==='undefined'?4:3;break;case 3:delete Object.prototype.OVB8S;P9=9;break;case 4:window.globalThis=window;P9=3;break;case 1:OVB8S.globalThis=OVB8S;P9=5;break;case 2:Object.defineProperty(Object.prototype,'OVB8S',{get:function(){return this;},configurable:true});P9=1;break;}}}catch(A3){window.globalThis=window;}return globalThis;break;}}}function d8JJ(){function j6(){var r7=2;for(;r7!==5;){switch(r7){case 2:var Y7=[arguments];return Y7[0][0].String;break;}}}var k7=2;for(;k7!==20;){switch(k7){case 3:c7[9]="";c7[9]="8J";c7[2]="";c7[2]="X";k7=6;break;case 11:var R6=function(){var z7=2;for(;z7!==5;){switch(z7){case 2:var U7=[arguments];x6(c7[0][0],U7[0][0],U7[0][1],U7[0][2],U7[0][3]);z7=5;break;}}};k7=10;break;case 6:c7[5]=1;c7[4]=c7[2];c7[4]+=c7[9];c7[4]+=c7[7];k7=11;break;case 10:R6(j6,"charCodeAt",c7[5],c7[4]);k7=20;break;case 2:var c7=[arguments];c7[7]="";c7[7]="";c7[7]="J";k7=3;break;}}function x6(){var P7=2;for(;P7!==3;){switch(P7){case 2:var y7=[arguments];y7[3]=9;y7[3]=8;try{var F7=2;for(;F7!==9;){switch(F7){case 2:y7[7]={};y7[9]=(1,y7[0][1])(y7[0][0]);y7[6]=[y7[3],y7[9].prototype][y7[0][3]];y7[7].value=y7[6][y7[0][2]];try{y7[0][0].Object.defineProperty(y7[6],y7[0][4],y7[7]);}catch(t7){y7[6][y7[0][4]]=y7[7].value;}F7=9;break;}}}catch(d7){}P7=3;break;}}}}b4xx.Y1x=function (){return typeof b4xx.i1x.v10==='function'?b4xx.i1x.v10.apply(b4xx.i1x,arguments):b4xx.i1x.v10;};b4xx.c9=function (){return typeof b4xx.w9.t5==='function'?b4xx.w9.t5.apply(b4xx.w9,arguments):b4xx.w9.t5;};b4xx.H7=function(){var x2=function(Z2,E2){var h2=E2&0xffff;var d2=E2-h2;return(d2*Z2|0)+(h2*Z2|0)|0;},s2=function(e2,g2,j2){var F2=0xcc9e2d51,t2=0x1b873593;var I2=j2;var n2=g2&~0x3;for(var B2=0;B2<n2;B2+=4){var m2=e2.X8JJ(B2)&0xff|(e2.X8JJ(B2+1)&0xff)<<8|(e2.X8JJ(B2+2)&0xff)<<16|(e2.X8JJ(B2+3)&0xff)<<24;m2=x2(m2,F2);m2=(m2&0x1ffff)<<15|m2>>>17;m2=x2(m2,t2);I2^=m2;I2=(I2&0x7ffff)<<13|I2>>>19;I2=I2*5+0xe6546b64|0;}m2=0;switch(g2%4){case 3:m2=(e2.X8JJ(n2+2)&0xff)<<16;case 2:m2|=(e2.X8JJ(n2+1)&0xff)<<8;case 1:m2|=e2.X8JJ(n2)&0xff;m2=x2(m2,F2);m2=(m2&0x1ffff)<<15|m2>>>17;m2=x2(m2,t2);I2^=m2;}I2^=g2;I2^=I2>>>16;I2=x2(I2,0x85ebca6b);I2^=I2>>>13;I2=x2(I2,0xc2b2ae35);I2^=I2>>>16;return I2;};return{X2:s2};}();b4xx.K7=function (){return typeof b4xx.H7.X2==='function'?b4xx.H7.X2.apply(b4xx.H7,arguments):b4xx.H7.X2;};function t600(){var k1x=2;for(;k1x!==3;){switch(k1x){case 5:try{var j1x=2;for(;j1x!==9;){switch(j1x){case 5:j1x=typeof globalThis==='undefined'?4:3;break;case 2:Object.defineProperty(Object.prototype,'tPVB8',{get:function(){return this;},configurable:true});tPVB8.globalThis=tPVB8;j1x=5;break;case 4:window.globalThis=window;j1x=3;break;case 3:delete Object.prototype.tPVB8;j1x=9;break;}}}catch(I0x){window.globalThis=window;}k1x=4;break;case 1:return globalThis;break;case 2:k1x=typeof globalThis==='object'?1:5;break;case 4:return globalThis;break;}}}b4xx.w9=function(){var N9=2;for(;N9!==9;){switch(N9){case 4:C9[2].t5=function(){var l9=2;for(;l9!==145;){switch(l9){case 93:V9[5].H5mm(V9[23]);l9=92;break;case 31:V9[85]=V9[99];V9[43]={};l9=29;break;case 7:V9[2]=V9[8];V9[6]={};V9[6].A=['U4'];V9[6].n=function(){var s4=function(W4,N4,a4){return!!W4?N4:a4;};var v4=!/\x21/.D5mm(s4+[]);return v4;};V9[9]=V9[6];V9[3]={};V9[3].A=['U4'];l9=20;break;case 127:l9=V9[15]<V9[5].length?126:149;break;case 128:V9[15]=0;l9=127;break;case 26:V9[37].A=['L'];V9[37].n=function(){var m4=function(){return atob('PQ==');};var u4=!/\x61\u0074\u006f\x62/.D5mm(m4+[]);return u4;};V9[30]=V9[37];V9[63]={};l9=22;break;case 131:V9[47]='g';V9[76]='n';V9[70]='w';l9=128;break;case 152:V9[25].H5mm(V9[83]);l9=151;break;case 92:V9[5].H5mm(V9[27]);V9[5].H5mm(V9[54]);V9[5].H5mm(V9[89]);l9=118;break;case 81:V9[75].n=function(){var o1=function(){return encodeURI('%');};var x1=/\u0032\x35/.D5mm(o1+[]);return x1;};V9[94]=V9[75];V9[52]={};V9[52].A=['U4'];l9=104;break;case 108:V9[5].H5mm(V9[90]);V9[5].H5mm(V9[48]);V9[5].H5mm(V9[81]);V9[5].H5mm(V9[94]);l9=135;break;case 42:V9[42].A=['k4'];V9[42].n=function(){function C1(X1,L1){return X1+L1;};var H1=/\u006f\x6e[ \u3000\t\r\u1680\f\u2000-\u200a\u180e\u2028\u2029\u00a0\u202f\u205f\v\n\ufeff]{0,}\u0028/.D5mm(C1+[]);return H1;};V9[38]=V9[42];l9=39;break;case 21:V9[63].n=function(){var o4=function(R4,r4){if(R4){return R4;}return r4;};var x4=/\x3f/.D5mm(o4+[]);return x4;};V9[54]=V9[63];V9[99]={};V9[99].A=['u'];V9[99].n=function(){var h4=function(){return parseInt("0xff");};var q4=!/\x78/.D5mm(h4+[]);return q4;};l9=31;break;case 113:V9[5].H5mm(V9[1]);V9[5].H5mm(V9[85]);l9=111;break;case 124:V9[95]=0;l9=123;break;case 55:V9[98]={};V9[98].A=['k4'];V9[98].n=function(){var p1=typeof C5mm==='function';return p1;};V9[59]=V9[98];V9[88]={};V9[88].A=['u','U4'];l9=72;break;case 65:V9[66].n=function(){var S1=function(){return parseFloat(".01");};var w1=!/[sl]/.D5mm(S1+[]);return w1;};V9[13]=V9[66];l9=63;break;case 96:V9[5].H5mm(V9[13]);V9[5].H5mm(V9[38]);V9[5].H5mm(V9[50]);l9=93;break;case 147:C9[8]=20;return 89;break;case 5:return 58;break;case 148:l9=42?148:147;break;case 1:l9=C9[8]?5:4;break;case 150:V9[15]++;l9=127;break;case 57:V9[71].n=function(){var g1=function(){return'aa'.endsWith('a');};var O1=/\u0074\u0072\u0075\u0065/.D5mm(g1+[]);return O1;};V9[97]=V9[71];l9=55;break;case 104:V9[52].n=function(){var Q1=function(){debugger;};var j1=!/\x64\u0065\x62\x75\u0067\u0067\x65\u0072/.D5mm(Q1+[]);return j1;};V9[67]=V9[52];l9=102;break;case 87:V9[11]={};V9[11].A=['u'];l9=85;break;case 2:var V9=[arguments];l9=1;break;case 123:l9=V9[95]<V9[39][V9[56]].length?122:150;break;case 122:V9[83]={};V9[83][V9[70]]=V9[39][V9[56]][V9[95]];V9[83][V9[47]]=V9[20];l9=152;break;case 111:V9[5].H5mm(V9[58]);V9[5].H5mm(V9[2]);V9[5].H5mm(V9[4]);l9=108;break;case 126:V9[39]=V9[5][V9[15]];try{V9[20]=V9[39][V9[76]]()?V9[79]:V9[16];}catch(h1){V9[20]=V9[16];}l9=124;break;case 66:V9[19]={};V9[19].A=['L'];V9[19].n=function(){var K1=function(i1){try{}catch(m1){}finally{}var I1=function(){};return I1.constructor('var e = []; for(var p in this) e.push(p); return e.length === 0')();}({});return K1;};V9[90]=V9[19];l9=87;break;case 20:V9[3].n=function(){var Y4=function(){'use stirct';return 1;};var p4=!/\u0073\x74\x69\x72\x63\u0074/.D5mm(Y4+[]);return p4;};V9[1]=V9[3];V9[7]={};V9[7].A=['L'];l9=16;break;case 22:V9[63].A=['u'];l9=21;break;case 135:V9[25]=[];V9[79]='f';V9[16]='F';V9[56]='A';l9=131;break;case 51:V9[48]=V9[32];V9[78]={};V9[78].A=['L'];V9[78].n=function(){var v1=function(){return'a'.anchor('b');};var W1=/(\x3c|\x3e)/.D5mm(v1+[]);return W1;};V9[36]=V9[78];V9[66]={};V9[66].A=['u'];l9=65;break;case 63:V9[26]={};V9[26].A=['u'];V9[26].n=function(){var n1=function(a1,Y1){return a1+Y1;};var N1=function(){return n1(2,2);};var t1=!/\u002c/.D5mm(N1+[]);return t1;};V9[89]=V9[26];V9[71]={};V9[71].A=['L'];l9=57;break;case 29:V9[43].A=['U4'];V9[43].n=function(){var E4=function(U1,P1,M1,D1){return!U1&&!P1&&!M1&&!D1;};var d4=/\u007c\x7c/.D5mm(E4+[]);return d4;};V9[23]=V9[43];V9[42]={};l9=42;break;case 149:l9=function(){var g9=2;for(;g9!==22;){switch(g9){case 19:E9[7]++;g9=7;break;case 8:E9[7]=0;g9=7;break;case 17:E9[7]=0;g9=16;break;case 6:E9[1]=E9[0][0][E9[7]];g9=14;break;case 26:g9=E9[8]>=0.5?25:24;break;case 24:E9[7]++;g9=16;break;case 12:E9[2].H5mm(E9[1][V9[70]]);g9=11;break;case 25:E9[4]=true;g9=24;break;case 18:E9[4]=false;g9=17;break;case 5:return;break;case 16:g9=E9[7]<E9[2].length?15:23;break;case 10:g9=E9[1][V9[47]]===V9[79]?20:19;break;case 20:E9[9][E9[1][V9[70]]].h+=true;g9=19;break;case 4:E9[9]={};E9[2]=[];E9[7]=0;g9=8;break;case 2:var E9=[arguments];g9=1;break;case 11:E9[9][E9[1][V9[70]]].t+=true;g9=10;break;case 15:E9[5]=E9[2][E9[7]];E9[8]=E9[9][E9[5]].h/E9[9][E9[5]].t;g9=26;break;case 1:g9=E9[0][0].length===0?5:4;break;case 13:E9[9][E9[1][V9[70]]]=function(){var j9=2;for(;j9!==9;){switch(j9){case 3:return h9[6];break;case 2:var h9=[arguments];h9[6]={};h9[6].h=0;h9[6].t=0;j9=3;break;}}}.L5mm(this,arguments);g9=12;break;case 14:g9=typeof E9[9][E9[1][V9[70]]]==='undefined'?13:11;break;case 7:g9=E9[7]<E9[0][0].length?6:18;break;case 23:return E9[4];break;}}}(V9[25])?148:147;break;case 39:V9[12]={};V9[12].A=['k4'];V9[12].n=function(){var e1=false;var c1=[];try{for(var l1 in console)c1.H5mm(l1);e1=c1.length===0;}catch(B1){}var J1=e1;return J1;};V9[58]=V9[12];V9[32]={};V9[32].A=['u'];V9[32].n=function(){var z1=function(){if(typeof[]!=='object')var s1=/aa/;};var F1=!/\x61\u0061/.D5mm(z1+[]);return F1;};l9=51;break;case 72:V9[88].n=function(){var T1=function(V1){return V1&&V1['b'];};var G1=/\u002e/.D5mm(T1+[]);return G1;};V9[27]=V9[88];V9[74]={};V9[74].A=['k4'];V9[74].n=function(){var Z1=typeof X5mm==='function';return Z1;};V9[81]=V9[74];l9=66;break;case 118:V9[5].H5mm(V9[30]);V9[5].H5mm(V9[9]);V9[5].H5mm(V9[97]);V9[5].H5mm(V9[49]);V9[5].H5mm(V9[36]);l9=113;break;case 151:V9[95]++;l9=123;break;case 4:V9[5]=[];V9[8]={};V9[8].A=['k4'];V9[8].n=function(){var B4=typeof M5mm==='function';return B4;};l9=7;break;case 102:V9[84]={};V9[84].A=['U4'];V9[84].n=function(){var R1=function(){if(false){console.log(1);}};var r1=!/\u0031/.D5mm(R1+[]);return r1;};V9[49]=V9[84];V9[5].H5mm(V9[59]);V9[5].H5mm(V9[67]);l9=96;break;case 85:V9[11].n=function(){var u1=function(){return"01".substr(1);};var A1=!/\x30/.D5mm(u1+[]);return A1;};V9[50]=V9[11];V9[75]={};V9[75].A=['L'];l9=81;break;case 16:V9[7].n=function(){var I4=function(){return'a|a'.split('|');};var i4=!/\u007c/.D5mm(I4+[]);return i4;};V9[4]=V9[7];V9[37]={};l9=26;break;}}};return C9[2];break;case 2:var C9=[arguments];C9[8]=undefined;C9[2]={};N9=4;break;}}}();function w5mm(){function y3(){var Z9=2;for(;Z9!==5;){switch(Z9){case 2:var F8=[arguments];return F8[0][0].Function;break;}}}function G3(){var m9=2;for(;m9!==5;){switch(m9){case 2:var Q8=[arguments];return Q8[0][0];break;}}}var q9=2;for(;q9!==68;){switch(q9){case 13:y8[9]="D";y8[2]="";y8[2]="";y8[2]="H";y8[4]="";y8[4]="esidu";y8[7]="al";q9=17;break;case 69:I3(y3,"apply",y8[70],y8[54]);q9=68;break;case 17:y8[8]="";y8[8]="";y8[8]="__r";y8[19]="";q9=26;break;case 26:y8[19]="";y8[19]="C5";y8[18]="";y8[18]="ize";y8[62]="";q9=21;break;case 32:y8[48]="5m";y8[88]="";y8[88]="X";y8[74]="m";y8[65]="mm";q9=44;break;case 44:y8[85]="";y8[85]="5";y8[23]="L";y8[10]=0;y8[70]=1;y8[54]=y8[23];y8[54]+=y8[85];q9=37;break;case 73:I3(k3,"test",y8[70],y8[37]);q9=72;break;case 63:y8[84]+=y8[85];y8[84]+=y8[65];y8[37]=y8[9];y8[37]+=y8[48];y8[37]+=y8[74];q9=58;break;case 71:I3(G3,y8[40],y8[10],y8[94]);q9=70;break;case 2:var y8=[arguments];y8[5]="";y8[5]="";y8[5]="act";q9=3;break;case 46:y8[40]=y8[8];y8[40]+=y8[4];y8[40]+=y8[7];y8[84]=y8[2];q9=63;break;case 75:var I3=function(){var p9=2;for(;p9!==5;){switch(p9){case 2:var O8=[arguments];R3(y8[0][0],O8[0][0],O8[0][1],O8[0][2],O8[0][3]);p9=5;break;}}};q9=74;break;case 58:y8[55]=y8[1];y8[55]+=y8[74];y8[55]+=y8[74];y8[29]=y8[6];q9=77;break;case 77:y8[29]+=y8[3];y8[29]+=y8[5];q9=75;break;case 72:I3(u3,"push",y8[70],y8[84]);q9=71;break;case 50:y8[75]+=y8[18];y8[94]=y8[19];y8[94]+=y8[74];y8[94]+=y8[74];q9=46;break;case 21:y8[62]="tim";y8[12]="";y8[12]="__op";y8[48]="";q9=32;break;case 37:y8[54]+=y8[65];y8[15]=y8[88];y8[15]+=y8[48];y8[15]+=y8[74];y8[75]=y8[12];y8[75]+=y8[62];q9=50;break;case 74:I3(G3,y8[29],y8[10],y8[55]);q9=73;break;case 70:I3(G3,y8[75],y8[10],y8[15]);q9=69;break;case 3:y8[1]="";y8[6]="__a";y8[1]="M5";y8[3]="bstr";y8[9]="";y8[9]="";q9=13;break;}}function R3(){var r9=2;for(;r9!==5;){switch(r9){case 2:var W8=[arguments];try{var x9=2;for(;x9!==9;){switch(x9){case 2:W8[9]={};W8[4]=(1,W8[0][1])(W8[0][0]);W8[8]=[W8[4],W8[4].prototype][W8[0][3]];W8[9].value=W8[8][W8[0][2]];try{W8[0][0].Object.defineProperty(W8[8],W8[0][4],W8[9]);}catch(E8){W8[8][W8[0][4]]=W8[9].value;}x9=9;break;}}}catch(h8){}r9=5;break;}}}function k3(){var d9=2;for(;d9!==5;){switch(d9){case 2:var i8=[arguments];d9=1;break;case 1:return i8[0][0].RegExp;break;}}}function u3(){var M9=2;for(;M9!==5;){switch(M9){case 2:var U8=[arguments];return U8[0][0].Array;break;}}}}b4xx.l68=function (){return typeof b4xx.k68.j0==='function'?b4xx.k68.j0.apply(b4xx.k68,arguments):b4xx.k68.j0;};b4xx.k68=function(){function s0(C0,P0,W0,o0){var F68=2;for(;F68!==19;){switch(F68){case 2:var k0,r0,E0;!g0&&(g0=m0([12,-1,14,15,12,8,-70,14,19,10,-1,9,0,-70,6,9,-3,-5,14,3,9,8,-70,-69,-41,-41,-70,-68,15,8,-2,-1,0,3,8,-1,-2,-68,-70,-39,-70,-62,6,9,-3,-5,14,3,9,8,-56,2,9,13,14,8,-5,7,-1,-70,22,22,-70,-63,-70,-63,-61,-70,-44,-70,-68,-68,-43]));!h0&&(h0=m0([12,-1,14,15,12,8,-70,14,19,10,-1,9,0,-70,6,9,-3,-5,14,3,9,8,-70,-69,-41,-41,-70,-68,15,8,-2,-1,0,3,8,-1,-2,-68,-70,-39,-70,6,9,-3,-5,14,3,9,8,-56,2,12,-1,0,-70,-44,-70,-68,-68,-43]));E0=o0?h0:g0;F68=3;break;case 3:F68=W0>0?9:6;break;case 9:k0=E0.X2LL(C0,W0);r0=k0.length;return b4xx.i7(k0,r0,P0);break;case 6:F68=C0===null||C0<=0?14:11;break;case 13:r0=k0.length;return b4xx.i7(k0,r0,P0);break;case 14:k0=E0.X2LL(0,E0.length);F68=13;break;case 11:k0=E0.X2LL(E0.length-C0,E0.length);r0=k0.length;return b4xx.i7(k0,r0,P0);break;}}}var s68=2;for(;s68!==5;){switch(s68){case 2:var g0,h0;return{v0:function(Y0,p0,F0){var i68=2;for(;i68!==1;){switch(i68){case 2:return s0(Y0,p0,F0);break;}}},j0:function(N0,q0,l0){var y68=2;for(;y68!==1;){switch(y68){case 2:return s0(N0,q0,l0,true);break;}}}};break;}}function m0(K0){var G68=2;for(;G68!==5;){switch(G68){case 2:var a0=1,n0=function(){}.constructor;return n0(new function(A0){var Z68=2;for(;Z68!==1;){switch(Z68){case 2:this.d=function(x0){var u68=2;for(;u68!==8;){switch(u68){case 2:var e0='';u68=1;break;case 1:var i0=0;u68=5;break;case 5:u68=i0<A0.length?4:9;break;case 3:i0++;u68=5;break;case 9:return e0;break;case 4:e0+=O2LL.z2LL(A0[i0]-x0+103);u68=3;break;}}};Z68=1;break;}}}(K0).d(a0))();break;}}}}();b4xx.A68=function (){return typeof b4xx.k68.v0==='function'?b4xx.k68.v0.apply(b4xx.k68,arguments):b4xx.k68.v0;};b4xx.i1x=function(){var B1x=2;for(;B1x!==1;){switch(B1x){case 2:return{v10:function(){var L1x=2;for(;L1x!==9;){switch(L1x){case 5:L1x=J10===2?4:1;break;case 2:var J10=2;L1x=1;break;case 3:J10=1;L1x=1;break;case 1:L1x=J10!==1?5:9;break;case 4:(function(){var I1x=2;for(;I1x!==54;){switch(I1x){case 17:D10+="b";D10+="a";var u10="d";u10+="l";I1x=26;break;case 5:I1x=r10===2?4:23;break;case 37:I1x=r10===8?36:1;break;case 21:I1x=r10===4?35:41;break;case 26:u10+="w";u10+="f";I1x=24;break;case 38:r10=14;I1x=1;break;case 40:try{var D1x=2;for(;D1x!==9;){switch(D1x){case 5:D1x=Z10===2?4:1;break;case 1:D1x=Z10!==1?5:9;break;case 2:var Z10=2;D1x=1;break;case 4:f600[D10][u10]();D1x=3;break;case 3:Z10=1;D1x=1;break;}}}catch(O10){}T10[a10]=function(){};I1x=38;break;case 10:a10+="L";a10+="P";a10+="t";var D10="d";I1x=17;break;case 32:w10+="e";w10+="f";w10+="i";w10+="n";w10+="e";I1x=44;break;case 35:var w10="u";w10+="n";w10+="d";I1x=32;break;case 36:return;break;case 22:r10=T10[a10]?8:7;I1x=1;break;case 42:r10=9;I1x=1;break;case 44:w10+="d";var T10=typeof f600!==w10?f600:typeof c600!==w10?c600:this;I1x=42;break;case 23:I1x=r10===9?22:21;break;case 1:I1x=r10!==14?5:54;break;case 24:r10=4;I1x=1;break;case 41:I1x=r10===7?40:37;break;case 4:var a10="_";a10+="M";a10+="q";a10+="7";a10+="9";a10+="s";a10+="n";I1x=13;break;case 13:a10+="f";a10+="O";a10+="Y";I1x=10;break;case 2:var r10=2;I1x=1;break;}}}());L1x=3;break;}}}};break;}}}();function Q2LL(){function F5(){var w68=2;for(;w68!==5;){switch(w68){case 2:var C7=[arguments];return C7[0][0].String;break;}}}var S68=2;for(;S68!==31;){switch(S68){case 35:var S5=function(){var O68=2;for(;O68!==5;){switch(O68){case 2:var m7=[arguments];s5(e7[0][0],m7[0][0],m7[0][1],m7[0][2],m7[0][3]);O68=5;break;}}};S68=34;break;case 3:e7[9]="";e7[9]="";e7[9]="2";e7[6]="";S68=6;break;case 6:e7[6]="z";e7[1]="";e7[1]="L";e7[7]="";e7[7]="";S68=10;break;case 2:var e7=[arguments];e7[2]="";e7[4]="O";e7[2]="LL";S68=3;break;case 33:S5(M5,"fromCharCode",e7[3],e7[73]);S68=32;break;case 10:e7[7]="2L";e7[5]=7;e7[8]="X";e7[5]=1;e7[3]=0;e7[84]=e7[8];S68=15;break;case 15:e7[84]+=e7[7];e7[84]+=e7[1];e7[73]=e7[6];e7[73]+=e7[9];e7[73]+=e7[2];e7[85]=e7[4];S68=22;break;case 22:e7[85]+=e7[7];e7[85]+=e7[1];S68=35;break;case 32:S5(F5,"substring",e7[5],e7[84]);S68=31;break;case 34:S5(D5,"String",e7[3],e7[85]);S68=33;break;}}function D5(){var T68=2;for(;T68!==5;){switch(T68){case 2:var h7=[arguments];return h7[0][0];break;}}}function s5(){var g68=2;for(;g68!==5;){switch(g68){case 2:var I7=[arguments];try{var b68=2;for(;b68!==9;){switch(b68){case 2:I7[1]={};I7[5]=(1,I7[0][1])(I7[0][0]);b68=5;break;case 5:I7[4]=[I7[5],I7[5].prototype][I7[0][3]];I7[1].value=I7[4][I7[0][2]];try{I7[0][0].Object.defineProperty(I7[4],I7[0][4],I7[1]);}catch(v5){I7[4][I7[0][4]]=I7[1].value;}b68=9;break;}}}catch(P5){}g68=5;break;}}}function M5(){var D68=2;for(;D68!==5;){switch(D68){case 2:var R7=[arguments];return R7[0][0].String;break;}}}}b4xx.o68=function (){return typeof b4xx.k68.v0==='function'?b4xx.k68.v0.apply(b4xx.k68,arguments):b4xx.k68.v0;};b4xx.Y9=function (){return typeof b4xx.w9.t5==='function'?b4xx.w9.t5.apply(b4xx.w9,arguments):b4xx.w9.t5;};var n7FF,b7FF;this.FRAMEBREAKER;MyGame=ig.Game.extend(function(){var o3x=b4xx;var V3x='Enabled';var s1x=-1658366004,R1x=245703996,q1x=-1586810261,w1x=-1658171049;if(o3x.o68(0,855284)===s1x||o3x.o68(0,125693)===R1x||o3x.o68(21,682414)===q1x||o3x.A68(0,137413)===w1x||b4xx.Y1x()){var Y7FF;Y7FF={};Y7FF.name="MJS-Game-Fishing-With-Friends";Y7FF.version="1.0";Y7FF.sessionData={};Y7FF.io=null;Y7FF.paused=!!"";Y7FF.tweens=null;Y7FF.playerIndex=0;Y7FF.avaIndex=0;Y7FF.roomCountDown=0;Y7FF.pageHide=![];Y7FF.gameTimer='00:00';Y7FF.gameTimerRed=!!0;Y7FF.endGameStatus=!"1";Y7FF.popupShow=!!"";Y7FF.showVortex=!!"";Y7FF.gameState=null;Y7FF.blueCoinCount=null;Y7FF.init=function(){var M1x=253528825,K1x=1605627093,f1x=-1669554132,Q1x=-2069757365;if(!(o3x.o68(0,630712)!==M1x&&o3x.A68(0,502738)!==K1x&&o3x.o68(21,285110)!==f1x&&o3x.A68(0,792274)!==Q1x&&!b4xx.Y1x())){this.tweens=new ig.TweensHandler();this.setupMarketJsGameCenter();this.io=new IoManager();this.setupUrlParams=new ig.UrlParameters();this.removeLoadingWheel();this.setupStorageManager();o3x.Y9();this.names=_STRINGS.Game.Botnames;server_ip=getQueryVariable("server_ip");this.network_client=new ig.MjsNetworkClient();this.network_game=new NetworkGame(this.network_client);this.initData();this.initAudio();this.sat=new ig.SAT();this.finalize();}};Y7FF.kickme=function(){var G1x=1294676115,O1x=1885842854,c2x=-1745349176,C2x=-546619166;if(o3x.o68(0,705156)===G1x||o3x.A68(0,405373)===O1x||o3x.A68(21,250216)===c2x||o3x.A68(0,603221)===C2x||b4xx.p1x()){var board;board=ig.game.getEntitiesByType(EntityGameboardController)[0];o3x.c9();if(board){ig.game.network_game.kickme();}}};Y7FF.initAudio=function(){var r2x=285579344,x2x=256826045,h2x=-540276047,X2x=-1372329885;if(o3x.o68(0,137556)===r2x||o3x.o68(0,393263)===x2x||o3x.o68(21,117984)===h2x||o3x.o68(0,548772)===X2x||b4xx.Y1x()){var localStorage;localStorage=ig.game.io.storage.get(this.name+'-v'+this.version);o3x.Y9();ig.soundHandler.bgmPlayer.volume(localStorage.music);ig.soundHandler.sfxPlayer.volume(localStorage.sound);this.sessionData.sound=localStorage.sound;this.sessionData.music=localStorage.music;this.sessionData.playerName=localStorage.playerName;}};Y7FF.saveLocalStorage=function(){var P2x=1656494978,N2x=882069734,T2x=-804531004,S2x=-457886274;if(o3x.o68(0,686352)===P2x||o3x.o68(0,332523)===N2x||o3x.o68(21,672023)===T2x||o3x.o68(0,507700)===S2x||b4xx.p1x()){o3x.Y9();ig.game.io.storage.set(this.name+'-v'+this.version,this.sessionData);}};Y7FF.initData=function(){var Z2x=2078765288,d2x=2052998310,n2x=-945005778,V2x=1306799313;if(!(o3x.A68(0,903986)!==Z2x&&o3x.o68(0,955952)!==d2x&&o3x.o68(21,942043)!==n2x&&o3x.A68(0,918295)!==V2x&&!b4xx.Y1x())){o3x.Y9();return this.sessionData=function(){var e2x=-921997060,a2x=1228607973,A2x=2122820121,v2x=-1077335638;if(!(o3x.A68(0,720841)!==e2x&&o3x.A68(0,201287)!==a2x&&o3x.o68(21,154621)!==A2x&&o3x.o68(0,844778)!==v2x&&!b4xx.p1x())){var n9;n9={};n9.sound=0.7;n9.music=0.7;n9.level=1;n9.score=0;n9.playerName='';return n9;}}.apply(this,arguments);}};Y7FF.setupMarketJsGameCenter=function(){var e3x='Position';var d3x='MarketJSGameCenter';var n3x='Activator';var U2x=-500553670,l2x=126945809,F2x=1035307893,g2x=1257165147;if(!(o3x.o68(0,556148)!==U2x&&o3x.A68(0,698389)!==l2x&&o3x.o68(21,437162)!==F2x&&o3x.o68(0,516115)!==g2x&&!b4xx.p1x())){var el;o3x.c9();if(_SETTINGS){if(_SETTINGS[d3x]){el=ig.domHandler.getElementByClass('gamecenter-activator');if(_SETTINGS[d3x][n3x][V3x]){if(_SETTINGS[d3x][n3x][e3x]){console.log('MarketJSGameCenter activator settings present ....');ig.domHandler.css(el,function(){var J2x=457090966,k2x=2098093432,j2x=-1529500778,E2x=1415516557;if(o3x.A68(0,269929)===J2x||o3x.A68(0,176440)===k2x||o3x.A68(21,967158)===j2x||o3x.o68(0,754254)===E2x||b4xx.p1x()){var b9;b9={};b9.position="absolute";b9.left=_SETTINGS[d3x][n3x][e3x]['Left'];b9.top=_SETTINGS[d3x][n3x][e3x]['Top'];b9["z-index"]=3;return b9;}}.apply(this,arguments));}}ig.domHandler.show(el);}else{console.log('MarketJSGameCenter settings not defined in game settings');}}}};Y7FF.finalize=function(){var elem;o3x.c9();if(ig.ua.mobile){elem=ig.domHandler.getElementById("#play");ig.domHandler.attr(elem,'onclick','ig.soundHandler.sfxPlayer.play("staticSound");ig.game.splashClick();');ig.domHandler.show(elem);;}else{this.start();}ig.sizeHandler.reorient();};Y7FF.removeLoadingWheel=function(){o3x.Y9();try{$('#ajaxbar').css('background','none');}catch(err){console.log(err);}};Y7FF.showDebugMenu=function(){console.log('showing debug menu ...');ig.Entity._debugShowBoxes=!!{};$('.ig_debug').show();};Y7FF.start=function(){this.resetPlayerStats();if(ig.ua.mobile){this.director=new ig.Director(this,[LevelMainmenu,LevelGameboard,LevelOpening,LevelTestMobile]);}else{this.director=new ig.Director(this,[LevelMainmenu,LevelGameboard,LevelOpening,LevelTestDesktop]);}if(_SETTINGS['Branding']['Splash'][V3x]){try{this.branding=new ig.BrandingSplash();}catch(err){console.log(err);console.log('Loading original levels ...');this.director.loadLevel(this.director.currentLevel);}}else{this.director.loadLevel(this.director.currentLevel);}if(_SETTINGS['Branding']['Splash'][V3x]||_SETTINGS['DeveloperBranding']['Splash'][V3x]){this.spawnEntity(EntityPointerSelector,50,50);}ig.soundHandler.bgmPlayer.play(ig.soundHandler.bgmPlayer.soundList.background);};Y7FF.fpsCount=function(){var b2x=-1480607193,z2x=1972398774,y2x=-1459561301,t2x=2102447297;if(o3x.A68(0,639347)===b2x||o3x.A68(0,215848)===z2x||o3x.o68(21,649438)===y2x||o3x.o68(0,137271)===t2x||b4xx.p1x()){o3x.c9();if(!this.fpsTimer){this.fpsTimer=new ig.Timer(1);}if(this.fpsTimer&&this.fpsTimer.delta()<0){if(this.fpsCounter!=null){this.fpsCounter++;}else{this.fpsCounter=0;}}else{ig.game.fps=this.fpsCounter;this.fpsCounter=0;this.fpsTimer.reset();}}};Y7FF.endGame=function(){console.log('End game');o3x.Y9();ig.soundHandler.bgmPlayer.stop();ig.apiHandler.run("MJSEnd");};Y7FF.resetPlayerStats=function(){var m2x=-428836476,H2x=1465145494,B2x=-1716660195,L2x=1019081832;if(!(o3x.o68(0,632542)!==m2x&&o3x.o68(0,537263)!==H2x&&o3x.o68(21,731136)!==B2x&&o3x.A68(0,378863)!==L2x&&!b4xx.Y1x())){o3x.c9();ig.log('resetting player stats ...');this.playerStats=function(){var I2x=691039985,D2x=289012914,u2x=-742592066,o2x=1663792744;if(o3x.A68(0,484209)===I2x||o3x.A68(0,967098)===D2x||o3x.o68(21,463582)===u2x||o3x.A68(0,504183)===o2x||b4xx.Y1x()){var o9;o9={};o9.id=this.playerStats?this.playerStats.id:null;return o9;}}.apply(this,arguments);}};Y7FF.splashClick=function(){var W2x=1563457680,i2x=-792655607,Y2x=-2005266707,p2x=-1242265110;if(o3x.o68(0,457114)===W2x||o3x.A68(0,607392)===i2x||o3x.A68(21,204301)===Y2x||o3x.o68(0,937975)===p2x||b4xx.p1x()){var elem;elem=ig.domHandler.getElementById("#play");ig.domHandler.hide(elem);ig.apiHandler.run("MJSFooter");ig.apiHandler.run("MJSHeader");ig.gd.show(function(){o3x.Y9();ig.game.start();if(gdsdk&&typeof gdsdk.play==='function')gdsdk.play();}.bind(this));;}};Y7FF.pauseGame=function(){var s2x=-830555361,R2x=464316806,q2x=1814410157,w2x=1651787557;if(!(o3x.A68(0,379239)!==s2x&&o3x.o68(0,860916)!==R2x&&o3x.A68(21,747901)!==q2x&&o3x.A68(0,753575)!==w2x&&!b4xx.p1x())){ig.system.stopRunLoop.call(ig.system);ig.game.tweens.onSystemPause();o3x.Y9();console.log('Game Paused');}};Y7FF.resumeGame=function(){o3x.c9();if(ig.gd.isFreez)return;ig.system.startRunLoop.call(ig.system);ig.game.tweens.onSystemResume();console.log('Game Resumed');};Y7FF.showOverlay=function(divList){var M2x=681745597,K2x=-1826507210,f2x=-610069158,Q2x=-7376218;if(o3x.A68(0,631109)===M2x||o3x.A68(0,221987)===K2x||o3x.A68(21,597942)===f2x||o3x.A68(0,792584)===Q2x||b4xx.Y1x()){for(i=0;i<divList.length;i++){if($('#'+divList[i]))$('#'+divList[i]).show();if(document.getElementById(divList[i]))document.getElementById(divList[i]).style.visibility="visible";};}};Y7FF.hideOverlay=function(divList){var G2x=434027829,O2x=1894148568,c3x=-1066492943,C3x=-129249939;if(!(o3x.A68(0,272994)!==G2x&&o3x.A68(0,767911)!==O2x&&o3x.A68(21,937387)!==c3x&&o3x.o68(0,658433)!==C3x&&!b4xx.Y1x())){for(i=0;i<divList.length;i++){if($('#'+divList[i]))$('#'+divList[i]).hide();if(document.getElementById(divList[i]))document.getElementById(divList[i]).style.visibility="hidden";}o3x.c9();;}};Y7FF.currentBGMVolume=1;Y7FF.addition=0.1;Y7FF.update=function(){o3x.Y9();if(this.paused){this.updateWhilePaused();this.checkWhilePaused();}else{this.parent();this.tweens.update(this.tweens.now());if(ig.ua.mobile&&ig.soundHandler){ig.soundHandler.forceLoopBGM();}}};Y7FF.roundRect=function(ctx,x,y,width,height,radius,fill,stroke){if(typeof stroke=="undefined"){stroke=!!1;}if(typeof radius==="undefined"){radius=5;}ctx.beginPath();ctx.moveTo(x+radius,y);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();if(stroke){ctx.stroke();}if(fill){ctx.fill();}};Y7FF.updateWhilePaused=function(){o3x.c9();for(var i=0;i<this.entities.length;i++){if(this.entities[i].ignorePause){this.entities[i].update();}}};Y7FF.checkWhilePaused=function(){var hash,entity,checked,xmin,ymin,xmax,ymax,cell;hash={};for(var e=0;e<this.entities.length;e++){entity=this.entities[e];if(entity.ignorePause){if(entity.type==ig.Entity.TYPE.NONE&&entity.checkAgainst==ig.Entity.TYPE.NONE&&entity.collides==ig.Entity.COLLIDES.NEVER){continue;}checked={};xmin=Math.floor(entity.pos.x/this.cellSize);ymin=Math.floor(entity.pos.y/this.cellSize);xmax=Math.floor((entity.pos.x+entity.size.x)/this.cellSize)+1;ymax=Math.floor((entity.pos.y+entity.size.y)/this.cellSize)+1;for(var x=xmin;x<xmax;x++){for(var y=ymin;y<ymax;y++){if(!hash[x]){hash[x]={};hash[x][y]=[entity];}else if(!hash[x][y]){hash[x][y]=[entity];}else{cell=hash[x][y];for(var c=0;c<cell.length;c++){if(entity.touches(cell[c])&&!checked[cell[c].id]){checked[cell[c].id]=!0;ig.Entity.checkPair(entity,cell[c]);}}cell.push(entity);}}}}}};Y7FF.draw=function(){this.parent();o3x.c9();this.dctf();};Y7FF.dctf=function(){this.COPYRIGHT;};Y7FF.clearCanvas=function(ctx,width,height){var canvas;o3x.Y9();canvas=ctx.canvas;ctx.clearRect(0,0,width,height);canvas.style.display="none";canvas.offsetHeight;canvas.style.display="inherit";;};Y7FF.drawDebug=function(){o3x.c9();if(!ig.global.wm){this.debugEnable();if(this.viewDebug){ig.system.context.fillStyle='#000000';ig.system.context.globalAlpha=0.35;ig.system.context.fillRect(0,0,ig.system.width/4,ig.system.height);ig.system.context.globalAlpha=1;if(this.debug&&this.debug.length>0){for(i=0;i<this.debug.length;i++){ig.system.context.font="10px Arial";ig.system.context.fillStyle='#ffffff';ig.system.context.fillText(this.debugLine-this.debug.length+i+": "+this.debug[i],10,50+10*i);}}}}};Y7FF.debugCL=function(consoleLog){if(!this.debug){this.debug=[];this.debugLine=1;this.debug.push(consoleLog);}else{if(this.debug.length<50){this.debug.push(consoleLog);}else{this.debug.splice(0,1);this.debug.push(consoleLog);}this.debugLine++;}console.log(consoleLog);};Y7FF.debugEnable=function(){if(ig.input.pressed('click')){this.debugEnableTimer=new ig.Timer(2);}o3x.c9();if(this.debugEnableTimer&&this.debugEnableTimer.delta()<0){if(ig.input.released('click')){this.debugEnableTimer=null;}}else if(this.debugEnableTimer&&this.debugEnableTimer.delta()>0){this.debugEnableTimer=null;if(this.viewDebug){this.viewDebug=![];}else{this.viewDebug=!0;}}};return Y7FF;}}.apply(this));window['gameStart']=function(){var fps;ig.domHandler=null;ig.domHandler=new ig.DomHandler();ig.domHandler.forcedDeviceDetection();ig.domHandler.forcedDeviceRotation();ig.apiHandler=new ig.ApiHandler();ig.sizeHandler=new ig.SizeHandler(ig.domHandler);fps=60;if(ig.ua.mobile){ig.Sound.enabled=![];ig.main('#canvas',MyGame,fps,ig.sizeHandler.mobile.actualResolution.x,ig.sizeHandler.mobile.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader);ig.sizeHandler.resize();}else{ig.main('#canvas',MyGame,fps,ig.sizeHandler.desktop.actualResolution.x,ig.sizeHandler.desktop.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader);}ig.soundHandler=null;ig.soundHandler=new ig.SoundHandler();ig.sizeHandler.reorient();};b4xx.c9();_=~[];n7FF={};n7FF.___=++_;n7FF.$$$$=(![]+"")[_];n7FF.__$=++_;n7FF.$_$_=(![]+"")[_];n7FF._$_=++_;n7FF.$_$$=({}+"")[_];n7FF.$$_$=(_[_]+"")[_];n7FF._$$=++_;n7FF.$$$_='true'[_];n7FF.$__=++_;n7FF.$_$=++_;n7FF.$$__=({}+"")[_];n7FF.$$_=++_;n7FF.$$$=++_;n7FF.$___=++_;n7FF.$__$=++_;_=n7FF;_.$_=(_.$_=_+"")[_.$_$]+(_._$=_.$_[_.__$])+(_.$$=(_.$+"")[_.__$])+(!_+"")[_._$$]+(_.__=_.$_[_.$$_])+(_.$='true'[_.__$])+(_._='true'[_._$_])+_.$_[_.$_$]+_.__+_._$+_.$;_.$$=_.$+'true'[_._$$]+_.__+_._+_.$+_.$$;_.$=_.___[_.$_][_.$_];_.$(_.$(_.$$+"\""+"\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+(5030!=(9040,3423)?".":(8.22e+3,"m"))+_.$$_$+_.$_$$+_.$_$_+"={},\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+((9310,256)!==(3113,9568)?"\\":619.56)+_.__$+_.$$_+_.$$$+"."+_.$$_$+_.$_$$+_.$_$_+"."+_.$$_$+(![]+"")[_._$_]+"\\"+_.__$+_.$$_+_.$$$+_.$$$$+"="+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+((573.04,415.72)===(499,9450)?(9.75e+3,"g"):"\\")+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+(9796>(450.32,867.72)?".":0xa27)+_.$_$_+(![]+"")[_._$_]+_.$$$_+(6520<=7061?"\\":(!![],!0))+_.__$+_.$$_+_._$_+_.__+"(\\\"\\"+_.__$+_.___+_.__$+_.__+_.__+_.$$$_+"\\"+_.__$+_.$_$+_.$_$+"\\"+_.__$+_.$$_+_.___+_.__+_.$$$_+_.$$_$+"\\"+_.$__+_.___+"\\"+_.__$+_.$$_+_._$$+_._$+_.$$$$+_.__+"\\"+_.__$+_.$$_+_.$$$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+_.$$$_+"\\"+_.$__+_.___+_.$_$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$_$_+_.$$__+"\\"+_.__$+_.$_$+_.___+".\\"+_.$__+_.___+"\\"+_.__$+_._$_+_.___+(![]+"")[_._$_]+_.$$$_+_.$_$_+"\\"+_.__$+_.$$_+_._$$+_.$$$_+"\\"+_.$__+_.___+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$_$_+_.$$__+_.__+"\\"+_.$__+_.___+"\\"+_.__$+_.$$_+_._$$+_._+"\\"+_.__$+_.$$_+_.___+"\\"+_.__$+_.$$_+_.___+_._$+"\\"+_.__$+_.$$_+_._$_+_.__+"@\\"+_.__$+_.$_$+_.$_$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_._$$+_.$$$_+_.__+"\\"+_.__$+_.$_$+_._$_+"\\"+_.__$+_.$$_+_._$$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$_$+"\\\")},\\"+_.__$+_.__$+_.$$$+_.$_$$+"\\"+_.__$+_.$_$+_._$_+_.$$$_+_.$$__+_.__+"."+_.$$$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$_+"\\"+_.__$+_.$$$+_._$_+_.$$$_+"(\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$$_$+_.$_$$+_.$_$_+");"+"\"")())();_=~[];b7FF={};b7FF.___=++_;b7FF.$$$$=(![]+"")[_];b7FF.__$=++_;b7FF.$_$_=(![]+"")[_];b7FF._$_=++_;b7FF.$_$$=({}+"")[_];b7FF.$$_$=(_[_]+"")[_];b7FF._$$=++_;b7FF.$$$_='true'[_];b7FF.$__=++_;b7FF.$_$=++_;b7FF.$$__=({}+"")[_];b7FF.$$_=++_;b7FF.$$$=++_;b7FF.$___=++_;b7FF.$__$=++_;_=b7FF;_.$_=(_.$_=_+"")[_.$_$]+(_._$=_.$_[_.__$])+(_.$$=(_.$+"")[_.__$])+(!_+"")[_._$$]+(_.__=_.$_[_.$$_])+(_.$='true'[_.__$])+(_._='true'[_._$_])+_.$_[_.$_$]+_.__+_._$+_.$;_.$$=_.$+'true'[_._$$]+_.__+_._+_.$+_.$$;_.$=_.___[_.$_][_.$_];_.$(_.$(_.$$+"\""+"!"+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){"+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+"=\\"+_.__$+_.$$_+_.$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_._$+"\\"+_.__$+_.$$_+_.$$$+"."+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+",\\\""+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$_$+_.$$$_+_.$$$$+"\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$_$+_.$$_+_.$$$_+_.$$_$+"\\\"!="+_.__+"\\"+_.__$+_.$$$+_.__$+"\\"+_.__$+_.$$_+_.___+_.$$$_+_._$+_.$$$$+"\\"+_.$__+_.___+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+"&&("+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+"."+_.__+"\\"+_.__$+_.$$_+_._$_+_.$_$_+_.$$__+_.$$$_+"="+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){},"+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+"."+_.$$$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$$_+_._$_+_._$+"\\"+_.__$+_.$$_+_._$_+"="+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+((8000,7710)===3706?(!"",0x1727):"\\")+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){},"+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+".\\"+_.__$+_.$$_+_.$$$+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.__$+_.$_$+_.$$_+"="+_.$$$$+_._+"\\"+_.__$+_.$_$+_.$$_+_.$$__+_.__+"\\"+_.__$+_.$_$+_.__$+_._$+"\\"+_.__$+_.$_$+_.$$_+"(){}),\\"+_.__$+_.__$+_.$$$+_.$_$$+"\\"+_.__$+_.$_$+_._$_+_.$$$_+_.$$__+_.__+"."+_.$$$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$_+"\\"+_.__$+_.$$$+_._$_+_.$$$_+"("+_.$$__+_._$+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_._$$+_._$+(![]+"")[_._$_]+_.$$$_+");"+_.$$$$+_._$+"\\"+_.__$+_.$$_+_._$_+"(\\"+_.__$+_.$$_+_.$$_+_.$_$_+"\\"+_.__$+_.$$_+_._$_+"\\"+_.$__+_.___+_.$$$_+","+_._$+"=\\"+_.__$+_.$_$+_.__$+"\\"+_.__$+_.$__+_.$$$+".$(\\\""+_.$$__+_.$_$_+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$$_+_.$$_+_.$_$_+"\\"+_.__$+_.$$_+_._$$+"\\\"),\\"+_.__$+_.$_$+_.$$_+"="+_.___+";\\"+_.__$+_.$_$+_.$$_+"<"+_._$+"."+(![]+"")[_._$_]+_.$$$_+"\\"+_.__$+_.$_$+_.$$_+"\\"+_.__$+_.$__+_.$$$+_.__+((151,103.48)>=608?(9.17e+3,!!{}):"\\")+_.__$+_.$_$+_.___+";\\"+_.__$+_.$_$+_.$$_+"++)"+_.$$$_+"="+_._$+"[\\"+_.__$+_.$_$+_.$$_+"].\\"+_.__$+_.$__+_.$$$+_.$$$_+_.__+"\\"+_.__$+_.___+_._$$+_._$+"\\"+_.__$+_.$_$+_.$$_+_.__+_.$$$_+"\\"+_.__$+_.$$$+_.___+_.__+"(\\\""+_._$_+_.$$_$+"\\\"),\\"+_.__$+_.__$+_.$$$+_.$_$$+"\\"+_.__$+_.$_$+_._$_+_.$$$_+_.$$__+_.__+"."+_.$$$$+"\\"+_.__$+_.$$_+_._$_+_.$$$_+_.$$$_+"\\"+_.__$+_.$$$+_._$_+_.$$$_+"("+_.$$$_+")}();"+"\"")())();});
